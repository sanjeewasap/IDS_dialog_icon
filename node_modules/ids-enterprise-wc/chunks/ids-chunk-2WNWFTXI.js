import{a as E}from"./ids-chunk-JS5OI342.js";import{a as A}from"./ids-chunk-DHQCPTJO.js";import{a as f}from"./ids-chunk-UV7FAVD2.js";import{a as g}from"./ids-chunk-J6DDVFGW.js";import{o as b}from"./ids-chunk-4TL64355.js";import{o as m,q as c}from"./ids-chunk-ODGLGMPF.js";import{a as l}from"./ids-chunk-N7RNTKMO.js";import{c as v}from"./ids-chunk-LCUXCSNZ.js";import{a as d,b as p}from"./ids-chunk-XE4WFW5M.js";import{a as s,b as r}from"./ids-chunk-EQJWBFQ2.js";import{a as u}from"./ids-chunk-U7OOVFXE.js";var y=`
.hide {
  display: none;
}

@media all and (max-width: 1440px) {
  .hide-xxl-down {
    display: none;
  }
}

@media all and (min-width: 1440px) {
  .hide-xxl-up {
    display: none;
  }
}

@media all and (max-width: 1280px) {
  .hide-xl-down {
    display: none;
  }
}

@media all and (min-width: 1280px) {
  .hide-xl-up {
    display: none;
  }
}

@media all and (max-width: 1024px) {
  .hide-lg-down {
    display: none;
  }
}

@media all and (min-width: 1024px) {
  .hide-lg-up {
    display: none;
  }
}

@media all and (max-width: 840px) {
  .hide-md-down {
    display: none;
  }
}

@media all and (min-width: 840px) {
  .hide-md-up {
    display: none;
  }
}

@media all and (max-width: 600px) {
  .hide-sm-down {
    display: none;
  }
}

@media all and (min-width: 600px) {
  .hide-sm-up {
    display: none;
  }
}

@media all and (max-width: 360px) {
  .hide-xs-down {
    display: none;
  }
}

@media all and (min-width: 360px) {
  .hide-xs-up {
    display: none;
  }
}

@media all and (max-width: 600px) {
  :host(.hide-sm-down) {
    display: none;
  }
}

.ids-popup-menu:not([hidden]) {
  display: block;
  z-index: var(--ids-z-index-60);
}`;var w=g(f(l(A(E)))),a=class extends w{container=null;constructor(){super()}static get attributes(){return[...super.attributes,s.ALIGN,s.MAX_HEIGHT,s.WIDTH]}template(){let t=super.template(),e=this.align?` align="${this.align}"`:"",i=this.maxHeight?` max-height="${this.maxHeight}"`:"";return`<ids-popup class="ids-popup-menu" type="menu"${e}${i}>${t}</ids-popup>`}connectedCallback(){super.connectedCallback(),this.hasAttribute(s.HIDDEN)||this.setAttribute(s.HIDDEN,""),this.hasAttribute(s.WIDTH)&&this.#i(this.getAttribute(s.WIDTH)),this.parentMenuItem&&(this.popupDelay=200,this.target=this.parentMenuItem,this.triggerType="hover",this.align="right, top"),this.setOnPlace(!!this.parentMenuItem)}disconnectedCallback(){super.disconnectedCallback?.(),this.hasOpenEvents&&this.hide(),this.#e()}renderFromData(){super.renderFromData(),this.attachEventHandlers(),this.attachKeyboardListeners()}vetoableEventTypes=["beforeshow"];setInitialFocus(){let t=this.focusTarget;t&&(t.highlight(),t.focus())}attachEventHandlers(){super.attachEventHandlers(),this.offEvent("pick"),this.onEvent("pick",this,t=>{this.visible&&(t.detail.elem?.group?.keepOpen||this.hideAndFocus())}),this.offEvent("show"),this.onEvent("show",this.container,t=>{this.hideOtherMenus(),this.parentMenuItem||this.triggerEvent("show",this,t),this.setInitialFocus()}),this.offEvent("hide"),this.onEvent("hide",this.container,t=>{this.parentMenuItem||this.triggerEvent("hide",this,t),this.#t?.disconnect()}),this.refreshTriggerEvents()}hideOtherMenus(){document.querySelector(".popupmenu.is-open")?.classList.remove("is-open"),document.querySelector("[data-popupmenu].is-open")?.classList.remove("is-open"),this.#t=new MutationObserver(n=>{n.forEach(o=>{o.target?.className==="is-open"&&this.hide()})}),document.querySelector("body")&&this.#t.observe(document.querySelector("body"),{attributes:!0,subtree:!0})}#t=void 0;attachKeyboardListeners(){super.attachKeyboardListeners(),this.unlisten("ArrowRight"),this.listen(["ArrowRight"],this,t=>{t.stopPropagation(),t.preventDefault();let e=t.target.closest("ids-menu-item");e.hasSubmenu&&e.showSubmenu()}),this.unlisten("ArrowLeft"),this.listen(["ArrowLeft"],this,t=>{t.stopPropagation(),t.preventDefault(),this.parentMenu&&this.hideAndFocus(!0)}),this.unlisten("Escape"),this.parentMenu||this.listen(["Escape"],this,t=>{this.hidden||(t.preventDefault(),t.stopPropagation(),this.hideAndFocus())})}get parentMenu(){return this.parentElement?.closest("ids-popup-menu")}set align(t){typeof t=="string"&&this.popup&&(this.popup.align=t)}get align(){return this.popup?.align||"top, left"}get visible(){return!!this.popup?.visible}hide(){this.popup?.visible&&(this.hidden=!0,this.#n(),this.lastHovered=void 0,this.popup.visible=!1,this.hideSubmenus(),this.removeOpenEvents(),this.#e())}#e(){this.#t&&(this.#t.disconnect(),this.#t=void 0)}show(){this.popup?.visible||this.triggerVetoableEvent("beforeshow")&&(this.refreshIconAlignment(),this.hidden=!1,this.#s(),this.hideSubmenus(),this.popup?.setAttribute("visible","true"),this.addOpenEvents())}#s(){this.popup?.querySelector("nav")?.setAttribute(r.ROLE,"menu");let t=[...this.querySelectorAll("ids-menu-item")];t.forEach((e,i)=>{e.a.setAttribute(r.ARIA_POSINSET,i+1),e.a.setAttribute(r.ARIA_SETSIZE,t.length)})}#n(){this.popup?.querySelector("nav")?.removeAttribute(r.ROLE)}showIfAble(){this.target?!this.target?.disabled&&!this.target?.hidden&&this.show():this.show()}hideSubmenus(t=void 0){let e=this.submenus,i;t?.hasSubmenu&&(i=t.submenu),e.forEach(n=>{let o=i&&i.isEqualNode(n);!n.hidden&&!o&&!n.contains(i)&&n.hide()})}hideAndFocus(t){this.hide(),(this.parentMenu&&t?this.parentMenuItem:this.target)?.focus()}get maxHeight(){return this.getAttribute(s.MAX_HEIGHT)}set maxHeight(t){let e=c(t);e?(this.setAttribute(s.MAX_HEIGHT,e),this.popup?.setAttribute(s.MAX_HEIGHT,e)):(this.removeAttribute(s.MAX_HEIGHT),this.popup?.removeAttribute(s.MAX_HEIGHT))}set width(t){let e=this.width,i=typeof t=="string"?v(t):"";e!==i&&(i.length?this.setAttribute(s.WIDTH,`${i}`):this.removeAttribute(s.WIDTH)),this.#i(i)}get width(){let t=this.container?.style.width;return t?.length?t:null}#i(t){t===null&&(t=""),this.container&&(this.container.style.width=t)}onOutsideClick(){this.hide()}onTriggerClick(t){return t.currentTarget!==window&&t.preventDefault(),t.button!==0||this.hidden&&this.showIfAble(),!0}onContextMenu(t){t.preventDefault(),t.stopPropagation(),this.hide(),this.popup?.setPosition(t.pageX,t.pageY),this.showIfAble(),this.setInitialFocus()}onTriggerImmediate(){window.requestAnimationFrame(()=>{this.showIfAble()})}onTriggerHover(){!this.target.disabled&&!this.target.hidden&&(this.parentMenuItem&&this.parentMenuItem?.menu?.hideSubmenus(this.target),this.showIfAble())}onCancelTriggerHover(t){let e=t.detail.mouseLeaveNode,i=m();i&&(!i.isEqualNode(e)||!this.contains(e))&&(this.hide(),e?.tagName==="IDS-MENU-ITEM"&&(e.highlight(),e.menu&&e.menu.hideSubmenus(e)))}onTriggerHoverClick(t){return t.preventDefault(),this.onTriggerClick(t)}setOnPlace(t){this.popup&&(t?(this.popup.scrollParentElem=this.parentMenu?.popup?.wrapper,this.popup.onPlace=e=>{let i=this.parentMenu&&this.parentMenu.popup;if(this.container&&i){this.container.removeAttribute("style");let n=10,o=(i.offsetLeft||0)-this.container.scrollParentElem.scrollLeft,h=(i.offsetTop||0)-this.container.scrollParentElem.scrollTop+n;e.x-=o,e.y-=h}return e}):this.popup.onPlace=b)}};a=u([d("ids-popup-menu"),p(y)],a);export{a};
