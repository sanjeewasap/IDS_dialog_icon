import{a as g}from"./ids-chunk-O3RQ3LS2.js";import{a as c,b as h}from"./ids-chunk-XE4WFW5M.js";import{e as l,f as n,h as u}from"./ids-chunk-QPDOZZIG.js";import{a as r}from"./ids-chunk-EQJWBFQ2.js";import{a as p}from"./ids-chunk-U7OOVFXE.js";var f=`
/* Ids Multi Select Component */ /* Ids Dropdown Component */
.validation-message {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  font-family: var(--ids-font-family-default);
  margin-top: var(--ids-space-30);
}
.validation-message.has-custom-icon {
  color: var(--ids-icon-color-default);
}
.validation-message.disabled {
  color: var(--ids-input-color-text-disabled);
}
.validation-message .ids-icon {
  margin-inline-end: var(--ids-space-30);
}
.validation-message.alert {
  color: var(--ids-color-caution-default);
}
.validation-message.alert.disabled {
  color: var(--ids-color-caution-30);
}
.validation-message.warning {
  color: var(--ids-color-warning-default);
}
.validation-message.warning.disabled {
  color: var(--ids-color-warning-30);
}
.validation-message.error {
  color: var(--ids-color-error-default);
}
.validation-message.error.disabled {
  color: var(--ids-color-error-30);
}
.validation-message.info {
  color: var(--ids-color-info-default);
}
.validation-message.info.disabled {
  color: var(--ids-color-info-30);
}
.validation-message.success {
  color: var(--ids-color-success-default);
}
.validation-message.success.disabled {
  color: var(--ids-color-success-30);
}

:host {
  display: block;
}
:host .ids-dropdown {
  display: inline-block;
  max-width: 100%;
}

ids-trigger-field[readonly-background]:not([disabled])::part(input) {
  cursor: var(--ids-cursor-pointer);
}

.ids-dropdown {
  display: block;
  position: relative;
}
.ids-dropdown ids-trigger-field[size=full] {
  display: block;
}
.ids-dropdown.full {
  display: block;
}
.ids-dropdown.full ids-trigger-field,
.ids-dropdown.full .ids-trigger-field {
  display: block;
}

.icon-container {
  color: var(--ids-dropdown-color-icon);
  margin: 0 0 0 var(--ids-dropdown-space-text);
  position: relative;
  top: 2px;
}

:host([mode=light]) .typeahead.is-open ids-trigger-field::part(field-container) {
  background-color: var(--ids-dropdown-typeahead-color-background);
}

:host([dir=rtl]) .icon-container {
  margin: 0 var(--ids-dropdown-space-text) 0 0;
}

::slotted(.sub-group) {
  border-top: 1px solid var(--ids-dropdown-separator-color-border);
  padding-top: var(--ids-dropdown-separator-padding);
}

.ids-dropdown.color-variant-borderless ids-trigger-field::part(field-container),
.ids-dropdown.color-variant-in-cell ids-trigger-field::part(field-container) {
  margin: 0;
  border-radius: 0;
}
.ids-dropdown.color-variant-borderless ids-trigger-field::part(label),
.ids-dropdown.color-variant-in-cell ids-trigger-field::part(label) {
  display: none;
}

.ids-dropdown.color-variant-borderless ids-trigger-field::part(container) {
  margin: 0;
}
.ids-dropdown.color-variant-borderless ids-trigger-field::part(field-container) {
  box-shadow: none !important;
}
.ids-dropdown.color-variant-borderless.field-height-lg ids-trigger-field::part(input) {
  padding-inline: 16px;
  height: 50px;
}
.ids-dropdown.color-variant-borderless.field-height-md ids-trigger-field::part(input) {
  padding-inline: 12px;
  height: 40px;
}
.ids-dropdown.color-variant-borderless.field-height-sm ids-trigger-field::part(input) {
  padding-inline: 8px;
  height: 35px;
}
.ids-dropdown.color-variant-borderless.field-height-xs ids-trigger-field::part(input) {
  padding-inline: 4px;
  height: 30px;
}

.ids-dropdown.color-variant-in-cell ids-trigger-field::part(container) {
  margin: 1px 0;
}

:host ids-dropdown-list {
  max-width: var(--ids-input-width-40);
}

:host([size=xs]) ids-dropdown-list {
  max-width: var(--ids-input-width-10);
}

:host([size=sm]) ids-dropdown-list {
  max-width: var(--ids-input-width-20);
}

:host([size=mm]) ids-dropdown-list {
  max-width: var(--ids-input-width-30);
}

:host([size=md]) ids-dropdown-list {
  max-width: var(--ids-input-width-40);
}

:host([size=lg]) ids-dropdown-list {
  max-width: var(--ids-input-width-50);
}

:host([size=full]) ids-dropdown-list {
  max-width: var(--ids-input-width-full);
}

:host ids-dropdown-list,
:host([size=full]) {
  width: var(--ids-input-width-full);
}

:host([list]:not([disabled])) {
  cursor: var(--ids-cursor-pointer);
}

.ids-checkbox {
  margin-bottom: 0;
}

ids-trigger-field ids-tag {
  align-self: center;
  display: flex;
  margin-top: 40px;
  margin-inline-start: 4px;
}
ids-trigger-field ids-tag[disabled]::part(tag) {
  cursor: var(--ids-cursor-default);
}

:host .has-value ids-trigger-field::part(content-area) {
  display: flex;
  width: calc(100% - 34px);
  flex-wrap: wrap;
}
:host .has-value ids-trigger-field::part(input) {
  padding: 0;
  flex: 1;
}
:host .has-value ids-trigger-field ids-text {
  max-width: 100%;
}
:host .has-value ids-trigger-field ids-text::part(text) {
  padding-inline-start: 8px;
}
:host .has-value ids-trigger-field[compact] ids-text::part(text), :host .has-value ids-trigger-field[field-height=xs] ids-text::part(text) {
  padding-inline-start: 4px;
  font-size: var(--ids-multiselect-font-size);
}

:host(:not([disabled])) .has-value ids-trigger-field::part(field-container) {
  cursor: var(--ids-cursor-pointer);
}`;var a=class extends g{constructor(){super()}connectedCallback(){super.connectedCallback(),this.resetDirtyTracker(),this.#l(),this.#a()}#t=[];#i=[];static get attributes(){return[...super.attributes,r.TAGS,r.MAX]}set disabled(t){this.tags&&this.input?.querySelectorAll("ids-tag")?.forEach(i=>{i.setAttribute("disabled","true")}),super.disabled=t}get disabled(){return super.disabled}set tags(t){let i=l(t);i!==this.tags&&(i?this.setAttribute(r.TAGS,"true"):(this.offEvent("beforetagremove.multiselect-tag"),this.setAttribute(r.TAGS,"false")))}get tags(){return l(this.getAttribute(r.TAGS))}set max(t){let i=n(t);i!==this.max&&(i?this.setAttribute(r.MAX,t):this.removeAttribute(r.MAX))}get max(){return n(this.getAttribute(r.MAX))}set value(t){let i=!0;!Array.isArray(t)||t.length>this.max||(t.forEach(s=>{this.dropdownList?.listBox?.querySelector(`ids-list-box-option[value="${s}"]`)||(i=!1)}),i&&(this.#t=t,this.container.value="",this.#s(),this.#r(),this.value===t&&this.triggerEvent("change",this,{bubbles:!0,detail:{elem:this,value:this.value}}),this.#t=t,this.container?.classList.toggle("has-value",t.length>0)))}get value(){return this.#t}attachClickEvent(){this.offEvent("click.multiselect-list-box"),this.dropdownList&&this.onEvent("click.multiselect-list-box",this.dropdownList.listBox,t=>{t.preventDefault();let i=t.target.nodeName==="IDS-LIST-BOX-OPTION"||t.target.closest("ids-list-box-option")?t.target.closest("ids-list-box-option")??t.target:null;this.#e(i)}),this.offEvent("click.multiselect-input"),this.list||this.onEvent("click.multiselect-input",this.input?.fieldContainer,t=>{t.stopPropagation(),t.target?.closest("ids-tag")||(this.labelClicked=!1,this.toggle(!0))}),this.tags&&(this.offEvent("beforetagremove.multiselect-tag"),this.onEvent("beforetagremove.multiselect-tag",this.input?.fieldContainer,t=>{this.#o(t)}))}attachKeyboardSelectionEvent(){this.listen([" ","Enter"],this,()=>{if(this.dropdownList?.popup?.visible){if(this.openedByKeyboard){this.openedByKeyboard=!1;return}this.#e(this.selected)}})}close(t){this.popup&&this.input&&(this.popup.visible=!1,this.input.active=!1),this.setAttribute("aria-expanded","false"),this.dropdownList?.listBox?.removeAttribute("tabindex"),this.selected&&this.deselectOption(this.selected),t||this.input?.focus(),this.value=this.#t,this.container?.classList.remove("is-open")}#o(t){this.value=this.#t.filter(i=>i!==t.target?.dataset.value),this.popup?.place()}#e(t){if(!t||t?.hasAttribute(r.GROUP_LABEL))return;let i=t.getAttribute("value"),s=this.#t.some(d=>i===d),e=t.querySelector("ids-checkbox"),o=this.max!==this.value.length;(s||o)&&(this.#t=s?this.#t.filter(d=>d!==i):[...this.#t,i],e&&(e.checked=!s),this.tags&&(this.#s(),this.popup?.place(),this.container?.classList.toggle("has-value",this.#t.length>0))),this.clearSelected(),this.selectOption(t)}#s(){let t=this.#i.filter(s=>this.#t.includes(s.value)),i=t.map(s=>s.label).join(", ");if(this.input?.querySelectorAll("ids-tag").forEach(s=>s.remove()),this.input?.querySelector("ids-text")?.remove(),this.tags){let s=t.map(e=>{let o=this.disabled?' disabled="true"':"";return`<ids-tag
          class="multiselect-tag"
          data-value="${e.value}"
          dismissible="true"
          ${o}
        >${e.label}</ids-tag>`}).join("");this.input?.insertAdjacentHTML("afterbegin",s)}else{this.input?.insertAdjacentHTML("afterbegin",`<ids-text overflow="ellipsis" tooltip="true">${i}</ids-text>`);let s=this.input?.querySelector("ids-text"),e=this.input?.fieldContainer;s?.beforeTooltipShow&&(s.beforeTooltipShow=o=>{o.popup.align="top, left",o.popup.alignTarget=e,o.target=e,o.popup.style?.setProperty("text-align","center"),e?.clientWidth&&(o.popup.width=`${e.clientWidth-14}px`)})}this.input&&(this.input.value=i)}#r(){if(!this.dropdownList?.listBox)return;let t=this.#i.filter(e=>this.#t.includes(e.value)).map(e=>({...e,selected:!0})),i=this.#i.filter(e=>!this.#t.includes(e.value)).map((e,o)=>({...e,border:o===0&&t.length!==0,selected:!1})).sort((e,o)=>e.index-o.index);this.dropdownList.listBox.innerHTML="";let s=[...t,...i].filter((e,o,d)=>!(e.groupLabel&&(d[o+1]?.groupLabel||!d[o+1]))).map(e=>this.#d(e)).join("");this.dropdownList.listBox.insertAdjacentHTML("afterbegin",s)}#d(t){return`
      <ids-list-box-option
        ${u(!t.groupLabel&&"multiselect-option",t.border&&"multiselect-border")}
        ${t.id?`id=${t.id}`:""}
        ${t.value?`value="${t.value}"`:""}
        ${t.groupLabel?"group-label":""}
      >${t.icon?`<ids-icon icon="${t.icon}"></ids-icon>`:""}${t.groupLabel?t.label:`
        <ids-checkbox
          no-margin
          class="justify-center multiselect-checkbox"
          label="${t.label}"
          checked="${t.selected}"
        ></ids-checkbox>
      `}</ids-list-box-option>`}#a(){this.options.forEach(t=>{let i=t.querySelector("ids-checkbox");t.hasAttribute("selected")&&(this.#t.push(t.getAttribute("value")),i&&(i.checked=!0)),i?.setAttribute("no-margin",""),i?.classList.add("justify-center","multiselect-checkbox"),t.classList.add("multiselect-option")}),this.value=this.#t}#l(){this.#i=[...this.options].map((t,i)=>({id:t?.id,label:t?.textContent?.trim()||t?.querySelector("ids-checkbox")?.label||"",value:t?.getAttribute(r.VALUE)??"",groupLabel:t?.hasAttribute(r.GROUP_LABEL),selected:t?.hasAttribute("selected"),icon:t?.querySelector("ids-icon")?.icon,index:i}))}};a=p([c("ids-multiselect"),h(f)],a);var T=a;export{T as a};
