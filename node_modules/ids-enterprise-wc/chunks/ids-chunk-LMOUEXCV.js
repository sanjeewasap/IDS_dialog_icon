import{a as n}from"./ids-chunk-OIS6KGMU.js";import{a as e}from"./ids-chunk-EQJWBFQ2.js";var i={NONE:"none",CLIENT_SIDE:"client-side",SERVER_SIDE:"server-side",STANDALONE:"standalone"},g=s=>class extends s{#t;datasource=new n;constructor(...t){super(...t)}set pager(t){this.#t=t;let a=Math.max(this.pageNumber||1,1),r=Math.max(this.pageSize||0,1);this.datasource.pageSize=r,this.pager.innerHTML=this.pagerTemplate(),this.pager.total=this.datasource.total,this.pager.pageNumber=a,this.pager.pageSize=r,this.#a()}get pager(){return this.#t||this.querySelector("ids-pager")||document.createElement("ids-pager")}static get attributes(){return[...s.attributes,e.PAGINATION,e.PAGE_NUMBER,e.PAGE_SIZE,e.PAGE_TOTAL]}attributeChangedCallback(t,a,r){if(super.attributeChangedCallback(t,a,r),a===r)return;[e.PAGE_NUMBER,e.PAGE_SIZE,e.PAGE_TOTAL,e.PAGINATION].includes(t)&&this.connectedCallback()}connectedCallback(){super.connectedCallback?.(),this.#e()}pagerTemplate(){return`
      <ids-pager-button first></ids-pager-button>
      <ids-pager-button previous></ids-pager-button>
      <ids-pager-input></ids-pager-input>
      <ids-pager-button next></ids-pager-button>
      <ids-pager-button last></ids-pager-button>
      <ids-pager-dropdown slot="end" page-size="${Math.max(this.pageSize||0,1)}"></ids-pager-dropdown>
    `}paginate(t=1,a=10){return this.datasource.paginate(t,a)}set pagination(t){this.setAttribute(e.PAGINATION,t)}get pagination(){return this.getAttribute(e.PAGINATION)||i.NONE}set pageNumber(t){this.setAttribute(e.PAGE_NUMBER,String(t)),this.pager.pageNumber=t,this.datasource.pageNumber=t}get pageNumber(){return parseInt(this.getAttribute(e.PAGE_NUMBER)||"")||this.pager.pageNumber||1}set pageSize(t){this.setAttribute(e.PAGE_SIZE,String(t)),this.pager.pageSize=Number(t),this.datasource.pageSize=Number(t)}get pageSize(){return parseInt(this.getAttribute(e.PAGE_SIZE)||"")||this.pager.pageSize||1}set pageTotal(t){this.setAttribute(e.PAGE_TOTAL,String(t)),this.pager.total=t,this.datasource.total=t}get pageTotal(){return parseInt(this.getAttribute(e.PAGE_TOTAL)||"")||this.datasource.total}#e(){if(!this.pagination||this.pagination===i.NONE){this.pager.remove();return}if(this.pagination===i.STANDALONE)return;if(!(this.querySelector("ids-pager")||this.shadowRoot?.querySelector("ids-pager"))){let a=this.pager;this.pager=a,this.container?.after(this.pager)}}#a(){this.offEvent("pagenumberchange",this.pager),this.onEvent("pagenumberchange",this.pager,t=>{this.pageNumber=Number(t.detail.value)}),this.offEvent("pagesizechange",this.pager),this.onEvent("pagesizechange",this.pager,t=>{this.pageSize=Number(t.detail.value)})}},b=g;export{b as a};
