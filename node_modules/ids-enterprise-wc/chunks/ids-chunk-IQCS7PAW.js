import{a as T}from"./ids-chunk-RFUVLFMD.js";import{a as E}from"./ids-chunk-2HJWXBLG.js";import{a as v}from"./ids-chunk-IHD62SUD.js";import{d as m}from"./ids-chunk-ODGLGMPF.js";import{a as b}from"./ids-chunk-T6ZV4PDM.js";import{a as f}from"./ids-chunk-RRSHSZ55.js";import{a as d}from"./ids-chunk-AKCO43TX.js";import{a as h,b as c}from"./ids-chunk-XE4WFW5M.js";import{a as u}from"./ids-chunk-GFV2Z7F5.js";import{a as r,b as l}from"./ids-chunk-EQJWBFQ2.js";import{a as o}from"./ids-chunk-U7OOVFXE.js";var p=T(f(b(d(u)))),a=class extends p{constructor(){super()}connectedCallback(){super.connectedCallback(),this.setAttribute(l.ROLE,"tablist"),this.#a(),this.#l(),this.#h(),this.#s.observe(this.container);let t=this.querySelector("[selected]")||this.querySelector("[value]");this.#t(t),this.#c()}disconnectedCallback(){super.disconnectedCallback?.(),this.#s.disconnect()}static get attributes(){return[...super.attributes,r.VALUE]}template(){return`<div class="ids-tabs-container">
      <div class="ids-tabs-list">
        <slot></slot>
      </div>
      <div class="ids-tabs-list-more">
        <slot name="fixed"></slot>
      </div>
    </div>`}#s=new ResizeObserver(t=>{for(let e of t)e.target.classList.contains("ids-tabs-container")&&this.#i()});#i(){this.#o()}colorVariants=["alternate","module"];#e="";set value(t){let e=this.#e;this.hasTab(t)&&e!==t?(this.#e=t,this.setAttribute(r.VALUE,t),this.#t(this.querySelector(`ids-tab[value="${t}"]`)),this.triggerEvent("change",this,{bubbles:!1,detail:{elem:this,value:t}})):this.setAttribute(r.VALUE,this.value)}get value(){return this.#e}get tabListContainer(){return this.container?.querySelector(".ids-tabs-list")}get moreContainer(){return this.container?.querySelector(".ids-tabs-list-more")}get tabListElements(){return this.container?.querySelector("slot:not([name])")?.assignedElements()}get lastTab(){return[...this.querySelectorAll("ids-tab")].pop()}get lastNavigableTab(){return[...this.querySelectorAll("ids-tab[value]:not([actionable]):not([disabled]):not([overflowed])")].pop()}hasTab(t){return this.querySelector(`ids-tab[value="${t}"]`)!==null}#l(){let t=!1,e=this.host||this.parentNode;for(;!t&&e;){if(e instanceof v){t=!0;break}if(e.tagName==="BODY")break;e=e.host||e.parentNode}t&&(this.colorVariant="alternate")}#h(){let t=i=>{this.nextTab(i.target.closest("ids-tab, ids-tab-more")).focus(),this.tabListContainer&&(this.tabListContainer.scrollLeft=0)},e=i=>{this.prevTab(i.target.closest("ids-tab, ids-tab-more")).focus(),this.tabListContainer&&(this.tabListContainer.scrollLeft=0)};this.listen("ArrowLeft",this,e),this.listen("ArrowRight",this,t),this.listen("ArrowUp",this,e),this.listen("ArrowDown",this,t),this.listen("Home",this,()=>{this.children[0]?.focus()}),this.listen("End",this,()=>{this.children[this.children.length-1]?.focus()}),this.listen("Enter",this,i=>{let s=i.target;s&&(s.tagName==="IDS-TAB"&&this.#t(s),s.tagName==="IDS-TAB-MORE"&&(s.menu.visible?(s.menu.hide(),s.focus()):s.menu.showIfAble()))});let n=i=>{let s=i.target;s&&s.tagName==="IDS-TAB"&&this.#r(s)};this.listen("Delete",this,n),this.listen("Backspace",this,n),this.onEvent("tabselect",this,i=>{let s=i.target;s&&s.tagName==="IDS-TAB"&&this.#t(s)}),this.onEvent("click.tabs",this,i=>{let s=i.target;if(s&&(s.tagName==="IDS-TAB"&&(s.disabled||this.#t(s)),s.tagName==="IDS-TRIGGER-BUTTON")){i.stopPropagation();let g=m(s,"ids-tab");this.#r(g)}}),this.onEvent("tabremove",this,i=>{i.detail.elem.remove()}),this.onEvent("focusin.tabs",this,i=>{let s=i.target;s&&s.tagName==="IDS-TAB"&&s.focus()})}#c(){this.onEvent("slotchange",this.container,()=>{this.#a(),this.#o(),this.#n()})}#a(){this.querySelector("ids-tab-more")?.setAttribute("slot","fixed")}nextTab(t){let e=t.nextElementSibling;return e&&(!e.tagName.includes("IDS-TAB")||e.tagName.includes("IDS-TAB-DIVIDER")||e.disabled||e.hasAttribute("overflowed"))?this.nextTab(e):(e||(e=this.children[0]),e)}prevTab(t){let e=t.previousElementSibling;return e&&(!e.tagName.includes("IDS-TAB")||e.tagName.includes("IDS-TAB-DIVIDER")||e.disabled||e.hasAttribute("overflowed"))?this.prevTab(e):(e||(e=this.children[this.children.length-1]),e)}#t(t){if(t){if(t.actionable){typeof t.onAction=="function"&&t.onAction(t.selected);return}if(!t.selected){let e=this.querySelector("[selected]");(!e||e&&t!==e)&&(t.selected=!0,this.value=t.value,e&&(e.selected=!1))}}}#r(t){t&&(t.dismiss(),this.#n())}#n(){this.hasTab(this.value)||this.#t(this.lastNavigableTab||this.lastTab)}#o(){let t=this.querySelector("ids-tab-more");t&&(t.renderOverflowedItems(),t.refreshOverflowedItems(),this.container?.classList[t.hidden?"remove":"add"]("has-more-actions"))}onColorVariantRefresh(){[...this.querySelectorAll("ids-tab, ids-tab-more")].forEach(e=>{e.colorVariant=this.colorVariant})}onOrientationRefresh(){[...this.querySelectorAll("ids-tab, ids-tab-more")].forEach(e=>{e.orientation=this.orientation}),this.#i()}};a=o([h("ids-tabs"),c(E)],a);export{a};
