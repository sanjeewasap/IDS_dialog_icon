import{a as c}from"./ids-chunk-34TUNV43.js";import{a as v}from"./ids-chunk-7FCCB57Y.js";import{b as h}from"./ids-chunk-NZGHOKVC.js";import{a as p}from"./ids-chunk-N7RNTKMO.js";import{a as u}from"./ids-chunk-T6ZV4PDM.js";import{a,b as d}from"./ids-chunk-XE4WFW5M.js";import{e as n}from"./ids-chunk-QPDOZZIG.js";import{a as i}from"./ids-chunk-EQJWBFQ2.js";import{a as r}from"./ids-chunk-U7OOVFXE.js";var b=`
/* Ids Dropdown Component */
.validation-message {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  font-family: var(--ids-font-family-default);
  margin-top: var(--ids-space-30);
}
.validation-message.has-custom-icon {
  color: var(--ids-icon-color-default);
}
.validation-message.disabled {
  color: var(--ids-input-color-text-disabled);
}
.validation-message .ids-icon {
  margin-inline-end: var(--ids-space-30);
}
.validation-message.alert {
  color: var(--ids-color-caution-default);
}
.validation-message.alert.disabled {
  color: var(--ids-color-caution-30);
}
.validation-message.warning {
  color: var(--ids-color-warning-default);
}
.validation-message.warning.disabled {
  color: var(--ids-color-warning-30);
}
.validation-message.error {
  color: var(--ids-color-error-default);
}
.validation-message.error.disabled {
  color: var(--ids-color-error-30);
}
.validation-message.info {
  color: var(--ids-color-info-default);
}
.validation-message.info.disabled {
  color: var(--ids-color-info-30);
}
.validation-message.success {
  color: var(--ids-color-success-default);
}
.validation-message.success.disabled {
  color: var(--ids-color-success-30);
}

:host ids-popup {
  max-width: var(--ids-input-width-40);
}

:host([size=xs]) ids-popup {
  max-width: var(--ids-input-width-10);
}

:host([size=sm]) ids-popup {
  max-width: var(--ids-input-width-20);
}

:host([size=mm]) ids-popup {
  max-width: var(--ids-input-width-30);
}

:host([size=md]) ids-popup {
  max-width: var(--ids-input-width-40);
}

:host([size=lg]) ids-popup {
  max-width: var(--ids-input-width-50);
}

:host([size=full]) ids-popup {
  max-width: var(--ids-input-width-full);
}

:host ids-popup,
:host([size=full]) {
  width: 100%;
}`;var g=v(p(h(u(c)))),l=class extends g{isMultiSelect;listBox;constructor(){super()}static get attributes(){return[...super.attributes]}template(){return`<ids-popup class="ids-dropdown-list" type="menu" part="dropdown-list" y="-1">
      <slot slot="content"></slot>
    </ids-popup>`}connectedCallback(){super.connectedCallback(),this.configurePopup(),this.attachEventHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.listBox=null}onHide(){this.setAriaOnMenuClose()}onShow(){this.configurePopup(),this.setAriaOnMenuOpen(),this.value&&this.selectOption(this.value)}onTargetChange(){let t=this.getAttribute(i.ID);t&&this.target?.setAttribute(i.LIST,`#${t}`)}attachEventHandlers(){this.offEvent("click.dropdown-list-box"),this.onEvent("click.dropdown-list-box",this,t=>{let e=t.target;if(e&&e.nodeName!=="IDS-LIST-BOX-OPTION"&&(e=e.closest("ids-list-box-option")),e){if(e.hasAttribute(i.GROUP_LABEL))return;this.value=e.getAttribute(i.VALUE)||"",this.triggerSelectedEvent()}})}addOpenEvents(){super.addOpenEvents(),this.listen(["ArrowDown","ArrowUp"],this,t=>{t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault();let e=this.selected,s=e?.nextElementSibling,o=e?.previousElementSibling;if(t.key==="ArrowUp"&&t.altKey){this.isMultiSelect||(this.value=e?.getAttribute(i.VALUE)||""),this.triggerCloseEvent(!0);return}if(t.key==="ArrowDown"&&s){if(s.hasAttribute(i.GROUP_LABEL)&&!s.nextElementSibling)return;this.deselectOption(e),this.selectOption(s.hasAttribute(i.GROUP_LABEL)?s.nextElementSibling:s)}if(t.key==="ArrowUp"&&o){if(o.hasAttribute(i.GROUP_LABEL)&&!o.previousElementSibling)return;this.deselectOption(e),this.selectOption(o.hasAttribute(i.GROUP_LABEL)?o.previousElementSibling:o)}}),this.listen(["Escape"],this,()=>{this.triggerCloseEvent(!0)}),this.isMultiSelect||this.listen([" ","Enter"],this,t=>{if(t.stopPropagation(),t.key===" "&&this.typeahead)return;if(!this.popup?.visible){this.triggerOpenEvent();return}let e=this.selected?.getAttribute(i.VALUE)||"";this.value=e,this.triggerSelectedEvent()})}removeOpenEvents(){super.removeOpenEvents(),this.unlisten(" "),this.unlisten("Enter")}triggerSelectedEvent(t){let e;if(t?e=t:e={bubbles:!0,detail:{elem:this,label:this.selected?.textContent,value:this.value}},this.target){let s=new CustomEvent("selected",e);this.target.dispatchEvent(s)}}triggerOpenEvent(){this.triggerEvent("open.dropdown-list",this,{bubbles:!0,detail:{elem:this}})}triggerCloseEvent(t){this.triggerEvent("close.dropdown-list",this,{bubbles:!0,detail:{elem:this,operation:t?"cancel":"default"}})}configurePopup(){if(this.listBox=this.querySelector("ids-list-box"),this.listBox||this.children[0]?.tagName==="SLOT"&&(this.listBox=this.children[0].assignedElements()?.[0]),this.listBox&&this.compact&&!this.listBox?.hasAttribute(i.COMPACT)&&this.listBox.setAttribute(i.COMPACT,"true"),this.size==="full"&&this.target&&!this.parentElement?.classList.contains("ids-dropdown")){let t=`${this.target.clientWidth}px`;this.style.width=t,this.popup&&(this.popup.style.maxWidth=t,this.popup.style.width=t)}this.popup&&(this.popup.type="dropdown",this.popup.align="bottom, left",this.popup.arrow="none",this.popup.visible?this.popup.visible&&this.popup.setPosition(0,-1,!1,!0):(this.popup.y=-1,this.popup.x=0,this.setAriaOnMenuClose()))}setAriaOnMenuOpen(){this.setAttribute("aria-expanded","true");let t=this.selectedOption||this.querySelector("ids-list-box-option:not([group-label])");this.listBox?.setAttribute("tabindex","0"),t&&this.value&&this.selectOption(t)}setAriaOnMenuClose(){this.setAttribute("aria-expanded","false"),this.listBox?.removeAttribute("tabindex");let t=this.selected;t&&this.deselectOption(t)}get options(){return this.querySelectorAll("ids-list-box-option")}get selectedOption(){return this.querySelector(`ids-list-box-option[value="${this.value}"]`)}get selected(){return this.children[0]?.tagName==="SLOT"?this.listBox?.querySelector("ids-list-box-option.is-selected")||null:this.querySelector("ids-list-box-option.is-selected")||null}set typeahead(t){let e=n(t);e?this.setAttribute(i.TYPEAHEAD,String(e)):this.removeAttribute(i.TYPEAHEAD),this.container?.classList.toggle("typeahead",e)}get typeahead(){return n(this.getAttribute(i.TYPEAHEAD))}set value(t){let e=`ids-list-box-option[value="${t}"]`;(t===" "||!t)&&(e="ids-list-box-option:not([value])");let s=this.listBox?.querySelector(e);s&&(this.clearSelected(),this.selectOption(s),this.setAttribute(i.VALUE,String(t)))}get value(){return this.getAttribute(i.VALUE)}clearSelected(){let t=this.listBox?.querySelector("ids-list-box-option[aria-selected]");this.deselectOption(t)}getOption(t){return this.listBox?.querySelector(`ids-list-box-option[value="${t}"]`)}selectOption(t){if(!this?.popup?.visible)return;let e;typeof t=="string"?e=this.getOption(t):e=t,e&&(e.setAttribute("aria-selected","true"),e.classList.add("is-selected"),e.setAttribute("tabindex","0"),e.focus(),e.id&&this.listBox?.setAttribute("aria-activedescendant",e.id),typeof e.scrollIntoView=="function"&&e.scrollIntoView({block:"center"}))}deselectOption(t){t?.removeAttribute("aria-selected"),t?.classList.remove("is-selected"),t?.setAttribute("tabindex","-1")}onAllowBlankChange(t){t?this.insertBlank():this.removeBlank()}onClearableTextChange(){this.allowBlank&&this.insertBlank()}insertBlank(){let t=this.listBox,e=`<ids-list-box-option value="blank" aria-label="Blank">${this.clearableText??"&nbsp;"}</ids-list-box-option>`;this.removeBlank(),t?.insertAdjacentHTML("afterbegin",e)}removeBlank(){this.getOption("blank")?.remove()}configureBlank(){this.allowBlank?this.insertBlank():this.removeBlank()}onFieldHeightChange(t){let e=t===i.COMPACT?{name:i.COMPACT,val:""}:{name:i.FIELD_HEIGHT,val:t};t?this.listBox?.setAttribute(e.name,e.val):(this.listBox?.removeAttribute(i.COMPACT),this.listBox?.removeAttribute(i.FIELD_HEIGHT))}onSizeChange(t){t?this.listBox?.setAttribute(i.SIZE,t):this.listBox?.removeAttribute(i.SIZE)}};l=r([a("ids-dropdown-list"),d(b)],l);export{l as a};
