import{a as d}from"./ids-chunk-BJJNT5OH.js";import{a as h}from"./ids-chunk-AKCO43TX.js";import{a as l,b as g}from"./ids-chunk-XE4WFW5M.js";import{a as b}from"./ids-chunk-GFV2Z7F5.js";import{e as p,f as n}from"./ids-chunk-QPDOZZIG.js";import{a as e}from"./ids-chunk-EQJWBFQ2.js";import{a as u}from"./ids-chunk-U7OOVFXE.js";var o=class extends h(b){DEFAULT_STEP=3;DEFAULT_PAGE_SIZE=10;constructor(){super()}get elements(){return{buttons:{first:this.querySelector("ids-pager-button[first]"),previous:this.querySelector("ids-pager-button[previous]"),next:this.querySelector("ids-pager-button[next]"),last:this.querySelector("ids-pager-button[last]")},input:this.querySelector("ids-pager-input"),slots:{start:this.container?.querySelector(".pager-section.start slot"),middle:this.container?.querySelector(".pager-section.middle slot"),end:this.container?.querySelector(".pager-section.end slot")},dropdowns:this.querySelectorAll("ids-pager-dropdown")}}static get attributes(){return[e.DISABLED,e.STEP,e.TOTAL,e.TYPE,e.PAGE_COUNT,e.PAGE_SIZE,e.PAGE_NUMBER]}attributeChangedCallback(s,t,i){super.attributeChangedCallback(s,t,i),[e.DISABLED,e.PAGE_NUMBER,e.PAGE_SIZE,e.STEP,e.TOTAL,e.TYPE].includes(s)&&t!==i&&(this.connectedCallback(),this.#t(s,i))}template(){switch(this.type){case"list":return this.templatePagerList();default:return this.templatePagerButtons()}}templatePagerButtons(){return`
      <div class="ids-pager">
        <section class="pager-section start"><slot name="start"></slot></section>
        <section class="pager-section middle" role="navigation"><slot></slot></section>
        <section class="pager-section end"><slot name="end"></slot></section>
      </div>
    `}templatePagerList(){return`
      <div class="ids-pager">
        <ids-pager-button label="Previous page" previous></ids-pager-button>
        <ids-pager-number-list
          label="Page {num} of {total}"
          page-number="${this.pageNumber}"
          page-size="${this.pageSize}"
          total="${this.total}"
          step="${this.step}"
        >
        </ids-pager-number-list>
        <ids-pager-button label="Next page" next></ids-pager-button>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.offEvent("pagenumberchange",this),this.onEvent("pagenumberchange",this,s=>{let t=n(s.detail.value);!Number.isNaN(t)&&t!==this.pageNumber&&(this.pageNumber=Number(s.detail.value))}),this.offEvent("pagesizechange",this),this.onEvent("pagesizechange",this,s=>{this.pageSize=Number(s.detail.value)})}#t(s,t){let i=["ids-pager-input","ids-pager-number-list","ids-pager-button","ids-pager-dropdown"].join(", ");[...this.shadowRoot?.querySelectorAll(i)||[],...this.querySelectorAll(i)].forEach(a=>{a.setAttribute(s,t)})}set disabled(s){let t=p(s);t&&!this.hasAttribute(e.DISABLED)?(this.setAttribute(e.DISABLED,""),this.#t(e.PARENT_DISABLED,!0)):!t&&this.hasAttribute(e.DISABLED)&&(this.removeAttribute(e.DISABLED),this.#t(e.PARENT_DISABLED,!1))}get disabled(){return this.hasAttribute(e.DISABLED)}set pageSize(s){let t=this.#e(s);this.setAttribute(e.PAGE_SIZE,String(t)),this.#s()}get pageSize(){return this.#e(this.getAttribute(e.PAGE_SIZE))}#e(s){let t=n(s);return!Number.isNaN(t)&&t>0?t:this.DEFAULT_PAGE_SIZE}set pageNumber(s){let t=this.pageNumber,i=this.pageCount,r=n(s);(r!==t||t<1||i&&i<t)&&(Number.isNaN(r)||r<1?r=1:i&&(r=Math.min(r,i)),this.setAttribute(e.PAGE_NUMBER,String(r)))}get pageNumber(){return Math.max(parseInt(this.getAttribute(e.PAGE_NUMBER)??"")||1,1)}get pageCount(){return this.total!==null&&!Number.isNaN(this.total)?Math.ceil(this.total/this.pageSize):null}set step(s){let t=n(s);if(!Number.isNaN(t)){this.setAttribute(e.STEP,String(t));return}this.removeAttribute(e.STEP)}get step(){let s=n(this.getAttribute(e.STEP));return Number.isNaN(s)?this.DEFAULT_STEP:s}set total(s){let t=n(s);(Number.isNaN(t)||t<1)&&(t=1),this.setAttribute(e.TOTAL,String(t)),this.#s()}get total(){return n(this.getAttribute(e.TOTAL))}set type(s){this.setAttribute(e.TYPE,s)}get type(){return this.getAttribute(e.TYPE)}sync(){let s=["total","pageNumber","pageSize"],t=i=>typeof i<"u"&&i!==null;s.forEach(i=>{let r=this.pager,a=this.datasource,c=t(r?.[i])&&t(a?.[i]);this.initialized&&c&&r[i]!==a[i]&&(r[i]=a[i])})}#s(){let s=Number.parseInt(this.getAttribute(e.PAGE_NUMBER)??""),t=s;Number.isNaN(t)||t<=1?t=1:this.pageCount&&t>this.pageCount&&(t=this.pageCount),this.elements.dropdowns.forEach(i=>{i.pageSize!==this.pageSize&&(i.pageSize=this.pageSize)}),t!==s&&!Number.isNaN(s)&&this.setAttribute(e.PAGE_NUMBER,String(t))}};o=u([l("ids-pager"),g(d)],o);export{o as a};
