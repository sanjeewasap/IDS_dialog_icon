import{a as I,c as v,d as m,e as b,f as B,g as L,h as N,i as u,j as M,k as H,l as C,m as x,n as y}from"./ids-chunk-4TL64355.js";import{c as k,d as T,j as R,l as V,q as S}from"./ids-chunk-ODGLGMPF.js";import{a as X}from"./ids-chunk-N7RNTKMO.js";import{c as P}from"./ids-chunk-LCUXCSNZ.js";import{a as D}from"./ids-chunk-AKCO43TX.js";import{a as z,b as G}from"./ids-chunk-XE4WFW5M.js";import{a as _}from"./ids-chunk-GFV2Z7F5.js";import{a as Y,e as A}from"./ids-chunk-QPDOZZIG.js";import{a}from"./ids-chunk-EQJWBFQ2.js";import{a as O}from"./ids-chunk-U7OOVFXE.js";var W=`
/* Ids Popup Component */
:host {
  display: block;
  z-index: var(--ids-z-index-60);
  text-align: unset;
}

:host([position-style=absolute]) {
  position: absolute;
}

:host([position-style=fixed]) {
  position: fixed;
}

:host([position-style=viewport]) {
  position: static;
}

:host(:not([visible])) {
  pointer-events: none;
}

:host([visible][animated]) {
  transition: left var(--ids-motion-duration) var(--ids-motion-linear), top var(--ids-motion-duration) var(--ids-motion-linear);
}

.ids-popup {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
}
.ids-popup:not(.open) {
  pointer-events: none;
}
.ids-popup .arrow {
  border-width: var(--ids-popup-arrow-size);
  display: none;
  position: absolute;
}
.ids-popup .arrow.bottom, .ids-popup .arrow.left, .ids-popup .arrow.right, .ids-popup .arrow.top {
  border-style: solid;
  border-color: transparent;
  display: block;
  height: 0;
  width: 0;
}
.ids-popup .arrow::after {
  border-style: solid;
  border-color: transparent;
  border-width: var(--ids-popup-arrow-size);
  content: "";
  display: block;
  position: relative;
}
.ids-popup .arrow.bottom {
  border-top-width: 0;
  left: calc(50% - var(--ids-popup-arrow-size));
  top: calc(var(--ids-popup-arrow-size) * -1);
}
.ids-popup .arrow.bottom::after {
  border-top-width: 0;
  left: calc(var(--ids-popup-arrow-size) * -1);
  top: 1px;
}
.ids-popup .arrow.left {
  border-right-width: 0;
  right: calc(var(--ids-popup-arrow-size) * -1);
  top: calc(50% - var(--ids-popup-arrow-size));
}
.ids-popup .arrow.left::after {
  border-right-width: 0;
  left: calc(var(--ids-popup-arrow-size) * -1);
  top: calc(var(--ids-popup-arrow-size) * -1);
}
.ids-popup .arrow.right {
  border-left-width: 0;
  left: calc(var(--ids-popup-arrow-size) * -1);
  top: calc(50% - var(--ids-popup-arrow-size));
}
.ids-popup .arrow.right::after {
  border-left-width: 0;
  left: 1px;
  top: calc(var(--ids-popup-arrow-size) * -1);
}
.ids-popup .arrow.top {
  border-bottom-width: 0;
  bottom: calc(var(--ids-popup-arrow-size) * -1 + 1px);
  left: calc(50% - var(--ids-popup-arrow-size));
}
.ids-popup .arrow.top::after {
  border-bottom-width: 0;
  left: calc(var(--ids-popup-arrow-size) * -1);
  top: calc(var(--ids-popup-arrow-size) * -1);
}
.ids-popup.animated {
  transition: opacity var(--ids-motion-duration) var(--ids-motion-linear), transform var(--ids-motion-duration) var(--ids-motion-linear);
}
.ids-popup.animated.open {
  transition: opacity var(--ids-motion-duration) var(--ids-motion-linear), height var(--ids-motion-duration) var(--ids-motion-linear), width var(--ids-motion-duration) var(--ids-motion-linear), transform var(--ids-motion-duration) var(--ids-motion-linear);
}
.ids-popup.animation-fade {
  opacity: 0;
}
.ids-popup.animation-fade.open {
  opacity: 1;
}
.ids-popup.animation-scale-in {
  opacity: 0;
  transform-style: preserve-3d;
  transform: perspective(1000px) translate3d(0, 0, -500px);
}
.ids-popup.animation-scale-in.open {
  opacity: 1;
  transform: perspective(1000px) translate3d(0, 0, 0);
}
.ids-popup.animation-slide-from-bottom {
  opacity: 0;
  transform-style: preserve-3d;
  transform: perspective(1000px) translate3d(100%, 0, 0);
}
.ids-popup.animation-slide-from-bottom.open {
  opacity: 1;
  transform: perspective(1000px) translate3d(0, 0, 0);
}
.ids-popup.position-viewport {
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: left top;
  transform: translate(-50%, -50%);
  min-height: 15%;
  min-width: 15%;
  max-height: 100%;
  max-width: 100%;
  overflow: hidden;
}
.ids-popup.position-viewport.fit-viewport {
  height: 100%;
}
.ids-popup.position-viewport.animation-scale-in {
  transform: perspective(1000px) translate3d(-50%, -50%, -500px);
}
.ids-popup.position-viewport.animation-scale-in.open {
  transform: perspective(1000px) translate3d(-50%, -50%, 0);
}
.ids-popup.position-viewport.animation-slide-from-bottom {
  transform: perspective(1000px) translate3d(-50%, 110%, -100px);
}
.ids-popup.position-viewport.animation-slide-from-bottom.open {
  transform: perspective(1000px) translate3d(-50%, -50%, 0);
}
.ids-popup:not(.animated) {
  transform: none;
}
.ids-popup.none {
  background-color: var(--ids-popup-color-background);
  border: 1px solid var(--ids-popup-color-border);
  padding: 1px solid var(--ids-popup-padding);
}
.ids-popup.custom {
  background-color: var(--ids-popup-color-background);
  border: 1px solid transparent;
}
.ids-popup.menu {
  background-color: var(--ids-popup-menu-color-background-default);
  border: 1px solid var(--ids-popup-menu-color-border-default);
  font-family: var(--ids-font-family-default);
  padding-block: var(--ids-popup-menu-padding);
  color: var(--ids-popup-menu-color-text-default);
  border-radius: var(--ids-popup-menu-border-radius);
  box-shadow: var(--ids-popup-menu-shadow-default);
}
.ids-popup.menu .arrow.bottom {
  border-bottom-color: var(--ids-popup-menu-color-border-default);
}
.ids-popup.menu .arrow.bottom::after {
  border-bottom-color: var(--ids-popup-menu-color-background-default);
}
.ids-popup.menu .arrow.left {
  border-left-color: var(--ids-popup-menu-color-border-default);
}
.ids-popup.menu .arrow.left::after {
  border-left-color: var(--ids-popup-menu-color-background-default);
}
.ids-popup.menu .arrow.right {
  border-right-color: var(--ids-popup-menu-color-border-default);
}
.ids-popup.menu .arrow.right::after {
  border-right-color: var(--ids-popup-menu-color-background-default);
}
.ids-popup.menu .arrow.top {
  border-top-color: var(--ids-popup-menu-color-border-default);
}
.ids-popup.menu .arrow.top::after {
  border-top-color: var(--ids-popup-menu-color-background-default);
}
.ids-popup.menu-alt {
  background-color: var(--ids-popup-menu-color-background-inverse);
  border: 1px solid var(--ids-popup-menu-color-border-inverse);
  padding-block: var(--ids-popup-menu-padding);
  box-shadow: var(--ids-popup-menu-shadow-inverse);
  font-size: var(--ids-popup-menu-font-size);
  color: var(--ids-popup-menu-color-text-inverse);
  border-color: var(--ids-popup-menu-color-border-inverse);
  border-radius: var(--ids-border-radius-01);
  font-family: var(--ids-font-family-default);
}
.ids-popup.menu-alt .arrow.bottom,
.ids-popup.menu-alt .arrow.bottom::after {
  border-bottom-color: var(--ids-popup-menu-color-border-inverse);
}
.ids-popup.menu-alt .arrow.left,
.ids-popup.menu-alt .arrow.left::after {
  border-left-color: var(--ids-popup-menu-color-border-inverse);
}
.ids-popup.menu-alt .arrow.right,
.ids-popup.menu-alt .arrow.right::after {
  border-right-color: var(--ids-popup-menu-color-border-inverse);
}
.ids-popup.menu-alt .arrow.top,
.ids-popup.menu-alt .arrow.top::after {
  border-top-color: var(--ids-popup-menu-color-border-inverse);
}
.ids-popup.tooltip {
  background-color: var(--ids-tooltip-color-background);
  border-radius: var(--ids-tooltip-border-radius);
  box-shadow: var(--ids-tooltip-shadow);
  cursor: var(--ids-cursor-pointer);
  color: var(--ids-tooltip-color-text);
  display: inline-block;
  font-size: var(--ids-tooltip-font-size);
  padding: var(--ids-tooltip-padding);
  font-family: var(--ids-font-family-default);
  z-index: var(--ids-z-index-70);
}
.ids-popup.tooltip .arrow.bottom,
.ids-popup.tooltip .arrow.bottom::after {
  border-bottom-color: var(--ids-tooltip-color-background);
}
.ids-popup.tooltip .arrow.bottom {
  top: -6px;
}
.ids-popup.tooltip .arrow.left,
.ids-popup.tooltip .arrow.left::after {
  border-left-color: var(--ids-tooltip-color-background);
}
.ids-popup.tooltip .arrow.left {
  right: -6px;
}
.ids-popup.tooltip .arrow.right,
.ids-popup.tooltip .arrow.right::after {
  border-right-color: var(--ids-tooltip-color-background);
}
.ids-popup.tooltip .arrow.right {
  left: -6px;
}
.ids-popup.tooltip .arrow.top,
.ids-popup.tooltip .arrow.top::after {
  border-top-color: var(--ids-tooltip-color-background);
}
.ids-popup.tooltip .arrow.top {
  bottom: -6px;
}
.ids-popup.tooltip.error-color {
  background-color: var(--ids-tooltip-error-color-background-error);
}
.ids-popup.tooltip.error-color .arrow.bottom,
.ids-popup.tooltip.error-color .arrow.bottom::after {
  border-bottom-color: var(--ids-tooltip-error-color-background-error);
}
.ids-popup.tooltip.error-color .arrow.left,
.ids-popup.tooltip.error-color .arrow.left::after {
  border-left-color: var(--ids-tooltip-error-color-background-error);
}
.ids-popup.tooltip.error-color .arrow.right,
.ids-popup.tooltip.error-color .arrow.right::after {
  border-right-color: var(--ids-tooltip-error-color-background-error);
}
.ids-popup.tooltip.error-color .arrow.top,
.ids-popup.tooltip.error-color .arrow.top::after {
  border-top-color: var(--ids-tooltip-error-color-background-error);
}
.ids-popup.tooltip.info-color {
  background-color: var(--ids-tooltip-info-color-background-info);
}
.ids-popup.tooltip.info-color .arrow.bottom,
.ids-popup.tooltip.info-color .arrow.bottom::after {
  border-bottom-color: var(--ids-tooltip-info-color-background-info);
}
.ids-popup.tooltip.info-color .arrow.left,
.ids-popup.tooltip.info-color .arrow.left::after {
  border-left-color: var(--ids-tooltip-info-color-background-info);
}
.ids-popup.tooltip.info-color .arrow.right,
.ids-popup.tooltip.info-color .arrow.right::after {
  border-right-color: var(--ids-tooltip-info-color-background-info);
}
.ids-popup.tooltip.info-color .arrow.top,
.ids-popup.tooltip.info-color .arrow.top::after {
  border-top-color: var(--ids-tooltip-info-color-background-info);
}
.ids-popup.tooltip.alert-color, .ids-popup.tooltip.warning-color {
  background-color: var(--ids-tooltip-color-background-warning);
}
.ids-popup.tooltip.alert-color .arrow.bottom,
.ids-popup.tooltip.alert-color .arrow.bottom::after, .ids-popup.tooltip.warning-color .arrow.bottom,
.ids-popup.tooltip.warning-color .arrow.bottom::after {
  border-bottom-color: var(--ids-tooltip-color-background-warning);
}
.ids-popup.tooltip.alert-color .arrow.left,
.ids-popup.tooltip.alert-color .arrow.left::after, .ids-popup.tooltip.warning-color .arrow.left,
.ids-popup.tooltip.warning-color .arrow.left::after {
  border-left-color: var(--ids-tooltip-color-background-warning);
}
.ids-popup.tooltip.alert-color .arrow.right,
.ids-popup.tooltip.alert-color .arrow.right::after, .ids-popup.tooltip.warning-color .arrow.right,
.ids-popup.tooltip.warning-color .arrow.right::after {
  border-right-color: var(--ids-tooltip-color-background-warning);
}
.ids-popup.tooltip.alert-color .arrow.top,
.ids-popup.tooltip.alert-color .arrow.top::after, .ids-popup.tooltip.warning-color .arrow.top,
.ids-popup.tooltip.warning-color .arrow.top::after {
  border-top-color: var(--ids-tooltip-color-background-warning);
}
.ids-popup.tooltip.success-color {
  background-color: var(--ids-tooltip-color-background-success);
}
.ids-popup.tooltip.success-color .arrow.bottom,
.ids-popup.tooltip.success-color .arrow.bottom::after {
  border-bottom-color: var(--ids-tooltip-color-background-success);
}
.ids-popup.tooltip.success-color .arrow.left,
.ids-popup.tooltip.success-color .arrow.left::after {
  border-left-color: var(--ids-tooltip-color-background-success);
}
.ids-popup.tooltip.success-color .arrow.right,
.ids-popup.tooltip.success-color .arrow.right::after {
  border-right-color: var(--ids-tooltip-color-background-success);
}
.ids-popup.tooltip.success-color .arrow.top,
.ids-popup.tooltip.success-color .arrow.top::after {
  border-top-color: var(--ids-tooltip-color-background-success);
}
.ids-popup.tooltip-alt {
  background-color: var(--ids-tooltip-color-background-inverse);
  padding: var(--ids-tooltip-padding);
  border-radius: var(--ids-tooltip-border-radius);
  font-size: var(--ids-tooltip-font-size);
  color: var(--ids-tooltip-color-text-inverse);
  font-family: var(--ids-font-family-default);
}
.ids-popup.modal {
  background-color: var(--ids-modal-color-background);
  border: 1px solid var(--ids-modal-color-border);
  padding: var(--ids-modal-padding);
  border-radius: var(--ids-modal-border-radius);
  box-shadow: var(--ids-modal-shadow-default);
  font-family: var(--ids-font-family-default);
  color: var(--ids-modal-color-text);
}
.ids-popup.dropdown {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--ids-dropdown-color-background-default);
  border: 1px solid var(--ids-dropdown-color-border);
  box-shadow: var(--ids-dropdown-shadow-default);
  border-radius: var(--ids-dropdown-border-radius);
  outline: none;
  border-top-color: var(--ids-dropdown-attached-color-border);
}
.ids-popup.dropdown.flipped {
  border-radius: var(--ids-dropdown-border-radius-opened-up);
  border-bottom-color: var(--ids-dropdown-attached-color-border);
  border-top-color: var(--ids-dropdown-color-border);
  box-shadow: var(--ids-dropdown-shadow-opened-up);
}
.ids-popup:not(.position-viewport).has-maxheight .content-wrapper {
  height: var(--ids-popup-maxheight);
  overflow: auto;
}

.content-wrapper {
  position: static;
  height: 100%;
  width: 100%;
}

:host([dir=rtl]) .arrow.bottom::after {
  left: var(--ids-popup-arrow-size);
}
:host([dir=rtl]) .arrow.top::after {
  left: unset;
  right: calc(var(--ids-popup-arrow-size) * -1);
}
:host([dir=rtl]) .ids-popup.tooltip .arrow.top::after {
  left: calc(var(--ids-popup-arrow-size) * -1);
}`;var $=X(D(_)),E=class extends ${shouldUpdate=!1;isFlipped=!1;scrollParentElem;constructor(){super(),this.#h=I,this.#a=m[0],this.#l=b[0],this.#i=v[0],this.#t=null,this.#u=!1,this.#g=N[0],this.#v=u[0],this.#e=null,this.#f=!1,this.#d=document.body,this.#m=M[1],this.#o="",this.#c=H[0],this.#r=!1,this.#b=0,this.#w=0,this.open=!1,this.shouldUpdate=!1}connectedCallback(){super.connectedCallback(),this.containingElem=T(this,"ids-container")||document.body,this.#H(),this.shouldUpdate=!0,this.#C()}disconnectedCallback(){super.disconnectedCallback?.(),this.#n&&(this.#n?.disconnect(),this.#n=void 0),this.#s&&(this.#s?.disconnect(),this.#s=void 0),this.#t=null,this.#e=null,this.#d=null,this.containingElem=null}static get attributes(){return[...super.attributes,...C]}template(){return`<div class="ids-popup${this.animated?" animated":""}" part="popup">
      <div class="arrow" part="arrow"></div>
      <div class="content-wrapper">
        <slot name="content"></slot>
      </div>
    </div>`}#s;#n;#M(){this.#E(),this.place(),this.#A()}#A(){this.style.transition="none",this.container?.style.setProperty("transition","none"),this.correct3dMatrix(),this.style.transition="",this.container?.style.setProperty("transition","")}#H(){this.#s=new MutationObserver(t=>{if(this.#r){let o=!1;for(let i of t){if(o)break;["subtree","childList","characterData","characterDataOldValue"].includes(i.type)&&(this.place(),o=!0)}}}),this.#n=new ResizeObserver(t=>{if(this.open){for(let o of t)o.target.tagName.toLowerCase()==="ids-container"?this.#M():this.#A();this.#z()}}),C.forEach(t=>{let o=Y(t);this[o]=this.getAttribute(t)||this[o]})}#C(){let t=T(this,"ids-container");this.#n?.observe(this),t&&this.#n?.observe(t),this.onLocaleChange=()=>{this.localeAPI.isRTL()?this.setAttribute("dir","rtl"):this.removeAttribute("dir")}}get innerRect(){return this.getBoundingClientRect()}get wrapper(){return this.shadowRoot?.querySelector(".content-wrapper")}#t=null;set alignTarget(t){let o=typeof t=="string"&&t.length,i=t instanceof HTMLElement||t instanceof SVGElement;if(!o&&!i){this.#t!==null&&(this.#t=null,this.removeAttribute(a.ALIGN_TARGET),this.#x());return}let e=null;if(o){if(e=k(this).querySelector(t),!(e instanceof HTMLElement||e instanceof SVGElement))return;this.setAttribute(a.ALIGN_TARGET,t)}else i&&(e=t);e!==null&&(!this.#t||!this.#t.isEqualNode(e))&&(this.#t=e,this.#x())}get alignTarget(){return this.#t}#x(){this.#t?this.#s?.observe(this.#t,{attributes:!0,attributeFilter:["style","height","width"],attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}):this.#s?.disconnect(),this.place()}#h;set align(t){let o=this.#h,i=t;(typeof i!="string"||!i.length)&&(i=I);let e=i.split(",");e=e.map(d=>d.trim().toLowerCase());let s=e[0];if(v.includes(s)&&(this.#i=s,e[0]=this.#i),e[1]||e.push("center"),L.includes(e[0])||B.includes(e[1])){let d=e[1];e[1]=e[0],e[0]=d}let r,n;m.includes(e[0])?(r=e[0],this.#a=e[0]):r=this.alignX,b.includes(e[1])?(n=e[1],this.#l=e[1]):n=this.alignY;let l=y(r,n,this.#i);o!==l?(this.#h=l,this.setAttribute(a.ALIGN,l),this.place()):this.hasAttribute("align")||this.setAttribute(a.ALIGN,o)}get align(){return this.#h}#a;set alignX(t){if(typeof t!="string"||!t.length)return;let o=t;if(m.includes(t)||(o=m[0]),this.hasAttribute(a.ALIGN_X)&&this.removeAttribute(a.ALIGN_X),this.#a!==o){this.#a=o;let i=this.#l;this.align=y(o,i,o)}}get alignX(){return this.#a}#l;set alignY(t){if(typeof t!="string"||!t.length)return;let o=b[0];if(b.includes(t)&&(o=t),this.hasAttribute(a.ALIGN_Y)&&this.removeAttribute(a.ALIGN_Y),this.#l!==o){this.#l=o;let i=this.#a;this.align=y(i,o,o)}}get alignY(){return this.#l}#i;#o;set alignEdge(t){if(typeof t!="string"||!t.length)return;let o;if(v.includes(t)?o=t:o=v[0],this.hasAttribute(a.ALIGN_EDGE)&&this.removeAttribute(a.ALIGN_EDGE),this.#i!==o){let i=this.alignX,e=this.alignY;this.#i=o,o==="center"?(i=o,e=o):L.includes(o)?e=o:i=o,this.align=y(i,e,o)}}get alignEdge(){return this.#i}get oppositeAlignEdge(){return this.#p(this.alignEdge)}get maxHeight(){return this.getAttribute(a.MAX_HEIGHT)}set maxHeight(t){let o=S(t);o?this.setAttribute(a.MAX_HEIGHT,o):this.removeAttribute(a.MAX_HEIGHT),this.#k(o)}#k(t){if(this.positionStyle==="viewport"){this.wrapper?.setAttribute(a.TABINDEX,"0"),this.container?.style.setProperty(x,"auto");return}let o=this.containingElem,i=document.body.offsetHeight,e=S(t||this.maxHeight);if(o?i=o.offsetHeight:window&&(i=window.innerHeight,e=`${i}px`),e)i<parseInt(e)&&(e=`${i}px`);else{let s=parseInt(window.getComputedStyle(this.wrapper).height);i<=s&&(e=`${i}px`)}this.container&&(this.wrapper&&this.wrapper.setAttribute(a.TABINDEX,"0"),e?(this.container.style.setProperty(x,`${e}`),this.container.classList.add("has-maxheight")):(this.container.classList.remove("has-maxheight"),this.container.style.removeProperty(x)))}#p(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return"none"}}#T(t){switch(t){case"top":case"bottom":return"right";case"left":case"right":return"bottom";default:return"none"}}#u;set animated(t){let o=A(t);this.#u!==o&&(this.#u=o,o?this.setAttribute(a.ANIMATED,""):this.removeAttribute(a.ANIMATED),this.#O())}get animated(){return this.#u}#O(){this.container?.classList[this.animated?"add":"remove"]("animated")}#g;set animationStyle(t){let o=this.#g;t!==o&&N.includes(t)?(this.#g=t,this.setAttribute(a.ANIMATION_STYLE,t),this.#R(o,t)):this.#R("",o)}get animationStyle(){return this.#g}#R(t,o){if(!this.container)return;let i=this.container.classList;t&&i.remove(`animation-${t}`),i.add(`animation-${o}`)}#f;set bleed(t){let o=A(t);this.#f!==o&&(this.#f=t,o?this.setAttribute(a.BLEED,""):this.removeAttribute(a.BLEED),this.place())}get bleed(){return this.#f}#d;set containingElem(t){(t instanceof HTMLElement||t instanceof SVGElement)&&this.#d!==t&&(this.#d=t,this.place())}get containingElem(){return this.#d}#v=u[0];set arrow(t){let o=this.#v,i=u[0];t&&u.includes(t)&&(i=t),i!==o&&(this.#v=i,i!==u[0]?this.setAttribute(a.ARROW,`${i}`):this.removeAttribute(a.ARROW),this.#y(o,i))}get arrow(){let t=this.getAttribute(a.ARROW);return t||u[0]}#y(t,o){if(!this.container)return;let i=this.arrowEl,e=this.arrowEl?.classList,s=o==="none";i&&(i.hidden=s);let r="arrow";t===""?e?.remove(...u):t&&e?.remove(t),o&&!s&&(e?.add(o),r+=`-${o}`),i?.setAttribute("part",r)}get arrowEl(){return this.container?.querySelector(".arrow")}#e;set arrowTarget(t){let o=typeof t=="string"&&t.length,i=t instanceof HTMLElement||t instanceof SVGElement;if(!o&&!i){this.#e!==null&&(this.#e=null,this.removeAttribute(a.ARROW_TARGET));return}let e=null;if(o){if(e=k(this).querySelector(t),!(e instanceof HTMLElement||e instanceof SVGElement))return;this.setAttribute(a.ARROW_TARGET,t)}else i&&(e=t);e!==null&&(!this.#e||!this.#e.isEqualNode(e))&&(this.#e=e,this.#y("",this.arrow))}get arrowTarget(){return this.#e||this.alignTarget}#m;set positionStyle(t){let o=this.#m;M.includes(t)&&(this.setAttribute(a.POSITION_STYLE,t),this.#m=t,t!==o?this.#S(o,t):this.#S("",o),this.place())}get positionStyle(){return this.#m}#S(t,o){if(!this.container)return;let i=this.container.classList;t&&i.remove(`position-${t}`),i.add(`position-${o}`)}#z(){if(!this.container||!this.wrapper)return;let t=this.container.classList;t.remove("fit-viewport");let o=this.wrapper.getBoundingClientRect().height,i=this.container.getBoundingClientRect().height;o>i&&t.add("fit-viewport")}#c;set type(t){let o=this.#c;t&&o!==t&&H.includes(t)?(this.#c=t,this.setAttribute(a.TYPE,this.#c),this.#P(o,t),this.place()):this.#P("",o)}get type(){return this.#c}#P(t,o){if(!this.container)return;let i=this.container.classList;t&&i.remove(t),i.add(o)}open;#r;set visible(t){let o=A(t);this.#r!==o&&(this.#r=o,o?this.setAttribute(a.VISIBLE,""):this.removeAttribute(a.VISIBLE),this.refreshVisibility())}get visible(){return this.#r}async refreshVisibility(){if(!this.container)return;let t=this.container.classList;this.#r&&!t.contains("open")&&await this.show(),!this.#r&&!this.hasAttribute("aria-hidden")&&await this.hide()}#b;set x(t){let o=parseInt(t?.toString(),10);Number.isNaN(o)&&(o=0),o!==this.#b&&(this.#b=o,this.setAttribute(a.X,o.toString()))}get x(){return this.#b}#w;set y(t){let o=parseInt(t?.toString(),10);Number.isNaN(o)&&(o=0),o!==this.#w&&(this.#w=o,this.setAttribute(a.Y,o.toString()))}get y(){return this.#w}setPosition(t=null,o=null,i=null,e=null){let s=this;Number.isNaN(t)||(s.x=t),Number.isNaN(o)||(s.y=o),i&&(this.visible=!0),e&&this.place()}async show(){!this.visible||!this.container||(this.place(),this.placeArrow(this.#o),this.removeAttribute("aria-hidden"),this.container.classList.add("open"),this.open=!0,this.animated&&await R(this.container,"opacity"),this.correct3dMatrix(),this.triggerEvent("show",this,{bubbles:!0,detail:{elem:this}}))}async hide(){this.visible||!this.container||(this.open=!1,this.#E(),this.container.classList.remove("open"),this.animated&&await R(this.container,"opacity"),this.triggerEvent("hide",this,{bubbles:!0,detail:{elem:this}}),this.setAttribute("aria-hidden","true"))}place(){if(this.visible&&this.positionStyle!=="viewport"){this.#k();let{alignTarget:t}=this;t?this.#Y():this.#G()}}#G(){let t=this.getBoundingClientRect(),o=this.x,i=this.y;switch(this.alignX){case"right":o-=t.width;break;case"center":o-=t.width/2;break;default:break}switch(this.alignY){case"bottom":i-=t.height;break;case"center":i-=t.height/2;break;default:break}t.x=o,t.y=i,t=this.#I(t),t=this.#N(this.parentNode,t,this.scrollParentElem),typeof this.onPlace=="function"&&(t=this.onPlace(t)),this.#L(t)}#Y(){if(!this.alignTarget)return;let t=this.getBoundingClientRect();this.#o=this.#X(t);let o=this.#p(this.alignEdge),i=this.alignEdge!==this.#o&&this.#p(this.alignEdge)!==this.#o,e={flip:this.alignEdge!==this.#o&&!i,oppositeEdge:o,shouldSwitchXY:i,targetEdge:this.#i,x:i?this.y:this.x,y:i?this.x:this.y};typeof this.onXYSwitch=="function"&&(e=this.onXYSwitch(e));let s=e.x,r=e.y,n=this.alignTarget.getBoundingClientRect(),l=this.#o||this.alignEdge,p=!1,d=!1;if(this.container?.classList.toggle("flipped",this.alignEdge!==this.#o&&!i),b.includes(l)){switch(l){case"top":r=n.top-t.height-r;break;case"bottom":r=n.bottom+r;break;default:r=n.top+n.height/2-t.height/2+r,d=!0}switch(this.alignX){case"left":s=n.left+s;break;case"right":s=n.right-t.width-s;break;default:s=n.left+n.width/2-t.width/2+s,p=!0}}if(m.includes(l)){switch(l){case"left":s=n.left-t.width-s;break;case"right":s=n.right+s;break;default:if(p)break;s=n.left+n.width/2-t.width/2+s}switch(this.alignY){case"top":r=n.top+r;break;case"bottom":r=n.bottom-t.height+r;break;default:if(d)break;r=n.top+n.height/2-t.height/2+r}}if(l==="none"){let c=this.containingElem?.clientWidth,g=this.containingElem?.clientHeight;c&&g&&(s=(c-t.width)/2,r=(g-t.height)/2)}t.x=s,t.y=r,t=this.#I(t),t=this.#N(this.parentNode,t,this.scrollParentElem),typeof this.onPlace=="function"&&(t=this.onPlace(t)),this.#L(t),this.arrow&&this.arrow!==u[0]&&(this.#y("",this.#o),this.placeArrow(this.#o))}onPlace(t){return t}onXYSwitch(t){return t}#I(t){if(this.bleed||!this.containingElem)return t;let o=window.innerWidth,i=window.innerHeight,e=this.containingElem.getBoundingClientRect(),s=this.bleed,r=t.x,n=t.y,l=s?o:e.right,p=s?0:e.left,d=s?0:e.top,c=s?i:e.bottom;return t.right>l&&(r-=t.right-l),t.left<p&&(r+=Math.abs(t.left)+p),t.bottom>c&&(n-=t.bottom-c),t.top<d&&(n+=Math.abs(t.top)+d),t.x=r,t.y=n,t}#X(t){if(!this.containingElem||!this.alignTarget)return"none";let o=window.innerWidth,i=window.innerHeight,e=this.containingElem.scrollLeft||0,s=this.containingElem.scrollTop||0,r=this.bleed,n=this.containingElem.getBoundingClientRect(),l=this.alignTarget.getBoundingClientRect(),p=h=>{let f=0;switch(h){case"left":f=(r?0:n.left)-e-l.left+this.x;break;case"right":f=(r?o:n.right)-e-l.right-this.x;break;case"top":f=(r?0:n.top)-s-l.top+this.y;break;default:f=(r?i:n.bottom)-s-l.bottom-this.y;break}return Math.abs(f)},d=this.alignEdge,c=["top","bottom"].includes(d)?"height":"width";return[this.alignEdge,this.#p(this.alignEdge),this.#T(this.alignEdge),this.#p(this.#T(this.alignEdge))].find(h=>{let f=p(h);return t[c]<=f})||"none"}#L(t){this.style.left=`${t.x}px`,this.style.top=`${t.y}px`}correct3dMatrix(){if(!this.container||this.positionStyle!=="viewport")return;this.#E();let t=window.getComputedStyle(this.container,null),o=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("transform")||!1;if(!o)return;let i=o.replace(/ |\(|\)|matrix3d/g,"").split(",");for(let e=0;e<i.length;e++)e===0&&i[e]<1&&(i[e]=1),e>0&&(i[e]>4||i[e]<-4)&&(i[e]=Math.ceil(i[e])),e===i.length-1&&i[e]>1&&(i[e]=1);this.container.style.transform=`matrix3d(${i.join()})`}#E(){this.container?.style.removeProperty("transform")}#N(t,o,i){let e=V(o||t.getBoundingClientRect()),s=!1,r=!1,n=l=>{let p,d;if(l&&!s){if(l.toString()==="[object ShadowRoot]"&&(l=l.host),l instanceof HTMLElement||l instanceof SVGElement){p=getComputedStyle(l),d=l.getBoundingClientRect();let c=i||l;r||(c.scrollLeft!==0&&(e.x-=c.scrollLeft,r=!0),c.scrollTop!==0&&(e.y-=c.scrollTop,r=!0)),p.position==="relative"&&(e.x-=d.x,e.y-=d.y,s=!0)}l.parentNode&&n(l.parentNode)}};return n(t),e}placeArrow(t){let o=t||this.arrow,i=this.arrowEl,e=this.alignTarget,s=this.arrowTarget;if(o==="none"||!e||!s||!i){i&&(i.hidden=!0);return}i.removeAttribute("hidden"),i.style.marginLeft="",i.style.marginTop="";let r=i.getBoundingClientRect(),n=e.getBoundingClientRect(),l=s.getBoundingClientRect(),p={},d=o==="right"||o==="left"?"marginTop":"marginLeft",c=!1,g=0,w=0,h;(o==="left"||o==="right")&&(g=l.top+l.height/2,w=r.top+r.height/2,h=g-w,p.top=r.top+h,p.bottom=r.bottom+h,(p.top<=n.top||p.bottom>=n.bottom)&&(c=!0)),(o==="top"||o==="bottom")&&(g=l.left+l.width/2,w=r.left+r.width/2,h=g-w,p.left=r.left+h,p.right=r.right+h,(p.left<=n.left||p.right>=n.right)&&(c=!0)),h=Math.ceil(h),c&&(i.hidden=!0),i.style[d]=`${h}px`}set height(t){let o=P(t);this.height!==o&&(o.length?(this.container?.style.setProperty("height",o),this.setAttribute(a.HEIGHT,o)):(this.container?.style.removeProperty("height"),this.removeAttribute(a.HEIGHT)))}get height(){return this.container?.style.height||""}set width(t){let o=P(t);this.width!==o&&(o.length?(this.container?.style.setProperty("width",o),this.setAttribute(a.WIDTH,o)):(this.container?.style.removeProperty("width"),this.removeAttribute(a.WIDTH)))}get width(){return this.container?.style.width??""}};E=O([z("ids-popup"),G(W)],E);export{E as a};
