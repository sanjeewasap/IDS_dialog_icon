import{a as o}from"./ids-chunk-RZESIOE7.js";import{a as s}from"./ids-chunk-EQJWBFQ2.js";var l=n=>class extends n{localeAPI=new o;constructor(...t){super(...t)}connectedCallback(){super.connectedCallback?.(),this.localeAPI.state.language!=="en"&&this.setAttribute("language",this.localeAPI.state.language),this.localeAPI.state.localeName!=="en-US"&&this.setAttribute("locale",this.localeAPI.state.localeName)}static get attributes(){return[...n.attributes,s.LANGUAGE,s.LOCALE]}async setLanguage(t){await this.localeAPI.setLanguage(t),this.nodeName==="IDS-CONTAINER"&&this.localeAPI.setDocumentLangAttribute(this,t),this.setAttribute("language",t),typeof this.onLanguageChange=="function"&&this.previousLanguage!==t&&this.onLanguageChange(this.localeAPI),this.previousLanguage!==t&&this.triggerEvent("languagechange",this,{detail:{elem:this,language:this.language,locale:this.state?.locale}});let e=this.previousLanguage;this.children.length>0&&this.#t(this.querySelectorAll("*"),t,e),this.shadowRoot&&this.shadowRoot?.children?.length>0&&this.#t(this.shadowRoot.querySelectorAll("*"),t,e),this.localeAPI.updateDirectionAttribute(this,t),this.setDirection(),this.previousLanguage=t}previousLanguage="en";set language(t){t&&t!==this.language.name&&this.setLanguage(t)}get language(){return{name:this.getAttribute("language")||"en",messages:this?.localeAPI?.language.messages}}#t(t,e,a){t.forEach(i=>{i.language&&i.language.name===a&&(i.language=e)})}previousLocale="en-US";async setLocale(t){if(t){await this.localeAPI.setLocale(t);let e=this.localeAPI.correctLanguage(t);if(this.setAttribute("locale",t),this.nodeName==="IDS-CONTAINER"&&this.localeAPI.setDocumentLangAttribute(this,e),await this.setLanguage(e),typeof this.onLocaleChange=="function"&&this.previousLocale!==t&&this.onLocaleChange(this.localeAPI),this.previousLocale!==t&&this.triggerEvent("localechange",this,{detail:{elem:this,language:this.language,locale:this.state?.locale}}),this.children.length>0){let a=this.previousLocale;requestAnimationFrame(()=>{this.#e(this.querySelectorAll("*"),t,a)})}}this.previousLocale=t}set locale(t){t&&t!==this.locale&&typeof t=="string"&&this.setLocale(t)}get locale(){return this.localeAPI.state.localeName}#e(t,e,a){t.forEach(i=>{i.locale&&i.locale===a&&(i.locale=e)})}setDirection(){this.localeAPI?.isRTL()?(this.setAttribute("dir","rtl"),this.container?.classList.add("rtl")):(this.removeAttribute("dir"),this.container?.classList.remove("rtl"))}},g=l;export{g as a};
