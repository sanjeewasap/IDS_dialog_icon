import{a as r}from"./ids-chunk-KA4WAP4K.js";import{a as m}from"./ids-chunk-N7RNTKMO.js";import{a as b}from"./ids-chunk-AKCO43TX.js";import{a as h,b as v}from"./ids-chunk-XE4WFW5M.js";import{a as S}from"./ids-chunk-GFV2Z7F5.js";import{a as g,e as c,f as n}from"./ids-chunk-QPDOZZIG.js";import{a as s}from"./ids-chunk-EQJWBFQ2.js";import{a as f}from"./ids-chunk-U7OOVFXE.js";var x=`
/* Ids Upload Advanced File */
.ids-upload-advanced-file {
  display: block;
}
.ids-upload-advanced-file .hidden {
  display: none;
}
.ids-upload-advanced-file .container {
  margin-top: var(--ids-space-40);
  padding: var(--ids-space-20);
  border: 1px solid var(--ids-upload-advanced-file-color-border-default);
  border-style: dashed;
  border-radius: var(--ids-border-radius-01);
}
.ids-upload-advanced-file .container .file-row {
  align-items: center;
  display: flex;
}
.ids-upload-advanced-file .container .file-row .status {
  flex-grow: 0;
  flex-shrink: 0;
}
.ids-upload-advanced-file .container .file-row .file-name {
  min-width: 0;
  flex-grow: 1;
}
.ids-upload-advanced-file .container .file-row .file-name span {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  font-weight: var(--ids-font-weight-normal);
  margin: var(--ids-space-none);
  font-family: var(--ids-font-family-default);
  text-overflow: ellipsis;
}
.ids-upload-advanced-file .container .file-row .file-progress {
  display: contents;
}
.ids-upload-advanced-file .container .file-row .size {
  flex-grow: 0;
  flex-shrink: 0;
  display: block;
  margin-inline-start: var(--ids-space-50);
}
.ids-upload-advanced-file .container .file-row .progress-text {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: var(--ids-font-weight-normal);
  display: block;
  margin: var(--ids-space-none);
  font-family: var(--ids-font-family-default);
  min-width: 48px;
  text-overflow: ellipsis;
}
.ids-upload-advanced-file .container .file-row .percent {
  color: var(--ids-color-primary-60);
  font-weight: bold;
}
.ids-upload-advanced-file .container .file-row .bar {
  margin-left: 3px;
  margin-right: 3px;
}
.ids-upload-advanced-file .container .file-row .btn-close {
  flex-grow: 0;
  flex-shrink: 0;
  padding-inline: var(--ids-space-20);
}
.ids-upload-advanced-file .container .status .ids-alert,
.ids-upload-advanced-file .container .status ids-alert {
  display: block;
  padding: var(--ids-space-40);
  padding-bottom: var(--ids-space-30);
  margin: var(--ids-space-none);
}
.ids-upload-advanced-file .container .error-row,
.ids-upload-advanced-file .container .btn-start,
.ids-upload-advanced-file .container .status .not-started,
.ids-upload-advanced-file .container .status .completed,
.ids-upload-advanced-file .container .status .errored {
  display: none;
}
.ids-upload-advanced-file .container .error-row,
.ids-upload-advanced-file .container .progress-row {
  padding-inline: var(--ids-space-50);
  padding-bottom: var(--ids-space-30);
}
.ids-upload-advanced-file .container .progress-row {
  padding-inline: var(--ids-space-90);
  align-items: center;
  display: flex;
  min-height: 28px;
}
.ids-upload-advanced-file .container .progress-row .progress-bar,
.ids-upload-advanced-file .container .progress-row .ids-progress-bar {
  padding-inline-end: var(--ids-space-30);
  flex-grow: 1;
  flex-shrink: 0;
}
.ids-upload-advanced-file.not-started .container .btn-start,
.ids-upload-advanced-file.not-started .container .status .not-started {
  display: block;
}
.ids-upload-advanced-file.not-started .container .error-row,
.ids-upload-advanced-file.not-started .container .status .in-process,
.ids-upload-advanced-file.not-started .container .status .completed,
.ids-upload-advanced-file.not-started .container .status .errored {
  display: none;
}
.ids-upload-advanced-file.not-started .container .progress-row {
  padding-inline-start: var(--ids-space-90);
  padding-inline-end: var(--ids-space-20);
}
.ids-upload-advanced-file.not-started .container .progress-row .progress-bar {
  padding-inline-end: var(--ids-space-20);
}
.ids-upload-advanced-file.not-started .container .progress-row .btn-start {
  position: relative;
  flex-grow: 0;
  flex-shrink: 0;
  top: 2px;
}
.ids-upload-advanced-file.completed .container {
  border-color: var(--ids-upload-advanced-color-border-complete-default);
}
.ids-upload-advanced-file.completed .container .status .completed {
  display: block;
}
.ids-upload-advanced-file.completed .container .file-name {
  color: var(--ids-upload-advanced-file-color-text-complete);
}
.ids-upload-advanced-file.completed .container .error-row,
.ids-upload-advanced-file.completed .container .progress-row,
.ids-upload-advanced-file.completed .container .btn-start,
.ids-upload-advanced-file.completed .container .status .not-started,
.ids-upload-advanced-file.completed .container .status .in-process,
.ids-upload-advanced-file.completed .container .status .errored {
  display: none;
}
.ids-upload-advanced-file.errored .container {
  border-color: var(--ids-upload-advanced-color-border-error-default);
}
.ids-upload-advanced-file.errored .container .error-row,
.ids-upload-advanced-file.errored .container .status .errored {
  display: block;
}
.ids-upload-advanced-file.errored .container .progress-row,
.ids-upload-advanced-file.errored .container .btn-start,
.ids-upload-advanced-file.errored .container .status .not-started,
.ids-upload-advanced-file.errored .container .status .in-process,
.ids-upload-advanced-file.errored .container .status .completed {
  display: none;
}
.ids-upload-advanced-file.disabled {
  color: var(--ids-upload-advanced-color-text-disabled);
  user-select: none;
}
.ids-upload-advanced-file.disabled .container {
  border-color: var(--ids-upload-advanced-file-color-border-disabled);
  user-select: none;
}
.ids-upload-advanced-file.disabled.completed .container {
  border-color: var(--ids-upload-advanced-color-border-complete-disabled);
}
.ids-upload-advanced-file.disabled.completed .container .file-name {
  color: var(--ids-upload-advanced-color-text-complete-disabled);
}
.ids-upload-advanced-file.disabled.errored .container {
  border-color: var(--ids-upload-advanced-file-color-border-error-disabled);
}`;var w=m(b(S)),l=class extends w{constructor(){super()}static get attributes(){return[...super.attributes,s.DISABLED,s.ERROR,s.FILE_NAME,s.SIZE,s.STATUS,s.VALUE]}connectedCallback(){super.connectedCallback(),this.#e()}template(){let e=c,t=r.DEFAULTS,a=e(this.disabled)?" disabled":"",o=`
      <div class="hidden">
        <slot name="text-btn-cancel">${t.textBtnCancel}</slot>
        <slot name="text-btn-close-error">${t.textBtnCloseError}</slot>
        <slot name="text-btn-remove">${t.textBtnRemove}</slot>
        <slot name="text-btn-start">${t.textBtnStart}</slot>
        <slot name="text-droparea">${t.textDroparea}</slot>
        <slot name="text-droparea-with-browse">${t.textDropareaWithBrowse}</slot>
        <slot name="text-droparea-with-browse-link">${t.textDropareaWithBrowseLink}</slot>
        <slot name="text-progress-label">${t.textProgressLabel}</slot>
        <slot name="error-accept-file-type">${t.errorAcceptFileType}</slot>
        <slot name="error-max-files">${t.errorMaxFiles}</slot>
        <slot name="error-max-files-in-process">${t.errorMaxFilesInProcess}</slot>
        <slot name="error-max-file-size">${t.errorMaxFileSize}</slot>
        <slot name="error-url">${t.errorUrl}</slot>
      </div>`;return`
      <div class="ids-upload-advanced-file${a}">
        ${o}
        <div class="container" part="container">
          <div class="file-row" part="file-row">
            <div class="status" part="status">
              <ids-alert class="not-started" part="not-started-icon" icon="info"></ids-alert>
              <ids-alert class="in-process" part="in-process-icon" icon="in-progress"></ids-alert>
              <ids-alert class="completed" part="completed-icon" icon="success"></ids-alert>
              <ids-alert class="errored" part="errored-icon" icon="error"></ids-alert>
            </div>
            <div class="file-name" part="file-name"><span>${this.fileName}</span></div>
            <div class="file-progress" part="file-progress"><ids-text class="size">${this.sizeFormatted}</ids-text><div class="progress-text"><span class="bar">|</span><span class="percent">0%</span></div></div>
            <ids-button class="btn-close" part="btn-close">
              <span class="audible">${this.closeButtonText}</span>
              <ids-icon icon="close" size="xsmall" part="btn-close-icon"></ids-icon>
            </ids-button>
          </div>
          <div class="progress-row" part="progress-row">
            <ids-progress-bar class="progress-bar" label="${this.progressLabelText}" label-audible="true" value="${this.value||0}"></ids-progress-bar>
          </div>
          <div class="error-row" part="error-row">
            <ids-text class="error-msg"></ids-text>
          </div>
        </div>
      </div>`}dispatchChangeEvent(e,t=null){this.triggerEvent(e,this,{detail:{elem:this,error:this.errorHtml,loaded:this.loaded,loadedFormatted:this.loadedFormatted,nativeEvent:t,size:this.size,sizeFormatted:this.sizeFormatted,status:this.status,value:this.value}})}toggleDisabled(e){if(!this.shadowRoot)return;let t={root:this.shadowRoot.querySelector(".ids-upload-advanced-file"),progress:this.shadowRoot.querySelector("ids-progress-bar"),btnClose:this.shadowRoot.querySelector(".btn-close"),alerts:[].slice.call(this.shadowRoot.querySelectorAll(".status ids-alert"))},a=c(e);a?(t.root?.classList.add(s.DISABLED),t.progress?.setAttribute(s.DISABLED,a.toString()),t.btnClose?.setAttribute(s.DISABLED,a.toString()),t.alerts.forEach(o=>{o?.setAttribute(s.DISABLED,a.toString())})):(t.root?.classList.remove(s.DISABLED),t.progress?.removeAttribute(s.DISABLED),t.btnClose?.removeAttribute(s.DISABLED),t.alerts.forEach(o=>{o?.removeAttribute(s.DISABLED)}))}setStatus(){if(this.status===r.STATUS.aborted)return;let e=this.shadowRoot?.querySelector(".ids-upload-advanced-file"),t=this.shadowRoot?.querySelector("ids-progress-bar"),a=this.shadowRoot?.querySelector(".btn-start"),o=this.shadowRoot?.querySelector(".btn-close .audible"),d=n(this.value);d=d>-1?d:0;let u=!0;if(a&&this.status!==r.STATUS.notStarted&&a.remove(),this.error){let i=this.shadowRoot?.querySelector(".error-row .error-msg");i&&(i.innerHTML=this.errorHtml),this.status===r.STATUS.errored?(u=!1,this.dispatchChangeEvent("error")):this.status=r.STATUS.errored}else this.status===r.STATUS.notStarted?a||this.shadowRoot?.querySelector(".progress-row")?.insertAdjacentHTML("beforeend",`
          <ids-button class="btn-start">
            <span class="audible">${this.startButtonText}</span>
            <ids-icon icon="play" size="xsmall"></ids-icon>
          </ids-button>`):d<100&&(this.status=r.STATUS.inProcess);let p=this.shadowRoot?.querySelector(".progress-text");if(p){let i=p.querySelector(".percent");i&&(i.textContent=`${Math.round(d)}%`),this.status===r.STATUS.completed&&p.remove()}if(o&&(o.innerHTML=this.closeButtonText),t?.setAttribute(s.VALUE,d.toString()),t?.setAttribute(s.LABEL,this.progressLabelText),e?.classList.remove(...Object.values(r.STATUS)),e?.classList.add(this.status??""),u&&this.status!==r.STATUS.inProcess){let i={notStarted:"notstarted",errored:"error",completed:"complete"};this.status&&this.dispatchChangeEvent(i[g(this.status)])}}#e(){this.onEvent("click",this.container,e=>{let t=e?.target?.classList;t?.contains("btn-start")&&this.dispatchChangeEvent("startbuttonclick",e),t?.contains("btn-close")&&this.dispatchChangeEvent("closebuttonclick",e)})}start(){this.status===r.STATUS.notStarted&&this.dispatchChangeEvent("start")}cancel(){this.status===r.STATUS.notStarted&&this.dispatchChangeEvent("cancel")}abortHandler(e=null){this.status===r.STATUS.inProcess&&(this.status=r.STATUS.aborted,this.dispatchChangeEvent("abort",e))}progressHandler(e){this.value=e.loaded/e.total*100}completeHandler(e){e.target.readyState===4&&e.target.status===200?(this.value="100",this.status=r.STATUS.completed,this.setStatus()):(this.value==="100"&&(this.value="0"),this.errorHandler(e))}errorHandler(e){let t="Failed to upload, server issue";typeof e=="string"&&e!==""?t=e:typeof e=="object"&&(t=`${e.target.status} - ${e.target.statusText}`),this.status=r.STATUS.errored,this.error=t}get loaded(){let e=n(this.value),t=n(this.size);return e*t/100}get loadedFormatted(){return r.formatBytes(this.loaded)}get sizeFormatted(){return r.formatBytes(n(this.size))}get closeButtonText(){let e=r.slotVal(this.shadowRoot,"text-btn-cancel");return this.status===r.STATUS.errored?e=r.slotVal(this.shadowRoot,"text-btn-close-error"):this.status===r.STATUS.completed&&(e=r.slotVal(this.shadowRoot,"text-btn-remove")),e}get startButtonText(){return r.slotVal(this.shadowRoot,"text-btn-start")}get progressLabelText(){return r.slotVal(this.shadowRoot,"text-progress-label").replace("{file-name}",this.fileName).replace("{loaded}",this.loadedFormatted.toString()).replace("{size}",this.sizeFormatted.toString()).replace("{percent}",this.value?.toString())}get errorHtml(){return Object.values(r.ERRORS).indexOf(this.error)>-1?r.slotVal(this.shadowRoot,this.error):this.error}set disabled(e){let t=c(e);t?this.setAttribute(s.DISABLED,t.toString()):this.removeAttribute(s.DISABLED),this.toggleDisabled(t)}get disabled(){return this.getAttribute(s.DISABLED)}set error(e){e?this.setAttribute(s.ERROR,e.toString()):this.removeAttribute(s.ERROR),this.setStatus()}get error(){return this.getAttribute(s.ERROR)}set fileName(e){if(e){this.setAttribute(s.FILE_NAME,e.toString());let t=this.shadowRoot?.querySelector(".file-name span");t&&(t.innerHTML=this.fileName)}else this.removeAttribute(s.FILE_NAME)}get fileName(){return this.getAttribute(s.FILE_NAME)||""}set size(e){if(e){this.setAttribute(s.SIZE,e.toString());let t=this.shadowRoot?.querySelector(".size");t&&(t.innerHTML=this.sizeFormatted)}else this.removeAttribute(s.SIZE)}get size(){return this.getAttribute(s.SIZE)}set status(e){this.status!==e&&(Object.values(r.STATUS).indexOf(e)>-1?this.setAttribute(s.STATUS,String(e)):this.removeAttribute(s.STATUS),this.setStatus())}get status(){return this.getAttribute(s.STATUS)}set value(e){e?(!this.status||this.status===r.STATUS.inProcess)&&this.setAttribute(s.VALUE,e.toString()):this.removeAttribute(s.VALUE),this.setStatus()}get value(){return this.getAttribute(s.VALUE)}};l=f([h("ids-upload-advanced-file"),v(x)],l);export{l as a};
