import{a as b}from"./ids-chunk-44CLLQBZ.js";import{a as d}from"./ids-chunk-T6ZV4PDM.js";import{a as n}from"./ids-chunk-AKCO43TX.js";import{a as l,b as r}from"./ids-chunk-XE4WFW5M.js";import{a}from"./ids-chunk-GFV2Z7F5.js";import{a as i}from"./ids-chunk-EQJWBFQ2.js";import{a as c}from"./ids-chunk-U7OOVFXE.js";var h=`
::slotted(img) {
  contain: content;
  margin-bottom: var(--ids-block-grid-margin);
}

:host {
  width: var(--ids-block-grid-item-width);
}

:host([selection=single]),
:host([selection=mixed]),
:host([selection=multiple]) {
  width: var(--ids-block-grid-item-selectable-width);
  max-width: var(--ids-block-grid-item-width-max);
  box-sizing: border-box;
}
:host([selection=single]) .ids-block-grid-item-container,
:host([selection=mixed]) .ids-block-grid-item-container,
:host([selection=multiple]) .ids-block-grid-item-container {
  padding: var(--ids-block-grid-item-selectable-container-padding);
}

:host([selection=multiple][type=block]) {
  width: var(--ids-block-grid-item-selectable-multiple-width);
}
:host([selection=multiple][type=block]) ::slotted(ids-text) {
  text-align: left;
}
:host([selection=multiple][type=block]) .ids-block-grid-item-container {
  padding: var(--ids-block-grid-item-selectable-container-multiple-padding);
}
:host([selection=multiple][type=block]) .ids-block-grid-item-checkbox {
  top: var(--ids-block-grid-item-selectable-size-multiple-block-checkbox-top);
  left: var(--ids-block-grid-item-selectable-size-multiple-block-checkbox-left);
  right: var(--ids-block-grid-item-selectable-multiple-block-checkbox-right);
}

.ids-block-grid-item-container:focus-visible {
  outline: none;
}
.ids-block-grid-item-container.is-selectable {
  border-radius: var(--ids-block-grid-item-border-radius);
  cursor: var(--ids-cursor-pointer);
}
.ids-block-grid-item-container.is-selectable ::slotted(img) {
  border-radius: var(--ids-block-grid-item-selectable-border-radius-container);
}
.ids-block-grid-item-container.is-selectable:hover {
  background-color: var(--ids-block-grid-item-color-background-selectable-hover);
  cursor: var(--ids-cursor-pointer);
}
.ids-block-grid-item-container.is-selectable:focus {
  outline: var(--ids-block-grid-item-selectable-container-focus);
  box-shadow: var(--ids-block-grid-item-shadow-selectable-container-focus);
}
.ids-block-grid-item-container.is-selected:not(:focus) {
  border-radius: var(--ids-block-grid-item-border-radius-selected);
  background-color: var(--ids-block-grid-item-color-background-selected);
  outline: var(--ids-block-grid-item-outline-selected);
}
.ids-block-grid-item-container.is-selected .ids-block-grid-item-checkbox, .ids-block-grid-item-container.is-selectable:hover .ids-block-grid-item-checkbox, .ids-block-grid-item-container.is-selectable:focus .ids-block-grid-item-checkbox {
  visibility: visible;
}
.ids-block-grid-item-container.pre-selected {
  background-color: var(--ids-block-grid-item-pre-color-background-selected);
  cursor: var(--ids-cursor-pointer);
}
.ids-block-grid-item-checkbox {
  position: absolute;
  top: var(--ids-block-grid-checkbox-top-size);
  right: var(--ids-block-grid-checkbox-right-size);
  visibility: hidden;
}`;var k=d(n(b(a))),s=class extends k{checkboxHasFocus=!1;constructor(e={}){super(),this.state={checkboxHasFocus:!1},e.selection&&(this.selection=e.selection)}connectedCallback(){super.connectedCallback(),this.#t().#s()}template(){return`
      <div class="ids-block-grid-item-container" tabindex="0">
        <div class="ids-block-grid-item-checkbox">
          <ids-checkbox></ids-checkbox>
        </div>
        <slot></slot>
      </div>
    `}#t(){this.onEvent("click",this,this.#o);let e=this.container?.querySelector("ids-checkbox");return this.onEvent("click.checkbox",e,t=>{t.stopPropagation(),t.preventDefault(),this.selection==="single"?this.#e(t):this.#i(t)}),this.onEvent("focus.blockitem",this,()=>{this.querySelector("ids-card")?.container?.querySelector("ids-hyperlink")?.container?.focus()}),this}#s(){return this.listen(["Tab"],this,e=>{!this.checkboxHasFocus&&this.selection==="mixed"?(e.preventDefault(),e.stopPropagation(),this.checkboxHasFocus=!0,this.container?.querySelector("ids-checkbox")?.container?.classList.add("has-focus")):(this.nextElementSibling&&!e.shiftKey?(e.preventDefault(),e.stopPropagation(),this.nextElementSibling?.container?.focus()):this.previousElementSibling&&e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.previousElementSibling?.container?.focus()),this.checkboxHasFocus=!1,this.container?.querySelector("ids-checkbox")?.container?.classList.remove("has-focus"))}),this.listen([" "],this,()=>{this.checkboxHasFocus&&this.selection==="mixed"?this.container?.querySelector("ids-checkbox")?.dispatchEvent(new Event("click")):this.dispatchEvent(new Event("click"))}),this}#o(e){this.container?.focus(),this.selection==="single"?this.#e(e):this.selection==="multiple"?this.#i(e):this.#c()}#e(e){this.selected==="true"?(this.setAttribute(i.SELECTED,"false"),this.container?.querySelector("ids-checkbox")?.setAttribute(i.CHECKED,"false")):([...this.parentElement?.querySelectorAll('ids-block-grid-item[selection="single"]')??[]].forEach(o=>{o.container?.querySelector("ids-checkbox")?.setAttribute(i.CHECKED,"false"),o.setAttribute(i.SELECTED,"false")}),this.setAttribute(i.SELECTED,"true"),this.container?.querySelector("ids-checkbox")?.setAttribute(i.CHECKED,"true"));let t={detail:{elem:this,nativeEvent:e,selected:this.selected,selection:this.selection}};this.triggerEvent("selectionchanged",this,t)}#i(e){this.container?.querySelector("ids-checkbox")?.setAttribute(i.CHECKED,String(this.selected!=="true")),this.setAttribute(i.SELECTED,String(this.selected!=="true"));let t={detail:{elem:this,nativeEvent:e,selected:this.selected,selection:this.selection}};this.triggerEvent("selectionchanged",this,t)}#c(){this.preselected==="true"?this.setAttribute(i.PRE_SELECTED,"false"):([...this.parentElement?.querySelectorAll('ids-block-grid-item[selection="mixed"]')??[]].forEach(t=>{t.setAttribute(i.PRE_SELECTED,"false")}),this.setAttribute(i.PRE_SELECTED,"true"))}};s=c([l("ids-block-grid-item"),r(h)],s);export{s as a};
