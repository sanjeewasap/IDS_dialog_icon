import{a as S}from"./ids-chunk-P6WNOQZC.js";import{a as E}from"./ids-chunk-LMOUEXCV.js";import{a as A}from"./ids-chunk-OIS6KGMU.js";import{a as g}from"./ids-chunk-N7RNTKMO.js";import{a as y}from"./ids-chunk-T6ZV4PDM.js";import{a as p}from"./ids-chunk-AKCO43TX.js";import{a as m,b as v}from"./ids-chunk-XE4WFW5M.js";import{a as w}from"./ids-chunk-GFV2Z7F5.js";import{e as b,f as c,g as f}from"./ids-chunk-QPDOZZIG.js";import{a as r}from"./ids-chunk-EQJWBFQ2.js";import{a as u}from"./ids-chunk-U7OOVFXE.js";var I=`
:host([selectable]) .ids-list-view .ids-list-view-body div[part=list-item],
:host([selectable]) .ids-list-view .ids-list-view-body li {
  cursor: var(--ids-cursor-pointer);
}

:host([no-margins]) .ids-list-view .ids-list-view-body div[part=list-item]:first-child,
:host([no-margins]) .ids-list-view .ids-list-view-body li:first-child {
  margin-block-start: var(--ids-space-none);
}

.ids-list-view {
  height: 100%;
  overflow: auto;
  scroll-behavior: smooth;
  position: relative;
}
.ids-list-view .ids-list-view-body {
  margin: 0;
  padding: 0;
}
.ids-list-view .ids-list-view-body:focus {
  border-color: var(--ids-list-view-color-border-focus);
}
.ids-list-view .ids-list-view-body div[part=list-item],
.ids-list-view .ids-list-view-body li {
  background-color: var(--ids-list-view-item-color-background-default);
  border: var(--ids-list-view-item-border);
  border-top-color: var(--ids-list-view-item-color-border-top);
  contain: content;
  list-style-type: none;
  padding: var(--ids-list-view-item-padding);
}
.ids-list-view .ids-list-view-body div[part=list-item]:first-child,
.ids-list-view .ids-list-view-body li:first-child {
  margin-block-start: var(--ids-space-20);
}
.ids-list-view .ids-list-view-body div[part=list-item]:focus,
.ids-list-view .ids-list-view-body li:focus {
  border-color: var(--ids-list-view-item-color-border-focus);
  box-shadow: var(--ids-list-view-item-shadow-focus);
  outline: var(--ids-list-view-item-outline-focus);
}
.ids-list-view .ids-list-view-body div[part=list-item]:focus + div[part=list-item],
.ids-list-view .ids-list-view-body li:focus + div[part=list-item] {
  border-top-color: transparent;
}
.ids-list-view .ids-list-view-body div[part=list-item].sortable,
.ids-list-view .ids-list-view-body li.sortable {
  background-color: transparent;
  border: none;
  cursor: inherit;
}
.ids-list-view .ids-list-view-body div[part=list-item].sortable:first-child,
.ids-list-view .ids-list-view-body li.sortable:first-child {
  margin-block-start: var(--ids-space-none);
}
.ids-list-view .ids-list-view-body div[part=list-item][disabled],
.ids-list-view .ids-list-view-body li[disabled] {
  color: var(--ids-list-view-item-color-text-disabled);
  cursor: var(--ids-cursor-default);
  pointer-events: none;
  user-select: none;
}
.ids-list-view .ids-list-view-body div[part=list-item][disabled]:focus,
.ids-list-view .ids-list-view-body li[disabled]:focus {
  border-color: var(--ids-list-view-item-color-border-disabled-focus);
  border-top-color: var(--ids-list-view-item-top-color-border-disabled-focus);
  box-shadow: var(--ids-list-view-item-shadow-disabled-focus);
}
.ids-list-view .ids-list-view-body div[part=list-item][disabled] ids-badge::part(badge),
.ids-list-view .ids-list-view-body li[disabled] ids-badge::part(badge) {
  background-color: var(--ids-list-view-item-color-background-disabled);
  border-color: var(--ids-list-view-item-color-border-disabled);
  color: var(--ids-list-view-item-badge-color-text-disabled);
}
.ids-list-view .ids-list-view-body div[part=list-item][disabled] ids-hyperlink::part(link),
.ids-list-view .ids-list-view-body li[disabled] ids-hyperlink::part(link) {
  color: var(--ids-list-view-item-color-text-link-disabled);
}
.ids-list-view .ids-list-view-body div[part=list-item][disabled] ids-image,
.ids-list-view .ids-list-view-body li[disabled] ids-image {
  opacity: var(--ids-list-view-item-opacity-disabled);
}
.ids-list-view.has-searchfield .ids-list-view-body div[part=list-item]:first-child,
.ids-list-view.has-searchfield .ids-list-view-body li:first-child {
  margin-block-start: var(--ids-space-none);
}
.ids-list-view.selectable-single .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable):hover, .ids-list-view.selectable-single .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[activated], .ids-list-view.selectable-single .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]),
.ids-list-view.selectable-single .ids-list-view-body li:not([disabled]):not(.sortable):hover,
.ids-list-view.selectable-single .ids-list-view-body li:not([disabled]):not(.sortable)[activated],
.ids-list-view.selectable-single .ids-list-view-body li:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]), .ids-list-view.selectable-multiple .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable):hover, .ids-list-view.selectable-multiple .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[activated], .ids-list-view.selectable-multiple .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]),
.ids-list-view.selectable-multiple .ids-list-view-body li:not([disabled]):not(.sortable):hover,
.ids-list-view.selectable-multiple .ids-list-view-body li:not([disabled]):not(.sortable)[activated],
.ids-list-view.selectable-multiple .ids-list-view-body li:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]), .ids-list-view.selectable-mixed .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable):hover, .ids-list-view.selectable-mixed .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[activated], .ids-list-view.selectable-mixed .ids-list-view-body div[part=list-item]:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]),
.ids-list-view.selectable-mixed .ids-list-view-body li:not([disabled]):not(.sortable):hover,
.ids-list-view.selectable-mixed .ids-list-view-body li:not([disabled]):not(.sortable)[activated],
.ids-list-view.selectable-mixed .ids-list-view-body li:not([disabled]):not(.sortable)[selected]:not([hide-selected-color]) {
  background-color: var(--ids-list-view-color-background-selected);
}
.ids-list-view.selectable-multiple .list-item-area, .ids-list-view.selectable-mixed .list-item-area {
  display: flex;
  align-items: center;
}
.ids-list-view.selectable-multiple .list-item-area .list-item-checkbox, .ids-list-view.selectable-mixed .list-item-area .list-item-checkbox {
  padding-inline-end: var(--ids-space-70);
  flex-grow: 0;
  flex-shrink: 0;
  max-height: var(--ids-space-60);
  max-width: var(--ids-space-60);
}
.ids-list-view.selectable-multiple .list-item-area .list-item-checkbox[disabled]::part(checkmark), .ids-list-view.selectable-mixed .list-item-area .list-item-checkbox[disabled]::part(checkmark) {
  background-color: transparent;
}

ids-swappable-item {
  border: 1px solid transparent;
  border-bottom-color: var(--ids-color-neutral-20);
}

ids-swappable-item[over] {
  border: 1px dashed var(--ids-color-neutral-80);
}`;var L=g(E(S(y(p(w))))),d={hideCheckboxes:!1,height:"100%",label:"Ids list view",selectableOptions:["single","multiple","mixed"],sortable:!1,suppressDeactivation:!1,suppressDeselection:!0,virtualScroll:!1},h=class extends L{constructor(){super()}initialized=!1;#c=0;#i=-1;#l=!1;#e=!1;#s=0;datasource=new A;defaultTemplate="";vetoableEventTypes=["beforeitemactivated","beforeitemdeactivated","beforeselected","beforedeselected"];connectedCallback(){super.connectedCallback(),this.defaultTemplate=`${this.querySelector("template")?.innerHTML||""}`,this.dataKeys=this.#v(this.defaultTemplate),this.#h()}static get attributes(){return[...super.attributes,r.LOADED,r.HEIGHT,r.HIDE_CHECKBOXES,r.ITEM_HEIGHT,r.LABEL,r.SELECTABLE,r.SORTABLE,r.SUPPRESS_DEACTIVATION,r.SUPPRESS_DESELECTION,r.VIRTUAL_SCROLL]}#v(e){let t=e.split("${");return t.shift(),t.map(s=>s.split("}")[0])}getAllLi(){return this.container?.querySelectorAll('div[part="list-item"]')}getAllSwappableItems(){return this.container?.querySelectorAll("ids-swappable-item")}#f(){this.getAllLi()?.forEach(e=>{e.classList.add("sortable")})}#d(e){let t=e?.getAttribute("role")==="option"?e:e?.closest('[role="option"]'),i=c(t?.getAttribute("index"));return Number.isNaN(i)?null:{item:t,index:i,data:this.data[i]}}#r(e){return Number.isNaN(e)||!this.container?null:this.container.querySelector(`div[part="list-item"][index="${e}"]`)}dataIndex(e){let t=c(e);return Number.isNaN(t)?null:t>=0&&t<this.#s?t+(this.pageNumber-1)*this.#s:null}pageIndex(e){let t=c(e);return Number.isNaN(t)?null:(t-=(this.pageNumber-1)*this.#s,t>=0&&t<this.#s?t:null)}isInPage(e){let t=c(e);if(Number.isNaN(t))return!1;let i=this.pageNumber*this.#s,s=i-this.#s;return this.virtualScroll&&(i=this.virtualScrollContainer?.lastEnd,s=this.virtualScrollContainer?.lastStart),e>=s&&e<i}#g(e){let t=this.#d(e.target);t&&(this.#l=e.target?.classList.contains("list-item-checkbox"),this.#l&&e.preventDefault(),this.#b(t))}#p(e){switch(e.code){case"ArrowUp":e.preventDefault(),this.focusLi(this.getPreviousLi(this.getFocusedLi()));break;case"ArrowDown":e.preventDefault(),this.focusLi(this.getNextLi(this.getFocusedLi()));break;case"Space":e.preventDefault();break;default:break}}#y(e){if(/^(Space|Enter)$/g.test(e.code)){e.preventDefault(),e.stopPropagation();let t=this.getFocusedLi();if(this.selectable==="mixed"){let i=t?.querySelector(".list-item-checkbox");i&&(i.checked=!i.checked),this.#l=!0}this.#b(this.#d(t))}}#w(e){let{startIndex:t,endIndex:i}=e.detail||{};this.#A(t);for(let s=t;s<i;s++){if(this.data?.[s]?.itemSelected){let l=this.#r(s),a=l?.querySelector(".list-item-checkbox");a&&(a.checked=!0),l?.setAttribute("selected",""),l?.setAttribute("aria-selected","true"),this.selectable==="mixed"&&l?.setAttribute("hide-selected-color","")}this.data?.[s]?.itemActivated&&this.#r(s)?.setAttribute("activated","")}}#h(){this.offEvent("click.listview",this.container),this.onEvent("click.listview",this.container,e=>{let t=this.#d(e.target);t&&this.#t("click",{...t,originalEvent:e})}),this.offEvent("dblclick.listview",this.container),this.onEvent("dblclick.listview",this.container,e=>{let t=this.#d(e.target);t&&this.#t("dblclick",{...t,originalEvent:e})}),this.sortable?this.#f():(this.offEvent("click.listview-selection",this.container),this.onEvent("click.listview-selection",this.container,e=>this.#g(e)),this.offEvent("keydown.listview-selection",this.container),this.onEvent("keydown.listview-selection",this.container,e=>this.#p(e)),this.offEvent("keyup.listview-selection",this.container),this.onEvent("keyup.listview-selection",this.container,e=>this.#y(e)),this.offEvent("aftervirtualscroll.listview",this.virtualScrollContainer),this.onEvent("aftervirtualscroll.listview",this.virtualScrollContainer,e=>this.#w(e)))}#b(e){if(!e)return;let{item:t,index:i}=e,s=this.dataIndex(i),l=!0;if(this.selectable){let a=this.selected;this.selectable==="single"&&(l=this.#o(i)),this.selectable==="multiple"&&(a.some(n=>n.index===s)?l=this.#n(i):l=this.#o(i)),this.selectable==="mixed"&&(this.#l?a.some(n=>n.index===s)?l=this.#n(i):l=this.#o(i):this.#m(i))}l&&this.focusLi(t)}focusLi(e,t=!1){if(e){let i=this.getFocusedLi();e!==i&&(i?.setAttribute("tabindex","-1"),this.#c=e.getAttribute("index")),this.container?.querySelector(".ids-list-view-body")?.setAttribute("aria-activedescendant",String(e.getAttribute("id"))),e.setAttribute("tabindex","0"),t||e.focus()}}getFocusedLi(){return this.container?.querySelector(`div[part="list-item"][index="${this.#c}"]`)??this.container?.querySelector('div[part="list-item"][tabindex="0"]')}getPreviousLi(e){let t=e&&typeof e.getAttribute=="function"?e.getAttribute("index"):null;if(t=c(t),Number.isNaN(t))return;let i=[...this.getAllLi()??[]].slice(0,t+1),s=a=>this.sortable?a.parentElement.previousElementSibling?.firstElementChildwrapper:a.previousElementSibling,l=e;return i.reverse().some(a=>(l=s(a),!l?.hasAttribute("disabled"))),l}getNextLi(e){let t=e&&typeof e.getAttribute=="function"?e.getAttribute("index"):null;if(t=c(t),Number.isNaN(t))return;let i=[...this.getAllLi()??[]].slice(t),s=a=>this.sortable?a.parentElement.nextElementSibling?.firstElementChild:a.nextElementSibling,l=e;return i.some(a=>(l=s(a),!l?.hasAttribute("disabled"))),l}listItemTemplateFunc(){let e=(i,s)=>{if(this.selectable==="multiple"||this.selectable==="mixed"){let l=i.itemSelected?" checked":"",a=i.disabled?" disabled":"",n=`<ids-checkbox class="list-item-checkbox" label="cb-item-${s}" label-state="hidden"${l}${a}></ids-checkbox>`;return this.selectable==="multiple"&&this.hideCheckboxes&&(n=""),`
          <div class="list-item-area">
            ${n}
            <div class="list-item-content">
              ${this.itemTemplate(i)}
            </div>
          </div>`}return this.itemTemplate(i)};return(i,s)=>{let l=i.disabled?" disabled":"",a=`tabindex="${typeof s<"u"&&!s?"0":"-1"}"`,n=i.itemActivated?" activated":"",o="";return i.itemSelected&&(o=' selected aria-selected="true"',this.selectable==="mixed"&&(o+=" hide-selected-color")),`
        ${this.sortable?`<ids-swappable-item
            role="listitem"
            tabindex="-1"
            tabbable="${s===0?"true":"false"}"
            index="${s}"
            id="id_item_${s+1}"
            aria-posinset="${s+1}"
            aria-setsize="${this.data.length}"
            ${l}
          >`:""}
          <div
            part="list-item"
            role="option"
            index="${s}"
            aria-posinset="${s+1}"
            aria-setsize="${this.#s}"
            ${a}${n}${o}${l}
          >
            ${e(i,s)}
          </div>
        ${this.sortable?"</ids-swappable-item>":""}
      `}}staticScrollTemplate(){return`
      <div class="ids-list-view${this.selectable?` ${this.selectableClass()}`:""}">
        <div class="ids-list-view-body" role="listbox" aria-label="${this.label}">
          ${this.sortable?`<ids-swappable selection=${this.selectable}>`:""}
            ${this.data?.length>0?this.data.map(this.listItemTemplateFunc()).join(""):""}
          ${this.sortable?"</ids-swappable>":""}
        </div>
      </div>
    `}virtualScrollTemplate(){return`
      <div class="ids-list-view${this.selectable?` ${this.selectableClass()}`:""}">
        <ids-virtual-scroll
          height="${this.height}"
          item-height="${this.itemHeight}"
        >
          <div class="ids-list-view-body" role="listbox" aria-label="${this.label}" part="contents"></div>
        </ids-virtual-scroll>
      </div>
    `}template(){return`
      ${this.searchTemplate?.()}
      ${this.virtualScroll?this.virtualScrollTemplate():this.staticScrollTemplate()}
    `}itemTemplate(e){let t=this.searchHighlight?.(e)||e;return f(this.defaultTemplate,t)}pagerTemplate(){return`
      <ids-pager-button label="Previous page" previous></ids-pager-button>
      <ids-pager-number-list label="Page {num} of {total}"></ids-pager-number-list>
      <ids-pager-button label="Next page" next></ids-pager-button>
    `}#A(e){let t=this.getAllLi(),i=t?.length;e===0&&t?.item(0)?.setAttribute("tabindex","0"),t?.forEach((s,l)=>{s?.setAttribute("index",l+e),s?.setAttribute("aria-posinset",l+1),s?.setAttribute("aria-setsize",i)})}#E(){if(this.selectable==="multiple"){let e=this.hideCheckboxes,t=!!this.body?.querySelector(".list-item-checkbox");e&&t?this.body?.querySelectorAll(".list-item-checkbox").forEach(i=>i?.remove()):!e&&!t&&this.getAllLi()?.forEach(i=>{if(!i)return;let s=i.getAttribute("index"),l=i.hasAttribute("selected"),a=i.hasAttribute("disabled"),n=l?" checked":"",o=a?" disabled":"";i.querySelector(".list-item-area")?.insertAdjacentHTML("afterbegin",`
            <ids-checkbox
             class="list-item-checkbox"
             label="cb-item-${s}"
             label-state="hidden"${n}${o}></ids-checkbox>
          `)})}}toggleSelectedAttribute(e,t){if(!this.selectable||e?.tagName!=="IDS-SWAPPABLE-ITEM")return;let i=()=>{e.removeAttribute("selected"),e.removeAttribute("aria-selected"),this.#i=-1},s=()=>{e.setAttribute("selected","selected"),e.setAttribute("aria-selected","true"),this.#i=parseInt(e.getAttribute("index")||"-1"),this.triggerEvent("itemSelect",this,{detail:this.getListItemData(e)})};t===!0?s():t===!1?i():(e.hasAttribute("selected")?i():s(),this.focusLi(e))}toggleSelectedLi(e){if(!(!this.selectable||!e)&&e.tagName==="IDS-SWAPPABLE-ITEM"){if(this.selectable==="single"){let t=this.selectedLi;e!==t&&t&&this.toggleSelectedAttribute(t)}this.toggleSelectedAttribute(e)}}updateDataFromDOM(){let e=[];this.container?.querySelectorAll('div[part="list-item"]').forEach(t=>{let i={};t.querySelectorAll("ids-text").forEach((s,l)=>{i[this.dataKeys[l]]=s.innerHTML}),e.push(i)}),this.datasource&&(this.datasource.data=e)}redraw(){if(!this.data||!this.loaded){this.data?.length||this.getAllLi()?.forEach(s=>s?.remove());return}this.#s=this.pagination==="none"?this.pageTotal:this.pageSize;let e=this.container?.getAttribute("dir"),t=this.template();this.container?.parentElement?this.container?.parentElement.remove():this.container?.remove(),this.searchContainer?.remove();let i=this.shadowRoot?.querySelector("style");if(i)i.insertAdjacentHTML("afterend",t);else{let s=document.createElement("template");s.innerHTML=t,this.shadowRoot?.appendChild(s.content.cloneNode(!0))}if(this.container=this.shadowRoot?.querySelector(".ids-list-view"),this.data?.length>0){if(this.virtualScroll){let s=this.itemHeight||this.#S(`
          <div part="list-item" tabindex="-1" id="height-tester">
            ${this.itemTemplate(this.datasource.data[0])}
          </div>
        `);this.virtualScrollContainer&&(this.virtualScrollContainer.itemHeight=s,this.virtualScrollContainer.itemTemplate=this.listItemTemplateFunc(),this.virtualScrollContainer.data=this.data)}this.#h()}this.setSearchable?.(),this.pager?.sync?.apply(this),this.adjustHeight(),e&&this.container?.setAttribute("dir",e)}get virtualScrollContainer(){return this.container?.querySelector("ids-virtual-scroll")}get body(){return this.container?.querySelector(".ids-list-view-body")}adjustHeight(){if(!this.container)return;(this.virtualScroll?this.virtualScrollContainer:this.container)?.style.setProperty("height",`${this.height}`)}#S(e){this.container?.insertAdjacentHTML("beforeend",e);let t=this.shadowRoot?.querySelector("#height-tester"),i=t?.offsetHeight;return t?.remove(),i??NaN}boolVal(e,t){return this.hasAttribute(e)?b(this.getAttribute(e)):t}get ds(){return this.datasource?.allData||this.data}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),t===i)return;[r.LOADED,r.SELECTABLE,r.VIRTUAL_SCROLL,r.PAGE_NUMBER,r.PAGE_SIZE,r.PAGE_TOTAL].includes(e)&&this.redraw()}set data(e){let t=this.initialized;e?(this.initialized=!0,this.datasource.data=e,this.loaded=!0,t&&this.redraw()):(this.datasource.data=[],this.loaded=!1)}get data(){return this?.datasource?.data||""}set loaded(e){this.setAttribute(r.LOADED,String(!!e))}get loaded(){return b(r.LOADED)}set dataKeys(e){this.datasource&&(this.datasource.dataKeys=e||[])}get dataKeys(){return this.datasource.dataKeys||[]}set virtualScroll(e){/boolean|string/g.test(typeof e)?this.setAttribute(r.VIRTUAL_SCROLL,String(e)):this.removeAttribute(r.VIRTUAL_SCROLL)}get virtualScroll(){return this.boolVal(r.VIRTUAL_SCROLL,d.virtualScroll)}set height(e){e?this.setAttribute(r.HEIGHT,String(e)):this.setAttribute(r.HEIGHT,d.height)}get height(){return this.getAttribute(r.HEIGHT)||d.height}set itemHeight(e){e?this.setAttribute(r.ITEM_HEIGHT,String(e)):this.removeAttribute(r.ITEM_HEIGHT)}get itemHeight(){return parseInt(this.getAttribute(r.ITEM_HEIGHT)??"")}set selectable(e){this.container?.classList.remove(...this.selectableClass(!0)),d.selectableOptions.includes(String(e))?(this.setAttribute(r.SELECTABLE,String(e)),this.container?.classList.add(this.selectableClass())):this.removeAttribute(r.SELECTABLE)}get selectable(){return this.getAttribute(r.SELECTABLE)}selectableClass(e){let t=s=>`selectable-${s}`,i="";return e&&(i=d.selectableOptions.map(s=>t(s))),this.selectable!==null&&(i=t(this.selectable)),i}get activatedItem(){return!this.ds||this.selectable!=="mixed"?null:(t=>t>-1?{index:t,data:this.ds[t]}:null)(this.ds.findIndex(t=>t.itemActivated))}get selected(){if(!this.ds||!this.selectable)return null;let e=t=>t>-1?{index:t,data:this.ds[t]}:null;return this.selectable==="single"?e(this.ds.findIndex(t=>t.itemSelected)):this.ds.map((t,i)=>({index:i,data:t})).filter(t=>t.data.itemSelected)}set sortable(e){/boolean|string/g.test(typeof e)?this.setAttribute(r.SORTABLE,String(e)):this.removeAttribute(r.SORTABLE)}get sortable(){return this.boolVal(r.SORTABLE,d.sortable)}set suppressDeactivation(e){/boolean|string/g.test(typeof e)?this.setAttribute(r.SUPPRESS_DEACTIVATION,String(e)):this.removeAttribute(r.SUPPRESS_DEACTIVATION)}get suppressDeactivation(){return this.boolVal(r.SUPPRESS_DEACTIVATION,d.suppressDeactivation)}set suppressDeselection(e){/boolean|string/g.test(typeof e)?this.setAttribute(r.SUPPRESS_DESELECTION,String(e)):this.removeAttribute(r.SUPPRESS_DESELECTION)}get suppressDeselection(){return this.boolVal(r.SUPPRESS_DESELECTION,d.suppressDeselection)}set hideCheckboxes(e){/boolean|string/g.test(typeof e)?this.setAttribute(r.HIDE_CHECKBOXES,String(e)):this.removeAttribute(r.HIDE_CHECKBOXES),this.#E()}get hideCheckboxes(){return this.boolVal(r.HIDE_CHECKBOXES,d.hideCheckboxes)}set label(e){e?this.setAttribute(r.LABEL,e):this.removeAttribute(r.LABEL),this.body?.setAttribute("aria-label",this.label)}get label(){return this.getAttribute(r.LABEL)||d.label}#u(e,t=!1){let i=e?.querySelector(".list-item-checkbox");i&&(i.checked=t)}#t(e,t={}){this.triggerEvent(e,this,{bubbles:!0,detail:{elem:this,...t}})}#m(e){if(this.data?.[e]?.disabled)return!0;let t=this.dataIndex(e);if(this.#i!==-1){let l=this.ds.findIndex(a=>a.itemActivated);if(this.#e=!0,l===t)return this.suppressDeactivation?this.isInPage(l)?this.#a(this.pageIndex(l)):this.deactivateItem(l):!0;if(this.isInPage(l)){if(!this.#a(this.pageIndex(l)))return!1}else if(!this.deactivateItem(l))return!1}let i=this.#r(e),s=()=>({item:i,index:e,dataIndex:t,data:this.data[e]});return this.triggerVetoableEvent("beforeitemactivated",{...s()})?(i?.setAttribute("activated",""),this.#i=t,this.data[e].itemActivated=!0,this.#t("itemactivated",{...s()}),this.focusLi(i,!0),!0):!1}#a(e){if(this.data?.[e]?.disabled||this.#i===-1)return!0;let t=this.dataIndex(e);if(this.#e)this.#e=!1;else if(this.ds.findIndex(a=>a.itemActivated)===t&&!this.suppressDeactivation)return!1;let i=this.#r(e),s=()=>({item:i,index:e,dataIndex:t,data:this.data[e]});return this.triggerVetoableEvent("beforeitemdeactivated",{...s()})?(delete this.data[e].itemActivated,i?.removeAttribute("activated"),this.#i=-1,this.#t("itemdeactivated",{...s()}),this.focusLi(i),!0):!1}activateItem(e){if(this.ds?.[e]?.disabled||e===-1)return!0;if(this.isInPage(e))return this.#m(this.pageIndex(e));if(this.#i!==-1){let i=this.ds.findIndex(s=>s.itemActivated);if(this.#e=!0,i===e)return this.suppressDeactivation?this.isInPage(i)?this.#a(this.pageIndex(i)):this.deactivateItem(i):!0;if(this.isInPage(i)){if(!this.#a(this.pageIndex(i)))return!1}else if(!this.deactivateItem(i))return!1}let t=()=>({dataIndex:e,data:this.ds[e]});return this.triggerVetoableEvent("beforeitemactivated",{...t()})?(this.#i=e,this.ds[e].itemActivated=!0,this.#t("itemactivated",{...t()}),!0):!1}deactivateItem(e){if(this.ds?.[e]?.disabled||this.#i===-1)return!0;if(this.isInPage(e))return this.#a(this.pageIndex(e));if(this.#e)this.#e=!1;else if(this.ds.findIndex(s=>s.itemActivated)===e&&!this.suppressDeactivation)return!1;let t=()=>({dataIndex:e,data:this.ds[e]});return this.triggerVetoableEvent("beforeitemdeactivated",{...t()})?(this.ds[e]?.itemActivated&&delete this.ds[e].itemActivated,this.#i=-1,this.#t("itemdeactivated",{...t()}),!0):!1}#o(e){if(this.data?.[e]?.disabled)return!0;let t=this.dataIndex(e),i=this.selected;if(this.selectable==="single"&&i){let o=i.index===t;if(o&&!this.suppressDeselection)return!0;if(this.#e=!0,this.isInPage(i.index)){if(!this.#n(this.pageIndex(i.index)))return!1}else if(!this.deselect(i.index))return!1;if(o)return!0}let s=this.#r(e),l=s?.querySelector(".list-item-checkbox"),a=this.selectable==="single"?"selectedItem":"selectedItems",n={item:s,index:e,dataIndex:t,data:this.data[e]};return this.#l=!1,this.triggerVetoableEvent("beforeselected",{...n,[a]:this.selected})?(this.data[e].itemSelected=!0,l&&(l.checked=!0),s?.setAttribute("selected",""),this.selectable==="mixed"&&s?.setAttribute("hide-selected-color",""),this.#t("selected",{...n,[a]:this.selected}),this.focusLi(s),!0):(this.#u(s,!1),!1)}#n(e){if(this.data?.[e]?.disabled)return!0;let t=this.selected;if(!t||/^(multiple|mixed)$/g.test(String(this.selectable))&&!t.length)return!0;if(this.selectable==="single"){if(this.#e)this.#e=!1;else if(this.dataIndex(e)===t.index&&!this.suppressDeselection)return!1}let i=this.#r(e),s=this.dataIndex(e),l=i?.querySelector(".list-item-checkbox"),a=this.selectable==="single"?"selectedItem":"selectedItems",n={item:i,index:e,dataIndex:s,data:this.data[e]};return this.#l=!1,this.triggerVetoableEvent("beforedeselected",{...n,[a]:this.selected})?(delete this.data[e].itemSelected,l&&(l.checked=!1),i?.removeAttribute("selected"),i?.removeAttribute("hide-selected-color"),this.#t("deselected",{...n,[a]:this.selected}),this.focusLi(i),!0):(this.#u(i,!0),!1)}select(e){if(this.ds?.[e]?.disabled)return!0;if(this.isInPage(e))return this.#o(this.pageIndex(e));let t=this.selected;if(this.selectable==="single"&&t){let l=t.index===e;if(l&&!this.suppressDeselection)return!0;if(this.#e=!0,this.isInPage(t.index)){if(!this.#n(this.pageIndex(t.index)))return!1}else if(!this.deselect(t.index))return!1;if(l)return!0}let i=this.selectable==="single"?"selectedItem":"selectedItems",s={dataIndex:e,data:this.ds[e]};return this.triggerVetoableEvent("beforeselected",{...s,[i]:this.selected})?(this.ds[e].itemSelected=!0,this.#t("selected",{...s,[i]:this.selected}),!0):!1}deselect(e){if(this.ds?.[e]?.disabled)return!0;let t=this.selected;if(!t||/^(multiple|mixed)$/g.test(String(this.selectable))&&!t.length)return!0;if(this.isInPage(e))return this.#n(this.pageIndex(e));if(this.selectable==="single"){if(this.#e)this.#e=!1;else if(e===t.index&&!this.suppressDeselection)return!1}let i=this.selectable==="single"?"selectedItem":"selectedItems",s={dataIndex:e,data:this.ds[e]};return this.triggerVetoableEvent("beforedeselected",{...s,[i]:this.selected})?(delete this.ds[e].itemSelected,this.#t("deselected",{...s,[i]:this.selected}),!0):!1}selectAll(){this.toggleAll()}deselectAll(){this.toggleAll(!0)}toggleAll(e){let t=e?"deselect":"select";if(this.selectable){let i=this.selected,s,l=0;this.selectable==="single"&&(s="selectedItem",l=i?1:0,e&&l&&this[t](i.index),!e&&!l&&this[t](0)),/multiple|mixed/g.test(this.selectable)&&(s="selectedItems",l=i.length,this.ds?.forEach((a,n)=>this[t](n))),this.selected?.length!==l&&this.#t("selectionchanged",{[s]:this.selected})}}getListItemData(e){let t=e?.getAttribute("index");return t?this.data[t]:{}}getFocusedLiIndex(){return this.#c}getAllSelectedLiIndex(){let e=[];return this.container?.querySelectorAll("ids-swappable-item[selected]").forEach(t=>{e.push(+(t.getAttribute("index")??-1))}),e}};h=u([m("ids-list-view"),v(I)],h);export{h as a};
