import{a as l,c as A,d as h,f as b,g as r,h as u,i as B,j as P,k as p,l as I}from"./ids-chunk-Z4LLT2TE.js";import{a as C}from"./ids-chunk-M7IB5XSG.js";import{a as T}from"./ids-chunk-N7RNTKMO.js";import{a as v}from"./ids-chunk-T6ZV4PDM.js";import{c as E,d as x}from"./ids-chunk-LCUXCSNZ.js";import{a as y}from"./ids-chunk-AKCO43TX.js";import{a as S,b as L}from"./ids-chunk-XE4WFW5M.js";import{a as R}from"./ids-chunk-GFV2Z7F5.js";import{a as O,e as g}from"./ids-chunk-QPDOZZIG.js";import{a as s}from"./ids-chunk-EQJWBFQ2.js";import{a as f}from"./ids-chunk-U7OOVFXE.js";var _=`
/* Ids Toast Component */
.ids-toast .hidden {
  display: none;
}
.ids-toast .toast-container {
  display: inline-block;
  position: fixed;
  max-width: 60%;
  z-index: var(--ids-z-index-90);
}
.ids-toast .toast-container.bottom-end {
  bottom: 8px;
  right: 8px;
}
.ids-toast .toast-container.bottom-start {
  bottom: 8px;
  left: 8px;
}
.ids-toast .toast-container.top-end {
  top: 8px;
  right: 8px;
}
.ids-toast .toast-container.top-start {
  top: 8px;
  left: 8px;
}

:host([dir=rtl]) .toast-container.bottom-end {
  left: 8px;
  right: unset;
}
:host([dir=rtl]) .toast-container.bottom-start {
  left: unset;
  right: 8px;
}
:host([dir=rtl]) .toast-container.top-end {
  left: 8px;
  right: unset;
}
:host([dir=rtl]) .toast-container.top-start {
  left: unset;
  right: 8px;
}`;var N=T(v(y(R))),m=class extends N{ls;constructor(){super()}connectedCallback(){super.connectedCallback()}static get attributes(){return[...super.attributes,s.ALLOW_LINK,s.AUDIBLE,s.DRAGGABLE,s.POSITION,s.PROGRESS_BAR,s.SAVE_POSITION,s.TIMEOUT,s.UNIQUE_ID,h]}template(){let t=l;return`<div class="ids-toast">${`
      <div class="hidden">
        <slot name="title">${t.title}</slot>
        <slot name="message">${t.message}</slot>
        <slot name="close-button-label">${t.closeButtonLabel}</slot>
      </div>`}</div>`}#t=new Map;#o=0;clearPosition(t){let e=[];if(this.#i()){let i=t||this.uniqueId,o=u(i);Object.keys(localStorage).some(n=>n===o)&&(localStorage.removeItem(o),e.push(i))}this.triggerEvent(r.clearPosition,this,{detail:{elem:this,clearIds:e}}),this.#s()}clearPositionAll(){let t=[];this.#i()&&Object.keys(localStorage).forEach(i=>{let o="{idstempclearstorage}",a=u(o);if(new RegExp(`^${a.replace(o,"(.+)")}$`,"g").test(i)){let c=a.split(o),d=new RegExp(`^${c.join("|")}$`,"g"),M=i.replace(d,"");localStorage.removeItem(i),t.push(M)}}),this.triggerEvent(r.clearPosition,this,{detail:{elem:this,clearIds:t}}),this.#s()}messageElem(t){let e=A;return this.shadowRoot?.querySelector(`[${e}="${t}"]`)}show(t){let e=C(t)?t:{};e.messageId=this.#h(e.messageId);let i=this.#d(e);this.#t.set(i,e);let o=this.toastContainer();o?.appendChild(i),this.#u(i),this.#b(o),this.triggerEvent(r.addMessage,this,{detail:{elem:i,messageId:e.messageId,options:e}})}toastContainer(){let t=this.shadowRoot?.querySelector(".toast-container");return t||(t=document.createElement("ids-draggable"),t.setAttribute("disabled","true"),t.classList.add("toast-container",this.position),this.container?.appendChild(t)),t}#r(t){let e=t?t.toString():this.#e("title"),i=document.createElement("span");return i.setAttribute("slot","title"),i.innerHTML=E(e),i}#a(t,e){let i=t?t.toString():this.#e("message"),o=document.createElement("span");return o.setAttribute("slot","message"),o.innerHTML=e?x(i,"<a><br><p><ids-hyperlink>"):E(i),o}#l(t){let e=t?t.toString():this.#e("close-button-label"),i=document.createElement("span");return i.setAttribute("slot","close-button-label"),i.textContent=e,i}#d(t){let e=(a,n)=>{let c=O(n),d={toast:this[c],opt:t[c]};typeof d.opt<"u"&&d.opt!==null&&a.setAttribute(n,d.opt.toString())},i=typeof t.allowLink<"u"?t.allowLink:this.allowLink,o=document.createElement("ids-toast-message");return o.setAttribute(A,t?.messageId),e(o,s.AUDIBLE),e(o,s.PROGRESS_BAR),e(o,s.TIMEOUT),document.body?.querySelector("ids-container")?.getAttribute("dir")==="rtl"&&(this.setAttribute("dir","rtl"),o.setAttribute("dir","rtl")),o.appendChild(this.#r(t?.title)),o.appendChild(this.#a(t?.message,i)),o.appendChild(this.#l(t?.closeButtonLabel)),o}#h(t){let e;if(t){let i=!1;this.#t.forEach(o=>{t===o.messageId&&(i=!0)}),e=i?`${t}-${this.#o++}`:t}else e=B(this.uniqueId,this.#o++);return e}#e(t){return P(this.shadowRoot,t)}#s(){let t=this.shadowRoot?.host;t?.parentNode?.removeChild(t)}#u(t){let e=this.toastContainer();return this.onEvent(r.removeMessage,t,i=>{let o=i?.detail?.elem,a=this.#t.get(o)?.messageId,n=this.messageElem(a);n?.parentNode?.removeChild(n),this.#t.delete(o),this.triggerEvent(r.removeMessage,this,{detail:i?.detail}),this.#t.size||(this.#m(),e?.parentNode?.removeChild(e),this.triggerEvent(r.removeContainer,this,{detail:{elem:this,uniqueId:this.uniqueId}}),this.destroyOnComplete&&this.#s())}),this}#n(){return this.savePosition&&this.draggable&&this.#i()}#m(){let e=this.shadowRoot?.querySelector(".toast-container")?.style?.transform;this.#n()&&e&&(localStorage.setItem(u(this.uniqueId),e),this.triggerEvent(r.savePosition,this,{detail:{elem:this,uniqueId:this.uniqueId,value:e}}))}#c(){return this.#n()?localStorage.getItem(u(this.uniqueId)):null}#i(){let t=!1;this.ls=this.ls||localStorage;try{t=this.ls?.getItem?!0:this.ls.setError.true}catch{t=!1}return t}#g(t){return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}#b(t){let e=()=>{t.style.transform="none"};if(this.draggable){let i=this.#c();if(i){t.style.transform=i;let o=t.getBoundingClientRect();this.#g(o)||e()}t.disabled=!1}else t.disabled=!0,e()}set allowLink(t){g(t)?this.setAttribute(s.ALLOW_LINK,""):this.removeAttribute(s.ALLOW_LINK)}get allowLink(){return this.hasAttribute(s.ALLOW_LINK)}set audible(t){g(t)?this.setAttribute(s.AUDIBLE,""):this.removeAttribute(s.AUDIBLE)}get audible(){return this.hasAttribute(s.AUDIBLE)}set destroyOnComplete(t){I(t)?this.setAttribute(h,t.toString()):this.removeAttribute(h)}get destroyOnComplete(){return p(this,h)}set draggable(t){g(t)?this.setAttribute(s.DRAGGABLE,""):this.removeAttribute(s.DRAGGABLE)}get draggable(){return this.hasAttribute(s.DRAGGABLE)}set position(t){let e=this.toastContainer();b.indexOf(t)>-1?(this.setAttribute(s.POSITION,t),e?.classList.remove(...b),e?.classList.add(t)):(this.removeAttribute(s.POSITION),e?.classList.remove(...b),e?.classList.add(l.position))}get position(){let t=this.getAttribute(s.POSITION);return t!==null?t:l.position}set progressBar(t){I(t)?this.setAttribute(s.PROGRESS_BAR,t.toString()):this.removeAttribute(s.PROGRESS_BAR)}get progressBar(){return p(this,s.PROGRESS_BAR)}set savePosition(t){I(t)?this.setAttribute(s.SAVE_POSITION,t.toString()):this.removeAttribute(s.SAVE_POSITION)}get savePosition(){return p(this,s.SAVE_POSITION)}set timeout(t){t?this.setAttribute(s.TIMEOUT,t.toString()):this.removeAttribute(s.TIMEOUT)}get timeout(){let t=this.getAttribute(s.TIMEOUT);return t!==null?t:l.timeout}set uniqueId(t){t?this.setAttribute(s.UNIQUE_ID,t.toString()):this.removeAttribute(s.UNIQUE_ID)}get uniqueId(){let t=this.getAttribute(s.UNIQUE_ID);return t!==null?t:l.uniqueId}};m=f([S("ids-toast"),L(_)],m);export{m as a};
