import{a as D}from"./ids-chunk-J3OLORFB.js";import{a as x,d as v,e as a}from"./ids-chunk-I2COW2SQ.js";import{d as P}from"./ids-chunk-ODGLGMPF.js";import{a as A}from"./ids-chunk-N7RNTKMO.js";import{r as g,s as w}from"./ids-chunk-4W3JMIJK.js";import{a as H}from"./ids-chunk-T6ZV4PDM.js";import{a as T}from"./ids-chunk-AKCO43TX.js";import{a as S,b as M}from"./ids-chunk-XE4WFW5M.js";import{a as W}from"./ids-chunk-GFV2Z7F5.js";import{e as d,f as m}from"./ids-chunk-QPDOZZIG.js";import{a as o,b as y}from"./ids-chunk-EQJWBFQ2.js";import{a as L}from"./ids-chunk-U7OOVFXE.js";var I=`
:host {
  display: block;
  height: 100%;
}

.picklist {
  display: flex;
  height: 100%;
  position: relative;
}

:not(.is-expanded) .picklist-section::before {
  background-color: transparent;
}

.picklist-section {
  height: 100%;
  width: 50%;
  flex: 0 0 50%;
}
.picklist-section:only-child {
  width: 100%;
  flex: 0 0 100%;
}
.picklist-section + .picklist-section::before {
  background-color: var(--ids-color-neutral-30);
  position: absolute;
  content: " ";
  width: 1px;
  left: 0;
  right: 0;
  margin-left: auto;
  margin-right: auto;
  height: calc(75% + 14px);
  top: calc(12.5% - 4px);
}

.picklist-list {
  display: flex;
  list-style: none;
  align-items: center;
  flex-direction: column;
  justify-content: space-around;
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
  height: 100%;
}

.picklist-item {
  display: flex;
  cursor: pointer;
  border: 1px solid transparent;
  color: var(--ids-date-picker-picklist-item-color-text-default);
  padding-block: 1px;
  box-sizing: border-box;
  user-select: none;
  height: 12.5%;
  align-items: center;
  justify-content: center;
  contain: content;
  width: 100%;
}
.picklist-item ids-text {
  line-height: 0;
}
.picklist-item.is-selected {
  color: var(--ids-date-picker-picklist-item-color-text-selected);
  background-color: var(--ids-date-picker-picklist-item-color-background-selected);
}
.picklist-item.is-selected ids-text::part(text) {
  font-weight: 600;
}
.picklist-item:focus {
  border-color: var(--ids-date-picker-item-color-border-focus);
  box-shadow: var(--ids-date-picker-item-shadow-focus);
  outline: none;
}
.picklist-item.is-year-nav, .picklist-item.is-month-nav {
  z-index: 1;
}
.picklist-item.is-month-nav {
  width: calc(100% + 1px);
}`;var q=D(A(H(T(W)))),E=class extends q{constructor(){super()}connectedCallback(){super.connectedCallback(),this.attachEventListeners(),this.setAttribute(y.ROLE,"application"),this.hasPicklistConfigurationAttributes()||(this.setAttribute(o.SHOW_PICKLIST_MONTH,"true"),this.setAttribute(o.SHOW_PICKLIST_YEAR,"true"))}disconnectedCallback(){super.disconnectedCallback?.()}static get attributes(){return[...super.attributes,...x]}template(){return`<div class="picklist">
      ${this.showPicklistWeek?this.templatePicklistWeeks():""}
      ${this.showPicklistMonth&&!this.showPicklistWeek?this.templatePicklistMonths():""}
      ${this.showPicklistYear?this.templatePicklistYears():""}
    </div>`}templatePicklistWeeks(){return`<div class="picklist-section week">
      <ul class="picklist-list">
        <li class="picklist-item is-btn-up is-week-nav">
          <ids-text audible="true" translate-text="true">PreviousWeek</ids-text>
          <ids-icon icon="chevron-up"></ids-icon>
        </li>
        ${this.renderPicklistWeeks()}
        <li class="picklist-item is-btn-down is-week-nav">
          <ids-text audible="true" translate-text="true">NextWeek</ids-text>
          <ids-icon icon="chevron-down"></ids-icon>
        </li>
      </ul>
    </div>`}templatePicklistMonths(){return`<div class="picklist-section month">
      <ul class="picklist-list">
        <li class="picklist-item is-btn-up is-month-nav">
          <ids-text audible="true" translate-text="true">PreviousMonth</ids-text>
          <ids-icon icon="chevron-up"></ids-icon>
        </li>
        ${this.renderPicklistMonths()}
        <li class="picklist-item is-btn-down is-month-nav">
          <ids-text audible="true" translate-text="true">NextMonth</ids-text>
          <ids-icon icon="chevron-down"></ids-icon>
        </li>
      </ul>
    </div>`}templatePicklistYears(){return`<div class="picklist-section year">
      <ul class="picklist-list">
        <li class="picklist-item is-btn-up is-year-nav">
          <ids-text audible="true" translate-text="true">PreviousYear</ids-text>
          <ids-icon icon="chevron-up"></ids-icon>
        </li>
        ${this.renderPicklistYears()}
        <li class="picklist-item is-btn-down is-year-nav">
          <ids-text audible="true" translate-text="true">NextYear</ids-text>
          <ids-icon icon="chevron-down"></ids-icon>
        </li>
      </ul>
    </div>`}refreshPicklists(){this.container&&(this.container.innerHTML=`
        ${this.showPicklistWeek?this.templatePicklistWeeks():""}
        ${this.showPicklistMonth&&!this.showPicklistWeek?this.templatePicklistMonths():""}
        ${this.showPicklistYear?this.templatePicklistYears():""}
      `)}get disabled(){return d(this.getAttribute(o.DISABLED))}set disabled(t){d(t)?this.setAttribute(o.DISABLED,"true"):this.removeAttribute(o.DISABLED)}hasPicklistConfigurationAttributes(){return this.hasAttribute(o.SHOW_PICKLIST_MONTH)||this.hasAttribute(o.SHOW_PICKLIST_YEAR)||this.hasAttribute(o.SHOW_PICKLIST_WEEK)}attachEventListeners(){this.offEvent("click.month-year-picklist"),this.onEvent("click.month-year-picklist",this.container,t=>{this.handlePicklistEvent(t)}),this.offEvent("keydown.month-year-picklist"),this.onEvent("keydown.month-year-picklist",this.container,t=>{this.handleKeyDownEvent(t)})}handleKeyDownEvent(t){if(!this.container)return;let e=t.key,s=this.container.querySelector(".is-btn-up.is-year-nav"),r=this.container.querySelector(".is-btn-down.is-year-nav"),n=this.container.querySelector(".is-btn-up.is-month-nav"),c=this.container.querySelector(".is-btn-down.is-month-nav"),h=this.container.querySelector(".is-btn-up.is-week-nav"),u=this.container.querySelector(".is-btn-down.is-week-nav"),k=this.container.querySelector(".is-month.is-selected"),p=this.container.querySelector(".is-year.is-selected"),f=this.container.querySelector(".is-week.is-selected");if(e==="Enter"&&(s?.matches(":focus")&&this.picklistYearPaged(!1),r?.matches(":focus")&&this.picklistYearPaged(!0),(n?.matches(":focus")||c?.matches(":focus"))&&this.picklistMonthPaged(),h?.matches(":focus")&&this.picklistWeekPaged(!1),u?.matches(":focus")&&this.picklistWeekPaged(!0)),e==="ArrowUp"&&k?.matches(":focus")){let i=this.month-1,l=this.container.querySelector(`.is-month[data-month="${i}"]`);if(this.unselectPicklist("month"),!l){n?.focus();return}this.selectPicklistEl(l),this.month=i,l?.focus()}if(e==="ArrowDown"&&k?.matches(":focus")){let i=this.month+1,l=this.container.querySelector(`.is-month[data-month="${i}"]`);if(this.unselectPicklist("month"),!l){c?.focus();return}this.selectPicklistEl(l),this.month=i,l?.focus()}if(e==="ArrowUp"&&p?.matches(":focus")){let i=this.year-1,l=this.container.querySelector(`.is-year[data-year="${i}"]`);if(this.unselectPicklist("year"),!l){s?.focus();return}this.selectPicklistEl(l),this.year=i,l?.focus()}if(e==="ArrowDown"&&p?.matches(":focus")){let i=this.year+1,l=this.container.querySelector(`.is-year[data-year="${i}"]`);if(this.unselectPicklist("year"),!l){r?.focus();return}this.selectPicklistEl(l),this.year=i,l?.focus()}if(e==="ArrowUp"&&f?.matches(":focus")){let i=m(f.dataset.week)-1,l=this.getWeekNumber(i),b=this.container.querySelector(`.is-week[data-week="${l}"]`);if(this.unselectPicklist("week"),!b){h?.focus();return}this.selectPicklistEl(b),this.setWeekDate(l),b?.focus()}if(e==="ArrowDown"&&f?.matches(":focus")){let i=m(f.dataset.week)+1,l=this.getWeekNumber(i),b=this.container.querySelector(`.is-week[data-week="${l}"]`);if(this.unselectPicklist("week"),!b){u?.focus();return}this.selectPicklistEl(b),this.setWeekDate(l),b?.focus()}if(e==="ArrowUp"&&s?.matches(":focus")){r?.focus();return}if(e==="ArrowDown"&&r?.matches(":focus")){s?.focus();return}if(e==="ArrowUp"&&r?.matches(":focus")){let i=this.container.querySelector(".is-year.is-last");this.unselectPicklist("year"),this.selectPicklistEl(i),this.year=i?.dataset?.year||null,i?.focus()}if(e==="ArrowDown"&&s?.matches(":focus")){let i=this.container.querySelector(".is-year");this.unselectPicklist("year"),this.selectPicklistEl(i),this.year=i?.dataset.year||null,i?.focus()}if(e==="ArrowUp"&&n?.matches(":focus")){c?.focus();return}if(e==="ArrowDown"&&c?.matches(":focus")){n?.focus();return}if(e==="ArrowUp"&&c?.matches(":focus")){let i=this.container.querySelector(".is-month.is-last");this.unselectPicklist("month"),this.selectPicklistEl(i),this.month=i?.dataset.month||null,i?.focus()}if(e==="ArrowDown"&&n?.matches(":focus")){let i=this.container.querySelector(".is-month");this.unselectPicklist("month"),this.selectPicklistEl(i),this.month=i?.dataset.month||null,i?.focus()}if(e==="ArrowUp"&&h?.matches(":focus")){u?.focus();return}if(e==="ArrowDown"&&u?.matches(":focus")){h?.focus();return}if(e==="ArrowUp"&&u?.matches(":focus")){let i=this.container.querySelector(".is-week.is-last");this.unselectPicklist("month"),this.selectPicklistEl(i),this.setWeekDate(m(i?.dataset.week)),i?.focus()}if(e==="ArrowUp"&&h?.matches(":focus")){let i=this.container.querySelector(".is-week");this.unselectPicklist("week"),this.selectPicklistEl(i),this.setWeekDate(m(i?.dataset.week)),i?.focus()}}renderPicklistYears(){let t=P(this,"ids-month-view")?.disableSettings,e=this.year-2;return Array.from({length:a}).map((r,n)=>{let c=e+n,h=t?.years?.includes(c);return`<li
        data-year="${c}"
        class="picklist-item is-year${n===a-1?" is-last":""}${h?" is-disabled":""}"
      ><ids-text${h?' disabled="true"':""}>${c}</ids-text></li>`}).join("")}renderPicklistMonths(){return v.map(s=>this.localeAPI?.translate(`MonthWide${s}`))?.map((s,r)=>`<li
        data-month="${r}"
        class="picklist-item is-month${r===a-1||r===11?" is-last":""}"
      ><ids-text>${s}</ids-text></li>`).filter((s,r)=>this.month<=a-1&&r<=a-1||this.month>a-1&&r>a-1).join("")}renderPicklistWeeks(){let t=w(new Date(this.year,this.month,this.day)),e=t<=a?1:t-2;return Array.from({length:a}).map((r,n)=>{let c=e+n,h=this.getWeekNumber(c);return`<li
        data-week="${h}"
        class="picklist-item is-week${n===a-1?" is-last":""}"
      ><ids-text>${h}</ids-text></li>`}).join("")}getWeekNumber(t){let e=w(new Date(this.year,11,31),this.firstDayOfWeek);return t>e?t%e:t<1?e+t:t}handlePicklistEvent(t){if(!t.target)return;t.stopPropagation();let e=t.target.closest(".is-btn-up.is-year-nav"),s=t.target.closest(".is-btn-down.is-year-nav"),r=t.target.closest(".is-btn-up.is-month-nav"),n=t.target.closest(".is-btn-down.is-month-nav"),c=t.target.closest(".is-btn-up.is-week-nav"),h=t.target.closest(".is-btn-down.is-week-nav"),u=t.target.closest(".is-month"),k=t.target.closest(".is-year"),p=t.target.closest(".is-week");if(e&&this.picklistYearPaged(!1),s&&this.picklistYearPaged(!0),(r||n)&&this.picklistMonthPaged(),c&&this.picklistWeekPaged(!1),h&&this.picklistWeekPaged(!0),u&&(this.unselectPicklist("month"),this.selectPicklistEl(u),u.focus(),this.month=u.dataset.month),k){if(P(this,"ids-month-view")?.disableSettings?.years?.includes(m(k.dataset.year)))return;this.unselectPicklist("year"),this.selectPicklistEl(k),k.focus(),this.year=k.dataset.year}if(p){this.unselectPicklist("week"),this.selectPicklistEl(p),p.focus();let f=m(p.dataset.week),i=g(this.year,f,this.firstDayOfWeek);this.month=i.getMonth(),this.day=i.getDate()}}picklistYearPaged(t){let e=P(this,"ids-month-view")?.disableSettings;this.container?.querySelectorAll(".picklist-item.is-year").forEach(s=>{let r=m(s.dataset.year),n=t?r+a:r-a,c=e?.years?.includes(n);s.dataset.year=n,s.querySelector("ids-text").textContent=n,s.classList.toggle("is-disabled",c),s.querySelector("ids-text").disabled=c,s.classList.contains("is-selected")&&!c&&(this.selectPicklistEl(s),this.year=n)})}picklistMonthPaged(){let t=v.map(e=>this.localeAPI?.translate(`MonthWide${e}`));this.container?.querySelectorAll(".picklist-item.is-month").forEach((e,s)=>{let n=m(e.dataset.month)>a-1?0+s:a+s;e.dataset.month=n,e.querySelector("ids-text").textContent=t[n],e.classList.contains("is-selected")&&(this.selectPicklistEl(e),this.month=n)})}picklistWeekPaged(t){this.container?.querySelectorAll(".picklist-item.is-week").forEach(e=>{let s=m(e.dataset.week),r=t?s+a:s-a,n=this.getWeekNumber(r);e.dataset.week=n,e.querySelector("ids-text").textContent=n,e.classList.contains("is-selected")&&this.selectPicklistEl(e)})}setWeekDate(t){let e=g(this.year,t,this.firstDayOfWeek);this.month=e.getMonth(),this.day=e.getDate()}selectPicklistEl(t){t?.classList.add("is-selected"),t?.setAttribute(o.TABINDEX,"0"),t?.setAttribute(y.ARIA_SELECTED,"true"),t?.setAttribute(y.ROLE,"gridcell")}unselectPicklist(t){let e=`.picklist-item${t!=="all"?`.is-${t}`:""}`;this.container?.querySelectorAll(e).forEach(s=>{s.removeAttribute(o.TABINDEX),s.classList.remove("is-selected"),s.removeAttribute(y.ARIA_SELECTED),s.getAttribute(y.ROLE)==="gridcell"&&s.setAttribute(y.ROLE,"link")})}get showPicklistYear(){let t=this.getAttribute(o.SHOW_PICKLIST_YEAR);return t?d(t):!0}set showPicklistYear(t){d(t)?this.setAttribute(o.SHOW_PICKLIST_YEAR,"true"):this.removeAttribute(o.SHOW_PICKLIST_YEAR),this.refreshPicklists()}get showPicklistMonth(){let t=this.getAttribute(o.SHOW_PICKLIST_MONTH);return t?d(t):!0}set showPicklistMonth(t){d(t)?this.setAttribute(o.SHOW_PICKLIST_MONTH,"true"):this.removeAttribute(o.SHOW_PICKLIST_MONTH),this.refreshPicklists()}get showPicklistWeek(){return d(this.getAttribute(o.SHOW_PICKLIST_WEEK))}set showPicklistWeek(t){d(t)?this.setAttribute(o.SHOW_PICKLIST_WEEK,"true"):this.removeAttribute(o.SHOW_PICKLIST_WEEK),this.refreshPicklists()}onLocaleChange=()=>{this.refreshPicklists()};activatePicklist(){if(!this.container)return;this.container.querySelectorAll(".picklist-item.is-btn-up, .picklist-item.is-btn-down").forEach(c=>{c.setAttribute(o.TABINDEX,"0")});let e=this.container.querySelector(`.picklist-item.is-month[data-month="${this.month}"]`),s=this.container.querySelector(`.picklist-item.is-year[data-year="${this.year}"]`),r=w(new Date(this.year,this.month,this.day),this.firstDayOfWeek),n=this.container.querySelector(`.picklist-item.is-week[data-week="${r}"]`);this.selectPicklistEl(e),this.selectPicklistEl(s),this.selectPicklistEl(n),this.container.querySelector(".picklist-item.is-selected")?.focus()}deactivatePicklist(){if(!this.container)return;this.container.querySelectorAll(".picklist-item.is-btn-up, .picklist-item.is-btn-down").forEach(e=>{e.setAttribute(o.TABINDEX,"-1")}),this.unselectPicklist("all")}};E=L([S("ids-month-year-picklist"),M(I)],E);var F=E;export{F as a};
