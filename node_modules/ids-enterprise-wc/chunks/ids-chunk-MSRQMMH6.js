import{a as b}from"./ids-chunk-T6ZV4PDM.js";import{a as d}from"./ids-chunk-AKCO43TX.js";import{a as h,b as g}from"./ids-chunk-XE4WFW5M.js";import{a as m}from"./ids-chunk-GFV2Z7F5.js";import{e as o,f as r}from"./ids-chunk-QPDOZZIG.js";import{a as t}from"./ids-chunk-EQJWBFQ2.js";import{a as l}from"./ids-chunk-U7OOVFXE.js";var c=`
/* Ids Pager Input Component */
:host(ids-pager-input) {
  display: inline-flex;
  align-items: center;
}

.ids-pager-input,
ids-input::part(container) {
  margin-inline-start: 4px;
  margin-inline-end: 4px;
  margin-block-end: 0;
}

.ids-pager-input input,
ids-input::part(input) {
  padding-block-start: 0;
  padding-block-end: 0;
  margin-block-end: 0;
  min-width: 40px;
}

.ids-pager-input label,
ids-input::part(label) {
  margin-block-end: 0;
  height: 0;
}

.ids-pager-input,
ids-input::part(field-container) {
  margin-block-end: 0;
}

ids-text {
  margin-inline-start: 4px;
  margin-inline-end: 4px;
}

ids-input[size=xs]::part(field-container),
.ids-input.xs .field-container {
  width: auto;
}`;var A=b(d(m)),u=class extends A{DEFAULT_PAGE_SIZE=10;rootNode;input;constructor(){super()}template(){let e=this.pageCount!==null?this.pageCount:"N/A",i=`label ${this.disabledOverall?" disabled":""}`;return`<ids-text ${i}>Page</ids-text>&nbsp;
      <ids-input
        value="${this.pageNumber}"
        label="Input for page number"
        label-state="hidden"
        text-align="center"
        size="xs"
        ${this.disabled?"disabled":""}
      ></ids-input>
      <ids-text ${i}>&nbsp;of&nbsp;
        <span class="page-count">${e}</span>
      </ids-text>`}static get attributes(){return[t.DISABLED,t.PAGE_NUMBER,t.PARENT_DISABLED,t.TOTAL,t.PAGE_SIZE]}attributeChangedCallback(e,i,s){super.attributeChangedCallback(e,i,s),[t.DISABLED,t.PAGE_NUMBER,t.PAGE_SIZE,t.STEP,t.TOTAL,t.TYPE].includes(e)&&i!==s&&this.connectedCallback()}#t=!1;connectedCallback(){super.connectedCallback(),this.pager&&(this.disabled=this.pager.disabled,this.pageNumber=this.pager.pageNumber,this.pageSize=this.pager.pageSize,this.total=this.pager.total),this.input=this.shadowRoot?.querySelector("ids-input"),this.offEvent("change.pagerinput",this.input),this.onEvent("change.pagerinput",this.input,()=>this.#s()),this.offEvent("blur.pagerinput",this.input),this.onEvent("blur.pagerinput",this.input,()=>{this.#t||this.#s(),this.#t=!1}),this.offEvent("Enter.pagerinput",this.input),this.listen("Enter.pagerinput",this.input,()=>{this.input?.dispatchEvent(new Event("change",{bubbles:!0}))}),!this.hasAttribute(t.PAGE_NUMBER)&&this.pager?.pageNumber&&this.setAttribute(t.PAGE_NUMBER,String(this.pager.pageNumber)),this.#e()}get pager(){return this.rootNode||(this.rootNode=this.getRootNode?.()?.host),this.rootNode?.nodeName!=="IDS-PAGER"&&(this.rootNode=this.closest("ids-pager")),this.rootNode}set pageSize(e){let i=this.#i(e);this.setAttribute(t.PAGE_SIZE,String(i)),this.#e()}get pageSize(){return this.pager?.pageSize??this.#i(this.getAttribute(t.PAGE_SIZE))}#i(e){let i=r(e);return!Number.isNaN(i)&&i>0?i:this.DEFAULT_PAGE_SIZE}set pageNumber(e){let i=this.input,s=i?.input,a=r(s?.value),n=r(e);if(Number.isNaN(n)||n<1)n=1;else{let p=r(this.pageCount);if(Number.isNaN(p))return;n=Math.min(n,p)}s?.style.setProperty("width",`${String(n).length}em`),!(Number.isNaN(a)||n===a)&&(i&&(i.value=String(n),!this.#t&&n!==this.pageNumber&&this.triggerEvent("pagenumberchange",this,{bubbles:!0,detail:{elem:this,value:n}}),this.#t=!1),this.setAttribute(t.PAGE_NUMBER,String(n)),this.#e())}get pageNumber(){let e=r(this.getAttribute(t.PAGE_NUMBER)??1);return this.pager?.pageNumber??e}set total(e){let i=r(e);(Number.isNaN(i)||i<1)&&(i=1),this.setAttribute(t.TOTAL,String(i)),this.#e()}get total(){let e=r(this.getAttribute(t.TOTAL));return this.pager?.total??e}get pageCount(){let e=this.hasAttribute(t.TOTAL)?Math.ceil(this.total/this.pageSize):null;return this.pager?.pageCount??e}set disabled(e){o(e)?this.setAttribute(t.DISABLED,""):this.removeAttribute(t.DISABLED),this.#n()}get disabled(){return this.hasAttribute(t.DISABLED)}set parentDisabled(e){o(e)?this.setAttribute(t.PARENT_DISABLED,""):this.removeAttribute(t.PARENT_DISABLED),this.#n()}get parentDisabled(){return this.hasAttribute(t.PARENT_DISABLED)}get disabledOverall(){return this.hasAttribute(t.DISABLED)||this.hasAttribute(t.PARENT_DISABLED)}#s(){let e=r(this.pageCount);if(this.input&&!Number.isNaN(e)&&e>1){let i=this.pageNumber,s=r(this.input.value),a=Math.max(1,Math.min(s,e));a!==s&&(this.input.value=`${a}`),a!==i&&(Number.isNaN(a)?this.input&&(this.input.value=`${i}`):(this.#t=!0,this.triggerEvent("pagenumberchange",this,{bubbles:!0,detail:{elem:this,value:a}})))}}#e(){let e=this.pageCount,i=e===null?"N/A":e,s=this.shadowRoot?.querySelector("span.page-count");s&&(s.textContent=String(i))}#n(){let e=this.shadowRoot?.querySelectorAll("ids-text")??[];if(this.disabledOverall){this.input?.setAttribute(t.DISABLED,"");for(let i of e)i.setAttribute(t.DISABLED,"")}else{this.input?.removeAttribute(t.DISABLED);for(let i of e)i.removeAttribute(t.DISABLED)}}};u=l([h("ids-pager-input"),g(c)],u);export{u as a};
