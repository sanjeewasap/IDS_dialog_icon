import{a as m}from"../../chunks/ids-chunk-RRSHSZ55.js";import"../../chunks/ids-chunk-LCUXCSNZ.js";import{a as c}from"../../chunks/ids-chunk-AKCO43TX.js";import"../../chunks/ids-chunk-CK6SA7FU.js";import"../../chunks/ids-chunk-27RPCUPT.js";import{a as l,b as h}from"../../chunks/ids-chunk-XE4WFW5M.js";import{a as u}from"../../chunks/ids-chunk-GFV2Z7F5.js";import{e as o}from"../../chunks/ids-chunk-QPDOZZIG.js";import{a as e}from"../../chunks/ids-chunk-EQJWBFQ2.js";import{a as d}from"../../chunks/ids-chunk-U7OOVFXE.js";var p=`
.ids-hierarchy-item {
  align-items: center;
  display: flex;
  justify-content: center;
  flex-direction: column;
  padding-inline-start: calc(var(--ids-space-40) * 12);
}
@media all and (max-width: 600px) {
  .ids-hierarchy-item {
    padding-inline-start: var(--ids-space-none);
  }
}

.leaf {
  border: var(--ids-space-10) solid var(--ids-hierarchy-item-leaf-color-border);
  margin-block-end: calc(var(--ids-space-40) * 4);
  box-shadow: var(--ids-hierarchy-item-leaf-shadow);
  border-radius: var(--ids-hierarchy-item-border-radius);
  position: relative;
  width: 315px;
}
.leaf::before {
  display: block;
  position: absolute;
  border-bottom: 1.34px solid var(--ids-hierarchy-item-leaf-before-color-border);
  border-left: 1.34px solid var(--ids-hierarchy-item-leaf-before-color-border);
  content: "";
  height: 110px;
  left: -30px;
  top: -70px;
  width: 50%;
  z-index: 0;
}

.leaf-inside {
  align-items: center;
  background-color: var(--ids-hierarchy-item-color-background);
  border-left: var(--ids-hierarchy-item-leaf-inside-border-left);
  box-shadow: var(--ids-hierarchy-item-leaf-inside-shadow);
  padding: var(--ids-space-40) calc(var(--ids-space-40) * 2);
  position: relative;
  display: flex;
  z-index: 1;
}

.avatar {
  flex-shrink: 0;
  display: block;
  height: 55px;
  width: 55px;
  border: var(--ids-hierarchy-item-border-default);
  border-radius: 100%;
  margin-inline-end: calc(var(--ids-space-40) * 2);
  overflow: hidden;
}
.avatar ::slotted(img) {
  max-width: 100%;
}

:host([root-item]) .leaf::before {
  display: none;
}
:host([root-item]) .ids-hierarchy-item {
  padding-inline-start: var(--ids-space-none);
}

@media all and (max-width: 600px) {
  :host([root-item][expanded]) .leaf::before {
    border-left: none;
    display: block;
  }
}

:host(:focus) {
  outline: none;
  border: none;
  border-color: transparent;
  box-shadow: var(--ids-hierarchy-item-shadow-focus);
}

:host([selected]) .leaf {
  box-shadow: var(--ids-hierarchy-item-selected-leaf-shadow);
}

div[part=actions] {
  margin-inline-start: auto;
  display: flex;
}

ids-button[part=icon-menu] {
  margin-right: var(--ids-space-30);
}
ids-button[part=icon-menu] .ids-icon-button {
  padding: var(--ids-space-30);
}

ids-button[part=icon-btn] {
  display: none;
  cursor: pointer;
}
ids-button[part=icon-btn] .ids-icon-button {
  padding: var(--ids-space-30);
}

:host([expanded]) ids-button[part=icon-btn] ids-icon {
  transform: rotate(180deg);
}

.has-nested-items ids-button[part=icon-btn] {
  display: block;
}

.sub-level {
  display: none;
}

:host([expanded]) .sub-level {
  display: block;
}

::slotted([slot=menu]) {
  position: relative;
}`;var b=m(c(u)),n=class extends b{#t=!1;childElements=[];expander;dropdownMenu;leaf;nestedItemContainer;constructor(){super()}connectedCallback(){super.connectedCallback(),this.expander=this.shadowRoot?.querySelector('[part="icon-btn"]'),this.dropdownMenu=this.querySelector('[part="icon-menu"]'),this.leaf=this.shadowRoot?.querySelector('[part="leaf"]'),this.nestedItemContainer=this.shadowRoot?.querySelector('[part="nested-items"]'),this.#s(),this.#r(),this.#e()}static get attributes(){return[...super.attributes,e.COLOR,e.EXPANDED,e.ROOT_ITEM,e.SELECTED]}template(){return`
      <div class="ids-hierarchy-item">
        <div class="leaf" part="leaf">
          <div class="leaf-inside">
            <span class="avatar">
              <slot name="avatar"></slot>
            </span>
            <div class="details">
              <slot name="heading"></slot>
              <slot name="subheading"></slot>
              <slot name="micro"></slot>
            </div>
            <div part="actions">
              <slot name="menu"></slot>
              <ids-button part="icon-btn" id="icon-only-button-default">
                <span class="audible">Default Button</span>
                <ids-icon icon="caret-down"></ids-icon>
              </ids-button>
            </div>
          </div>
        </div>
        <div class="sub-level"><slot part="nested-items"></slot></div>
      </div>
    `}set expanded(t){o(t)?this.setAttribute(e.EXPANDED,"true"):this.removeAttribute?.(e.EXPANDED)}get expanded(){return this.getAttribute(e.EXPANDED)}set selected(t){let i=o(t);i?(this.setAttribute(e.SELECTED,"true"),this.setAttribute("tabindex","0"),this.#t||this.triggerEvent("itemselect",this,{bubbles:!0})):(this.removeAttribute(e.SELECTED),this.setAttribute("tabindex","-1")),this.#t=i}get selected(){return this.hasAttribute(e.SELECTED)}set rootItem(t){o(t)?this.setAttribute(e.ROOT_ITEM,"true"):this.removeAttribute(e.ROOT_ITEM)}get rootItem(){return this.getAttribute(e.ROOT_ITEM)}get color(){return this.getAttribute(e.COLOR)}set color(t){this.setAttribute(e.COLOR,String(t)),this.#e()}#e(){let t=this.color;this.color?.substring(0,1)!=="#"&&(t=`var(--ids-color-${this.color})`);let i=this.container?.querySelector(".leaf-inside"),a=this.container?.querySelector(".avatar");i?.style.setProperty("border-left-color",t),a?.style.setProperty("border-color",t)}set loadChildren(t){this.state.loadChildren=t}get loadChildren(){return this.state.loadChildren}set hasChildren(t){this.state.hasChildren=t,t&&this.container?.classList.add("has-nested-items")}get hasChildren(){return this.state.hasChildren}#i(t){t?this.setAttribute(e.EXPANDED,"false"):this.setAttribute(e.EXPANDED,"true")}#s(){!!this.container?.querySelector('[part="nested-items"]')?.assignedElements().length&&this.container?.classList.add("has-nested-items")}adjustZIndex(t,i){if(t.name==="ids-hierarchy-item"){let s=t.shadowRoot?.querySelector(".leaf");s.style.zIndex=i.toString()}let a=t.childNodes;for(let s of a)s.name==="ids-hierarchy-item"&&this.adjustZIndex(s,i-2)}#r(){this.onEvent("click",this.expander,async()=>{if(this.loadChildren&&!this.expanded&&!this.childElements.attached){let t=await this.loadChildren();this.childElements=t.filter(s=>s.parentItem===this.getAttribute(e.ID)),this.childElements.length||this.container?.classList.remove("has-nested-items");let i=this.childElements.reduce((s,r)=>`${s}
            <ids-hierarchy-item id="${r.id}" color="${r.color}">
              ${r.picture?`<img id="headshot" alt="${r.id}" src="${r.picture}" slot="avatar" />`:""}
              <ids-text slot="heading">${r.name}</ids-text>
              <ids-text slot="subheading">${r.position}</ids-text>
              <ids-text slot="micro">${r.employmentType}</ids-text>
            </ids-hierarchy-item>
          `,"");this.innerHTML+=i,this.childElements.attached=!0;let a=this.querySelectorAll("ids-hierarchy-item");for(let s of a)s.hasChildren=t.filter(r=>r.parentItem===s.getAttribute(e.ID)).length>0,s.loadChildren=this.loadChildren}this.#i(this.expanded)}),this.dropdownMenu&&this.onEvent("click",this.dropdownMenu,()=>{this.adjustZIndex(this.parentNode,202),this.shadowRoot?.querySelector(".leaf")?.style.setProperty("z-index","201")}),this.onEvent("touchend",this.expander,t=>{t.touches&&t.touches.length>0&&this.#i(this.expanded)},{passive:!0}),this.onEvent("click",this.leaf,()=>{this.setAttribute(e.SELECTED,"true")}),this.onEvent("touchstart",this.leaf,()=>{this.setAttribute(e.SELECTED,"true")},{passive:!0})}};n=d([l("ids-hierarchy-item"),h(p)],n);export{n as default};
