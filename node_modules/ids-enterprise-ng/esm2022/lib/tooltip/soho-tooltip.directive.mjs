import { Directive, EventEmitter, Input, Output } from '@angular/core';
import * as i0 from "@angular/core";
export class SohoTooltipDirective {
    // -------------------------------------------
    // Component Input options
    // -------------------------------------------
    /**
     * @param content the content of the tooltip
     */
    set content(content) {
        this.options.content = content;
        if (this.tooltip) {
            this.tooltip.settings.content = content;
        }
    }
    /**
     * @param offset offset
     */
    set offset(offset) {
        this.options.offset = offset;
    }
    /**
     * @param placement the orientation of the tooltip based on the source component.
     */
    set placement(placement) {
        this.options.placement = placement;
    }
    set trigger(trigger) {
        this.options.trigger = trigger;
    }
    /**
     * @param tooltipTitle the title of the tooltip.
     */
    set title(title) {
        this.options.title = title;
    }
    /**
     * @param beforeShow before show.
     */
    set beforeShow(beforeShow) {
        this.options.beforeShow = beforeShow;
    }
    /**
     * @param popover is this a popover?
     */
    set popover(popover) {
        this.options.popover = popover;
    }
    /**
     * @param closebutton display the close button?
     */
    set closebutton(closebutton) {
        this.options.closebutton = closebutton;
    }
    /**
     * @param isError is this an error tooltip.
     */
    set isError(isError) {
        this.options.isError = isError;
    }
    /**
     * @param isErrorColor use the error color.
     */
    set isErrorColor(isErrorColor) {
        this.options.isErrorColor = isErrorColor;
    }
    /**
     * @param tooltipElement tooptip element
     */
    set tooltipElement(tooltipElement) {
        this.options.tooltipElement = tooltipElement;
    }
    /**
     * @param keepOpen keep the tooltip open?
     */
    set keepOpen(keepOpen) {
        this.options.keepOpen = keepOpen;
    }
    /**
     * @param extraClass additional classes
     */
    set extraClass(extraClass) {
        this.options.extraClass = extraClass;
    }
    /**
     * @param appendTo additional classes
     */
    set appendTo(appendTo) {
        this.options.appendTo = appendTo;
    }
    /**
     * @param maxWidth the maximum width of the tooltip in pixels.
     */
    set maxWidth(maxWidth) {
        this.options.maxWidth = maxWidth;
    }
    /**
     * If the object with the tooltip is tabbed to, will also show the tooltip.
     */
    set showOnKeyboardFocus(showOnKeyboardFocus) {
        this.options.showOnKeyboardFocus = showOnKeyboardFocus;
    }
    /**
     * Call back for hiding.
     */
    set onHidden(onHidden) {
        this.options.onHidden = onHidden;
    }
    /**
     * Placement options pass through
     */
    set placementOpt(placementOpt) {
        this.options.placementOpt = placementOpt;
    }
    /**
     * Init the content in the tooltip.
     */
    set initializeContent(initializeContent) {
        this.options.initializeContent = initializeContent;
    }
    /**
     * If set this color will be used on the header (if a popover).
     */
    set headerClass(headerClass) {
        this.options.headerClass = headerClass;
    }
    /**
     * The delay before showing the tooltip
     */
    set delay(delay) {
        this.options.delay = delay;
    }
    /**
     * The if true (default) the popup is added to the body.
     */
    set attachToBody(attachToBody) {
        this.options.attachToBody = attachToBody;
    }
    /** Add extra attributes like id's to the component **/
    set attributes(attributes) {
        this.options.attributes = attributes;
    }
    constructor(element) {
        this.element = element;
        // -------------------------------------------
        // Options Block
        // -------------------------------------------
        this.options = {};
        // -------------------------------------------
        // Component Output
        // -------------------------------------------
        /**
         * Called when the tooltip value changes
         */
        this.changeEvent = new EventEmitter();
        /**
         * Called when the tooltip updates in some way
         */
        this.updateEvent = new EventEmitter();
    }
    ngAfterViewInit() {
        // Wrap the element in a jQuery selector.
        this.jQueryElement = jQuery(this.element.nativeElement);
        this.createControl();
    }
    createControl() {
        // Initialise the SohoXi Control
        this.jQueryElement?.tooltip(this.options);
        this.tooltip = this.jQueryElement?.data('tooltip');
        /**
         * Bind to jQueryElement's events
         */
        this.jQueryElement?.on('change', (event) => this.changeEvent.emit(event));
        this.jQueryElement?.on('updated', (event) => this.updateEvent.emit(event));
    }
    // -------------------------------------------
    // Public API
    // -------------------------------------------
    /**
     * Shows the tooltip.
     */
    show() {
        if (this.tooltip) {
            this.tooltip.show();
        }
    }
    /**
     * Hides the tooltip.
     */
    hide(force) {
        if (this.tooltip) {
            this.tooltip.hide(force);
        }
    }
    ngOnDestroy() {
        if (this.jQueryElement) {
            this.jQueryElement.off();
            this.jQueryElement = undefined;
            this.element.nativeElement = undefined;
        }
        if (this.tooltip) {
            this.tooltip.destroy();
            this.tooltip = null;
        }
    }
    ngOnChanges() {
        if (this.tooltip) {
            this.tooltip.destroy();
            this.tooltip = null;
            this.createControl();
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoTooltipDirective, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "16.1.4", type: SohoTooltipDirective, selector: "[soho-tooltip]", inputs: { content: "content", offset: "offset", placement: "placement", trigger: "trigger", title: "title", beforeShow: "beforeShow", popover: "popover", closebutton: "closebutton", isError: "isError", isErrorColor: "isErrorColor", tooltipElement: "tooltipElement", keepOpen: "keepOpen", extraClass: "extraClass", appendTo: "appendTo", maxWidth: "maxWidth", showOnKeyboardFocus: "showOnKeyboardFocus", onHidden: "onHidden", placementOpt: "placementOpt", initializeContent: "initializeContent", headerClass: "headerClass", delay: "delay", attachToBody: "attachToBody", attributes: "attributes" }, outputs: { changeEvent: "changeEvent", updateEvent: "updateEvent" }, usesOnChanges: true, ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoTooltipDirective, decorators: [{
            type: Directive,
            args: [{
                    selector: '[soho-tooltip]' // eslint-disable-line
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { content: [{
                type: Input
            }], offset: [{
                type: Input
            }], placement: [{
                type: Input
            }], trigger: [{
                type: Input
            }], title: [{
                type: Input
            }], beforeShow: [{
                type: Input
            }], popover: [{
                type: Input
            }], closebutton: [{
                type: Input
            }], isError: [{
                type: Input
            }], isErrorColor: [{
                type: Input
            }], tooltipElement: [{
                type: Input
            }], keepOpen: [{
                type: Input
            }], extraClass: [{
                type: Input
            }], appendTo: [{
                type: Input
            }], maxWidth: [{
                type: Input
            }], showOnKeyboardFocus: [{
                type: Input
            }], onHidden: [{
                type: Input
            }], placementOpt: [{
                type: Input
            }], initializeContent: [{
                type: Input
            }], headerClass: [{
                type: Input
            }], delay: [{
                type: Input
            }], attachToBody: [{
                type: Input
            }], attributes: [{
                type: Input
            }], changeEvent: [{
                type: Output
            }], updateEvent: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29oby10b29sdGlwLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2lkcy1lbnRlcnByaXNlLW5nL3NyYy9saWIvdG9vbHRpcC9zb2hvLXRvb2x0aXAuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxTQUFTLEVBRVQsWUFBWSxFQUNaLEtBQUssRUFFTCxNQUFNLEVBRVAsTUFBTSxlQUFlLENBQUM7O0FBS3ZCLE1BQU0sT0FBTyxvQkFBb0I7SUFRL0IsOENBQThDO0lBQzlDLDBCQUEwQjtJQUMxQiw4Q0FBOEM7SUFDOUM7O09BRUc7SUFDSCxJQUFhLE9BQU8sQ0FBQyxPQUFlO1FBQ2xDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUN6QztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILElBQWEsTUFBTSxDQUFDLE1BQWM7UUFDaEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNILElBQWEsU0FBUyxDQUFDLFNBQTRCO1FBQ2pELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBYSxPQUFPLENBQUMsT0FBZTtRQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDakMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFBYSxLQUFLLENBQUMsS0FBYTtRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFBYSxVQUFVLENBQUMsVUFB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TyxVQUFVO3NCQUF0QixLQUFLO2dCQU9PLFFBQVE7c0JBQXBCLEtBQUs7Z0JBT08sUUFBUTtzQkFBcEIsS0FBSztnQkFPTyxtQkFBbUI7c0JBQS9CLEtBQUs7Z0JBT08sUUFBUTtzQkFBcEIsS0FBSztnQkFPTyxZQUFZO3NCQUF4QixLQUFLO2dCQU9PLGlCQUFpQjtzQkFBN0IsS0FBSztnQkFPTyxXQUFXO3NCQUF2QixLQUFLO2dCQU9PLEtBQUs7c0JBQWpCLEtBQUs7Z0JBT08sWUFBWTtzQkFBeEIsS0FBSztnQkFLTyxVQUFVO3NCQUF0QixLQUFLO2dCQVVJLFdBQVc7c0JBQXBCLE1BQU07Z0JBS0csV0FBVztzQkFBcEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIERpcmVjdGl2ZSxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIE9uQ2hhbmdlc1xufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW3NvaG8tdG9vbHRpcF0nIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbn0pXG5leHBvcnQgY2xhc3MgU29ob1Rvb2x0aXBEaXJlY3RpdmUgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcyB7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBPcHRpb25zIEJsb2NrXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBwcml2YXRlIG9wdGlvbnM6IFNvaG9Ub29sdGlwT3B0aW9ucyA9IHt9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gQ29tcG9uZW50IElucHV0IG9wdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogQHBhcmFtIGNvbnRlbnQgdGhlIGNvbnRlbnQgb2YgdGhlIHRvb2x0aXBcbiAgICovXG4gIEBJbnB1dCgpIHNldCBjb250ZW50KGNvbnRlbnQ6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5jb250ZW50ID0gY29udGVudDtcbiAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICB0aGlzLnRvb2x0aXAuc2V0dGluZ3MuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBvZmZzZXQgb2Zmc2V0XG4gICAqL1xuICBASW5wdXQoKSBzZXQgb2Zmc2V0KG9mZnNldDogbnVtYmVyKSB7XG4gICAgdGhpcy5vcHRpb25zLm9mZnNldCA9IG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gcGxhY2VtZW50IHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgdG9vbHRpcCBiYXNlZCBvbiB0aGUgc291cmNlIGNvbXBvbmVudC5cbiAgICovXG4gIEBJbnB1dCgpIHNldCBwbGFjZW1lbnQocGxhY2VtZW50OiBTb2hvVG9vbHRpcE9mZnNldCkge1xuICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgdHJpZ2dlcih0cmlnZ2VyOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMudHJpZ2dlciA9IHRyaWdnZXI7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHRvb2x0aXBUaXRsZSB0aGUgdGl0bGUgb2YgdGhlIHRvb2x0aXAuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgdGl0bGUodGl0bGU6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy50aXRsZSA9IHRpdGxlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBiZWZvcmVTaG93IGJlZm9yZSBzaG93LlxuICAgKi9cbiAgQElucHV0KCkgc2V0IGJlZm9yZVNob3coYmVmb3JlU2hvdzogYW55KSB7XG4gICAgdGhpcy5vcHRpb25zLmJlZm9yZVNob3cgPSBiZWZvcmVTaG93O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBwb3BvdmVyIGlzIHRoaXMgYSBwb3BvdmVyP1xuICAgKi9cbiAgQElucHV0KCkgc2V0IHBvcG92ZXIocG9wb3ZlcjogYm9vbGVhbikge1xuICAgIHRoaXMub3B0aW9ucy5wb3BvdmVyID0gcG9wb3ZlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2xvc2VidXR0b24gZGlzcGxheSB0aGUgY2xvc2UgYnV0dG9uP1xuICAgKi9cbiAgQElucHV0KCkgc2V0IGNsb3NlYnV0dG9uKGNsb3NlYnV0dG9uOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLmNsb3NlYnV0dG9uID0gY2xvc2VidXR0b247XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGlzRXJyb3IgaXMgdGhpcyBhbiBlcnJvciB0b29sdGlwLlxuICAgKi9cbiAgQElucHV0KCkgc2V0IGlzRXJyb3IoaXNFcnJvcjogYm9vbGVhbikge1xuICAgIHRoaXMub3B0aW9ucy5pc0Vycm9yID0gaXNFcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gaXNFcnJvckNvbG9yIHVzZSB0aGUgZXJyb3IgY29sb3IuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgaXNFcnJvckNvbG9yKGlzRXJyb3JDb2xvcjogYm9vbGVhbikge1xuICAgIHRoaXMub3B0aW9ucy5pc0Vycm9yQ29sb3IgPSBpc0Vycm9yQ29sb3I7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHRvb2x0aXBFbGVtZW50IHRvb3B0aXAgZWxlbWVudFxuICAgKi9cbiAgQElucHV0KCkgc2V0IHRvb2x0aXBFbGVtZW50KHRvb2x0aXBFbGVtZW50OiBhbnkpIHtcbiAgICB0aGlzLm9wdGlvbnMudG9vbHRpcEVsZW1lbnQgPSB0b29sdGlwRWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ga2VlcE9wZW4ga2VlcCB0aGUgdG9vbHRpcCBvcGVuP1xuICAgKi9cbiAgQElucHV0KCkgc2V0IGtlZXBPcGVuKGtlZXBPcGVuOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLmtlZXBPcGVuID0ga2VlcE9wZW47XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGV4dHJhQ2xhc3MgYWRkaXRpb25hbCBjbGFzc2VzXG4gICAqL1xuICBASW5wdXQoKSBzZXQgZXh0cmFDbGFzcyhleHRyYUNsYXNzOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMuZXh0cmFDbGFzcyA9IGV4dHJhQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGFwcGVuZFRvIGFkZGl0aW9uYWwgY2xhc3Nlc1xuICAgKi9cbiAgQElucHV0KCkgc2V0IGFwcGVuZFRvKGFwcGVuZFRvOiBzdHJpbmcpIHtcbiAgICB0aGlzLm9wdGlvbnMuYXBwZW5kVG8gPSBhcHBlbmRUbztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbWF4V2lkdGggdGhlIG1heGltdW0gd2lkdGggb2YgdGhlIHRvb2x0aXAgaW4gcGl4ZWxzLlxuICAgKi9cbiAgQElucHV0KCkgc2V0IG1heFdpZHRoKG1heFdpZHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLm9wdGlvbnMubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgb2JqZWN0IHdpdGggdGhlIHRvb2x0aXAgaXMgdGFiYmVkIHRvLCB3aWxsIGFsc28gc2hvdyB0aGUgdG9vbHRpcC5cbiAgICovXG4gIEBJbnB1dCgpIHNldCBzaG93T25LZXlib2FyZEZvY3VzKHNob3dPbktleWJvYXJkRm9jdXM6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMuc2hvd09uS2V5Ym9hcmRGb2N1cyA9IHNob3dPbktleWJvYXJkRm9jdXM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBiYWNrIGZvciBoaWRpbmcuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgb25IaWRkZW4ob25IaWRkZW46IEZ1bmN0aW9uKSB7XG4gICAgdGhpcy5vcHRpb25zLm9uSGlkZGVuID0gb25IaWRkZW47XG4gIH1cblxuICAvKipcbiAgICogUGxhY2VtZW50IG9wdGlvbnMgcGFzcyB0aHJvdWdoXG4gICAqL1xuICBASW5wdXQoKSBzZXQgcGxhY2VtZW50T3B0KHBsYWNlbWVudE9wdDogb2JqZWN0KSB7XG4gICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudE9wdCA9IHBsYWNlbWVudE9wdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0IHRoZSBjb250ZW50IGluIHRoZSB0b29sdGlwLlxuICAgKi9cbiAgQElucHV0KCkgc2V0IGluaXRpYWxpemVDb250ZW50KGluaXRpYWxpemVDb250ZW50OiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLmluaXRpYWxpemVDb250ZW50ID0gaW5pdGlhbGl6ZUNvbnRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogSWYgc2V0IHRoaXMgY29sb3Igd2lsbCBiZSB1c2VkIG9uIHRoZSBoZWFkZXIgKGlmIGEgcG9wb3ZlcikuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgaGVhZGVyQ2xhc3MoaGVhZGVyQ2xhc3M6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5oZWFkZXJDbGFzcyA9IGhlYWRlckNsYXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBkZWxheSBiZWZvcmUgc2hvd2luZyB0aGUgdG9vbHRpcFxuICAgKi9cbiAgQElucHV0KCkgc2V0IGRlbGF5KGRlbGF5OiBudW1iZXIpIHtcbiAgICB0aGlzLm9wdGlvbnMuZGVsYXkgPSBkZWxheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaWYgdHJ1ZSAoZGVmYXVsdCkgdGhlIHBvcHVwIGlzIGFkZGVkIHRvIHRoZSBib2R5LlxuICAgKi9cbiAgQElucHV0KCkgc2V0IGF0dGFjaFRvQm9keShhdHRhY2hUb0JvZHk6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMuYXR0YWNoVG9Cb2R5ID0gYXR0YWNoVG9Cb2R5O1xuICB9XG5cbiAgLyoqIEFkZCBleHRyYSBhdHRyaWJ1dGVzIGxpa2UgaWQncyB0byB0aGUgY29tcG9uZW50ICoqL1xuICBASW5wdXQoKSBzZXQgYXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBBcnJheTxPYmplY3Q+IHwgT2JqZWN0KSB7XG4gICAgdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBDb21wb25lbnQgT3V0cHV0XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB0b29sdGlwIHZhbHVlIGNoYW5nZXNcbiAgICovXG4gIEBPdXRwdXQoKSBjaGFuZ2VFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8U29ob1Rvb2x0aXBFdmVudD4oKTtcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHRvb2x0aXAgdXBkYXRlcyBpbiBzb21lIHdheVxuICAgKi9cbiAgQE91dHB1dCgpIHVwZGF0ZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxTb2hvVG9vbHRpcEV2ZW50PigpO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUHJpdmF0ZSBNZW1iZXIgRGF0YVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmVmZXJlbmNlIHRvIHRoZSBqUXVlcnkgY29udHJvbC5cbiAgcHJpdmF0ZSBqUXVlcnlFbGVtZW50PzogSlF1ZXJ5O1xuXG4gIC8vIFJlZmVyZW5jZSB0byB0aGUgU29Ib1hpIGNvbnRyb2wgYXBpLlxuICBwcml2YXRlIHRvb2x0aXA/OiBTb2hvVG9vbHRpcFN0YXRpYyB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmKSB7XG5cbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAvLyBXcmFwIHRoZSBlbGVtZW50IGluIGEgalF1ZXJ5IHNlbGVjdG9yLlxuICAgIHRoaXMualF1ZXJ5RWxlbWVudCA9IGpRdWVyeSh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG5cbiAgICB0aGlzLmNyZWF0ZUNvbnRyb2woKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29udHJvbCgpIHtcbiAgICAvLyBJbml0aWFsaXNlIHRoZSBTb2hvWGkgQ29udHJvbFxuICAgIHRoaXMualF1ZXJ5RWxlbWVudD8udG9vbHRpcCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgdGhpcy50b29sdGlwID0gdGhpcy5qUXVlcnlFbGVtZW50Py5kYXRhKCd0b29sdGlwJyk7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRvIGpRdWVyeUVsZW1lbnQncyBldmVudHNcbiAgICAgKi9cbiAgICB0aGlzLmpRdWVyeUVsZW1lbnQ/Lm9uKCdjaGFuZ2UnLCAoZXZlbnQ6IFNvaG9Ub29sdGlwRXZlbnQpID0+IHRoaXMuY2hhbmdlRXZlbnQuZW1pdChldmVudCkpO1xuICAgIHRoaXMualF1ZXJ5RWxlbWVudD8ub24oJ3VwZGF0ZWQnLCAoZXZlbnQ6IFNvaG9Ub29sdGlwRXZlbnQpID0+IHRoaXMudXBkYXRlRXZlbnQuZW1pdChldmVudCkpO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBQdWJsaWMgQVBJXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIHRvb2x0aXAuXG4gICAqL1xuICBwdWJsaWMgc2hvdygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICB0aGlzLnRvb2x0aXAuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgdG9vbHRpcC5cbiAgICovXG4gIHB1YmxpYyBoaWRlKGZvcmNlPzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLnRvb2x0aXApIHtcbiAgICAgIHRoaXMudG9vbHRpcC5oaWRlKGZvcmNlKTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5qUXVlcnlFbGVtZW50KSB7XG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQub2ZmKCk7XG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMudG9vbHRpcCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgbmdPbkNoYW5nZXMoKSB7XG4gICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMudG9vbHRpcCA9IG51bGw7XG4gICAgICB0aGlzLmNyZWF0ZUNvbnRyb2woKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==