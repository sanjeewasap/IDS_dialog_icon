import { Component, EventEmitter, HostBinding, Input, Output, ChangeDetectionStrategy } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * Angular Wrapper for the Soho  Splitter Control.
 *
 * This component searches for an element with the name
 * 'soho-splitter' in the parent's DOM tree, initialising it with
 * the Soho Splitter control.
 */
export class SohoSplitterComponent {
    // -------------------------------------------
    // Component Inputs
    // -------------------------------------------
    // The orientation of the splitter, either x (for vertical) or y (for horizontal)
    set axis(axis) {
        this.options.axis = axis;
        if (this.splitter) {
            this.splitter.settings.axis = axis;
            this.splitter.updated();
        }
    }
    // Controls when the panels are redrawn whilst the splitter is dragged, either
    // continuously (immediate) or when the drag is finished (end).
    set resize(resize) {
        this.options.resize = resize;
        if (this.splitter) {
            this.splitter.settings.resize = resize;
            this.splitter.updated();
        }
    }
    // Constrains the splitter within the bounds of the specified element or region.
    set containment(containment) {
        this.options.containment = containment;
        if (this.splitter) {
            this.splitter.settings.containment = containment;
            this.splitter.updated();
        }
    }
    // Adds/Remove the collapse button.
    set collapseButton(collapseButton) {
        this.options.collapseButton = collapseButton;
        if (this.splitter) {
            this.splitter.settings.collapseButton = collapseButton;
            this.splitter.updated();
        }
    }
    /** Add extra attributes like id's to the component **/
    set attributes(attributes) {
        this.options.attributes = attributes;
        if (this.splitter) {
            this.splitter.settings.attributes = attributes;
            this.splitter.updated();
        }
    }
    /** Ability to stop dragging at a max left or right size. **/
    set maxWidth(maxWidth) {
        this.options.maxWidth = maxWidth;
        if (this.splitter) {
            this.splitter.settings.maxWidth = maxWidth;
            this.splitter.updated();
        }
    }
    // Determines if the split percentage should be saved to local storage
    set save(save) {
        this.options.save = save;
        if (this.splitter) {
            this.splitter.settings.save = save;
            this.splitter.updated();
        }
    }
    /**
     * Constructor.
     *
     * @parm element - the element representing the splitter on the page.
     */
    constructor(element) {
        this.element = element;
        // -------------------------------------------
        // Options Block
        // -------------------------------------------
        this.options = {};
        // -------------------------------------------
        // Component Output
        // -------------------------------------------
        this.split = new EventEmitter();
        // -------------------------------------------
        // Host Bindings
        // -------------------------------------------
        // Set the splitter class.
        this.isSplitter = true;
    }
    // ------------------------------------------
    // Lifecycle Events
    // ------------------------------------------
    ngAfterViewInit() {
        // Wrap the element in a jQuery selector.
        this.jQueryElement = jQuery(this.element.nativeElement);
        // Initialise the SohoXi Control
        this.jQueryElement.splitter(this.options);
        // Once the control is initialised, extract the control
        // plug-in from the element.  The element name is
        // defined by the plug-in, but in this case it is 'splitter'.
        this.splitter = this.jQueryElement.data('splitter');
        // Initialise any event handlers.
        this.jQueryElement
            // Propogate the split event via the event emitter.  The data passed
            // is a reference to the jQuery control.
            .on('split', (...args) => this.split.next(args));
    }
    /**
     * Destructor.
     */
    ngOnDestroy() {
        if (this.splitter) {
            this.splitter.destroy();
            this.splitter = null;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSplitterComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoSplitterComponent, selector: "soho-splitter", inputs: { axis: "axis", resize: "resize", containment: "containment", collapseButton: "collapseButton", attributes: "attributes", maxWidth: "maxWidth", save: "save", isSplitterRight: "isSplitterRight" }, outputs: { split: "split" }, host: { properties: { "class.splitter": "this.isSplitter", "class.splitter-right": "this.isSplitterRight" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSplitterComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'soho-splitter',
                    template: `<ng-content></ng-content>`,
                    changeDetection: ChangeDetectionStrategy.OnPush
                }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { axis: [{
                type: Input
            }], resize: [{
                type: Input
            }], containment: [{
                type: Input
            }], collapseButton: [{
                type: Input
            }], attributes: [{
                type: Input
            }], maxWidth: [{
                type: Input
            }], save: [{
                type: Input
            }], split: [{
                type: Output
            }], isSplitter: [{
                type: HostBinding,
                args: ['class.splitter']
            }], isSplitterRight: [{
                type: HostBinding,
                args: ['class.splitter-right']
            }, {
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29oby1zcGxpdHRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9pZHMtZW50ZXJwcmlzZS1uZy9zcmMvbGliL3NwbGl0dGVyL3NvaG8tc3BsaXR0ZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFTCxTQUFTLEVBRVQsWUFBWSxFQUNaLFdBQVcsRUFDWCxLQUFLLEVBRUwsTUFBTSxFQUNOLHVCQUF1QixFQUN4QixNQUFNLGVBQWUsQ0FBQzs7QUFFdkI7Ozs7OztHQU1HO0FBTUgsTUFBTSxPQUFPLHFCQUFxQjtJQVFoQyw4Q0FBOEM7SUFDOUMsbUJBQW1CO0lBQ25CLDhDQUE4QztJQUU5QyxpRkFBaUY7SUFDakYsSUFBYSxJQUFJLENBQUMsSUFBNkI7UUFDN0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDekI7SUFDSCxDQUFDO0lBRUQsOEVBQThFO0lBQzlFLCtEQUErRDtJQUMvRCxJQUFhLE1BQU0sQ0FBQyxNQUFpQztRQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDN0IsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDdkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN6QjtJQUNILENBQUM7SUFFRCxnRkFBZ0Y7SUFDaEYsSUFBYSxXQUFXLENBQUMsV0FBbUI7UUFDMUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFX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LENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRDs7T0FFRztJQUNILFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUN0QjtJQUNILENBQUM7OEdBN0lVLHFCQUFxQjtrR0FBckIscUJBQXFCLDZZQUh0QiwyQkFBMkI7OzJGQUcxQixxQkFBcUI7a0JBTGpDLFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLGVBQWU7b0JBQ3pCLFFBQVEsRUFBRSwyQkFBMkI7b0JBQ3JDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2lCQUNoRDtpR0FjYyxJQUFJO3NCQUFoQixLQUFLO2dCQVVPLE1BQU07c0JBQWxCLEtBQUs7Z0JBU08sV0FBVztzQkFBdkIsS0FBSztnQkFTTyxjQUFjO3NCQUExQixLQUFLO2dCQVNPLFVBQVU7c0JBQXRCLEtBQUs7Z0JBU08sUUFBUTtzQkFBcEIsS0FBSztnQkFTTyxJQUFJO3NCQUFoQixLQUFLO2dCQVlJLEtBQUs7c0JBQWQsTUFBTTtnQkFPd0IsVUFBVTtzQkFBeEMsV0FBVzt1QkFBQyxnQkFBZ0I7Z0JBR2lCLGVBQWU7c0JBQTVELFdBQVc7dUJBQUMsc0JBQXNCOztzQkFBRyxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIEhvc3RCaW5kaW5nLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIEFuZ3VsYXIgV3JhcHBlciBmb3IgdGhlIFNvaG8gIFNwbGl0dGVyIENvbnRyb2wuXG4gKlxuICogVGhpcyBjb21wb25lbnQgc2VhcmNoZXMgZm9yIGFuIGVsZW1lbnQgd2l0aCB0aGUgbmFtZVxuICogJ3NvaG8tc3BsaXR0ZXInIGluIHRoZSBwYXJlbnQncyBET00gdHJlZSwgaW5pdGlhbGlzaW5nIGl0IHdpdGhcbiAqIHRoZSBTb2hvIFNwbGl0dGVyIGNvbnRyb2wuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NvaG8tc3BsaXR0ZXInLFxuICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBTb2hvU3BsaXR0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gT3B0aW9ucyBCbG9ja1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgcHJpdmF0ZSBvcHRpb25zOiBTb2hvU3BsaXR0ZXJPcHRpb25zID0ge307XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBDb21wb25lbnQgSW5wdXRzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgb3JpZW50YXRpb24gb2YgdGhlIHNwbGl0dGVyLCBlaXRoZXIgeCAoZm9yIHZlcnRpY2FsKSBvciB5IChmb3IgaG9yaXpvbnRhbClcbiAgQElucHV0KCkgc2V0IGF4aXMoYXhpczogU29ob1NwbGl0dGVyT3B0aW9uc0F4aXMpIHtcbiAgICB0aGlzLm9wdGlvbnMuYXhpcyA9IGF4aXM7XG4gICAgaWYgKHRoaXMuc3BsaXR0ZXIpIHtcbiAgICAgIHRoaXMuc3BsaXR0ZXIuc2V0dGluZ3MuYXhpcyA9IGF4aXM7XG4gICAgICB0aGlzLnNwbGl0dGVyLnVwZGF0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb250cm9scyB3aGVuIHRoZSBwYW5lbHMgYXJlIHJlZHJhd24gd2hpbHN0IHRoZSBzcGxpdHRlciBpcyBkcmFnZ2VkLCBlaXRoZXJcbiAgLy8gY29udGludW91c2x5IChpbW1lZGlhdGUpIG9yIHdoZW4gdGhlIGRyYWcgaXMgZmluaXNoZWQgKGVuZCkuXG4gIEBJbnB1dCgpIHNldCByZXNpemUocmVzaXplOiBTb2hvU3BsaXR0ZXJPcHRpb25zUmVzaXplKSB7XG4gICAgdGhpcy5vcHRpb25zLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgdGhpcy5zcGxpdHRlci5zZXR0aW5ncy5yZXNpemUgPSByZXNpemU7XG4gICAgICB0aGlzLnNwbGl0dGVyLnVwZGF0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb25zdHJhaW5zIHRoZSBzcGxpdHRlciB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgb3IgcmVnaW9uLlxuICBASW5wdXQoKSBzZXQgY29udGFpbm1lbnQoY29udGFpbm1lbnQ6IEpRdWVyeSkge1xuICAgIHRoaXMub3B0aW9ucy5jb250YWlubWVudCA9IGNvbnRhaW5tZW50O1xuICAgIGlmICh0aGlzLnNwbGl0dGVyKSB7XG4gICAgICB0aGlzLnNwbGl0dGVyLnNldHRpbmdzLmNvbnRhaW5tZW50ID0gY29udGFpbm1lbnQ7XG4gICAgICB0aGlzLnNwbGl0dGVyLnVwZGF0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGRzL1JlbW92ZSB0aGUgY29sbGFwc2UgYnV0dG9uLlxuICBASW5wdXQoKSBzZXQgY29sbGFwc2VCdXR0b24oY29sbGFwc2VCdXR0b246IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMuY29sbGFwc2VCdXR0b24gPSBjb2xsYXBzZUJ1dHRvbjtcbiAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgdGhpcy5zcGxpdHRlci5zZXR0aW5ncy5jb2xsYXBzZUJ1dHRvbiA9IGNvbGxhcHNlQnV0dG9uO1xuICAgICAgdGhpcy5zcGxpdHRlci51cGRhdGVkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEFkZCBleHRyYSBhdHRyaWJ1dGVzIGxpa2UgaWQncyB0byB0aGUgY29tcG9uZW50ICoqL1xuICBASW5wdXQoKSBzZXQgYXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBBcnJheTxPYmplY3Q+IHwgT2JqZWN0KSB7XG4gICAgdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgIGlmICh0aGlzLnNwbGl0dGVyKSB7XG4gICAgICB0aGlzLnNwbGl0dGVyLnNldHRpbmdzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgdGhpcy5zcGxpdHRlci51cGRhdGVkKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEFiaWxpdHkgdG8gc3RvcCBkcmFnZ2luZyBhdCBhIG1heCBsZWZ0IG9yIHJpZ2h0IHNpemUuICoqL1xuICBASW5wdXQoKSBzZXQgbWF4V2lkdGgobWF4V2lkdGg6IFNvaG9TcGxpdHRlck9wdGlvbnNNYXhXaWR0aCkge1xuICAgIHRoaXMub3B0aW9ucy5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgIGlmICh0aGlzLnNwbGl0dGVyKSB7XG4gICAgICB0aGlzLnNwbGl0dGVyLnNldHRpbmdzLm1heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICB0aGlzLnNwbGl0dGVyLnVwZGF0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBEZXRlcm1pbmVzIGlmIHRoZSBzcGxpdCBwZXJjZW50YWdlIHNob3VsZCBiZSBzYXZlZCB0byBsb2NhbCBzdG9yYWdlXG4gIEBJbnB1dCgpIHNldCBzYXZlKHNhdmU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMuc2F2ZSA9IHNhdmU7XG4gICAgaWYgKHRoaXMuc3BsaXR0ZXIpIHtcbiAgICAgIHRoaXMuc3BsaXR0ZXIuc2V0dGluZ3Muc2F2ZSA9IHNhdmU7XG4gICAgICB0aGlzLnNwbGl0dGVyLnVwZGF0ZWQoKTtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIENvbXBvbmVudCBPdXRwdXRcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIEBPdXRwdXQoKSBzcGxpdCA9IG5ldyBFdmVudEVtaXR0ZXI8T2JqZWN0W10+KCk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBIb3N0IEJpbmRpbmdzXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBTZXQgdGhlIHNwbGl0dGVyIGNsYXNzLlxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNwbGl0dGVyJykgaXNTcGxpdHRlciA9IHRydWU7XG5cbiAgLy8gSXMgdGhlIHNwbGl0dGVyIG9uIHRoZSByaWdodD8gIERlZmF1bHRzIHRvIHRoZSBsZWZ0LlxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNwbGl0dGVyLXJpZ2h0JykgQElucHV0KCkgaXNTcGxpdHRlclJpZ2h0OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gUHJpdmF0ZSBNZW1iZXIgRGF0YVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmVmZXJlbmNlIHRvIHRoZSBqUXVlcnkgY29udHJvbC5cbiAgcHJpdmF0ZSBqUXVlcnlFbGVtZW50PzogSlF1ZXJ5O1xuXG4gIC8vIFJlZmVyZW5jZSB0byB0aGUgU29obyBzcGxpdHRlciBjb250cm9sIGFwaS5cbiAgcHJpdmF0ZSBzcGxpdHRlcj86IFNvaG9TcGxpdHRlclN0YXRpYyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFybSBlbGVtZW50IC0gdGhlIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBzcGxpdHRlciBvbiB0aGUgcGFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudDogRWxlbWVudFJlZikge1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIExpZmVjeWNsZSBFdmVudHNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIC8vIFdyYXAgdGhlIGVsZW1lbnQgaW4gYSBqUXVlcnkgc2VsZWN0b3IuXG4gICAgdGhpcy5qUXVlcnlFbGVtZW50ID0galF1ZXJ5KHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcblxuICAgIC8vIEluaXRpYWxpc2UgdGhlIFNvaG9YaSBDb250cm9sXG4gICAgdGhpcy5qUXVlcnlFbGVtZW50LnNwbGl0dGVyKHRoaXMub3B0aW9ucyk7XG5cbiAgICAvLyBPbmNlIHRoZSBjb250cm9sIGlzIGluaXRpYWxpc2VkLCBleHRyYWN0IHRoZSBjb250cm9sXG4gICAgLy8gcGx1Zy1pbiBmcm9tIHRoZSBlbGVtZW50LiAgVGhlIGVsZW1lbnQgbmFtZSBpc1xuICAgIC8vIGRlZmluZWQgYnkgdGhlIHBsdWctaW4sIGJ1dCBpbiB0aGlzIGNhc2UgaXQgaXMgJ3NwbGl0dGVyJy5cbiAgICB0aGlzLnNwbGl0dGVyID0gdGhpcy5qUXVlcnlFbGVtZW50LmRhdGEoJ3NwbGl0dGVyJyk7XG5cbiAgICAvLyBJbml0aWFsaXNlIGFueSBldmVudCBoYW5kbGVycy5cbiAgICB0aGlzLmpRdWVyeUVsZW1lbnRcbiAgICAgIC8vIFByb3BvZ2F0ZSB0aGUgc3BsaXQgZXZlbnQgdmlhIHRoZSBldmVudCBlbWl0dGVyLiAgVGhlIGRhdGEgcGFzc2VkXG4gICAgICAvLyBpcyBhIHJlZmVyZW5jZSB0byB0aGUgalF1ZXJ5IGNvbnRyb2wuXG4gICAgICAub24oJ3NwbGl0JywgKC4uLmFyZ3M6IGFueVtdKSA9PiB0aGlzLnNwbGl0Lm5leHQoYXJncykpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3RydWN0b3IuXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgdGhpcy5zcGxpdHRlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLnNwbGl0dGVyID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdfQ==