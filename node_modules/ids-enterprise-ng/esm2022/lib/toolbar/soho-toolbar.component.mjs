import { Component, ChangeDetectionStrategy, EventEmitter, HostBinding, Input, Output, } from '@angular/core';
import * as i0 from "@angular/core";
/**
 * needed in case you are using an *ngIf to display and remove the toolbar search field.
 * Otherwise sohoxi will create a wrapper and angular will not know how to handle the
 * element structure change.
 */
export class SohoToolbarSearchFieldWrapperComponent {
    get isSearchfieldWrapper() {
        return true;
    }
    get isToolbarSearchfieldWrapper() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarSearchFieldWrapperComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarSearchFieldWrapperComponent, selector: "span[soho-toolbar-searchfield-wrapper]", host: { properties: { "class.searchfield-wrapper": "this.isSearchfieldWrapper", "class.toolbar-searchfield-wrapper": "this.isToolbarSearchfieldWrapper" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarSearchFieldWrapperComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'span[soho-toolbar-searchfield-wrapper]',
                    template: `<ng-content></ng-content>`
                }]
        }], propDecorators: { isSearchfieldWrapper: [{
                type: HostBinding,
                args: ['class.searchfield-wrapper']
            }], isToolbarSearchfieldWrapper: [{
                type: HostBinding,
                args: ['class.toolbar-searchfield-wrapper']
            }] } });
export class SohoToolbarSearchFieldComponent {
    /** Adds an X button for clearing the search value. */
    set clearable(value) {
        this.options.clearable = value;
        if (this.toolbarsearchfield) {
            this.toolbarsearchfield.settings.clearable = value;
            this.markForRefresh();
        }
    }
    /** Where it's collapsible or not */
    set collapsible(value) {
        this.options.collapsible = value;
        if (this.toolbarsearchfield) {
            this.toolbarsearchfield.settings.collapsible = value;
            this.markForRefresh();
        }
    }
    set collapsibleOnMobile(value) {
        this.options.collapsibleOnMobile = value;
        if (this.toolbarsearchfield) {
            this.toolbarsearchfield.settings.collapsibleOnMobile = value;
            this.markForRefresh();
        }
    }
    /** AutoComplete : Source Function/Data/Url/Array */
    set source(value) {
        this.options.source = value;
        if (this.toolbarsearchfield) {
            this.toolbarsearchfield.settings.source = value;
            this.markForRefresh();
        }
    }
    /** Template that can be passed */
    set template(value) {
        this.options.template = value;
        if (this.toolbarsearchfield) {
            this.toolbarsearchfield.settings.template = value;
            this.markForRefresh();
        }
    }
    get isSearchField() {
        return true;
    }
    constructor(changeDetector, element, ngZone) {
        this.changeDetector = changeDetector;
        this.element = element;
        this.ngZone = ngZone;
        /** Options. */
        this.options = {};
        // ------------------------------------------------------------
        this.selected = new EventEmitter();
        this.cleared = new EventEmitter();
        this.searchFieldChanged = false;
    }
    ngAfterViewInit() {
        this.ngZone.runOutsideAngular(() => {
            this.jQueryElement = jQuery(this.element.nativeElement);
            this.jQueryElement.toolbarsearchfield(this.options);
            // Initialize title attribute as a soho tooltip
            if (this.jQueryElement.attr('title')) {
                this.jQueryElement.tooltip();
            }
            this.toolbarsearchfield = this.jQueryElement.data('toolbarsearchfield');
            /**
             * Bind to jQueryElement's events
             */
            this.jQueryElement.on('selected', (...args) => this.ngZone.run(() => this.selected.emit(args)));
            this.jQueryElement.on('cleared', (...args) => this.ngZone.run(() => this.cleared.emit(args)));
        });
    }
    ngAfterViewChecked() {
        if (this.searchFieldChanged) {
            this.ngZone.runOutsideAngular(() => this.toolbarsearchfield?.updated());
            this.searchFieldChanged = false;
        }
    }
    ngOnDestroy() {
        // Necessary clean up step (add additional here)
        this.ngZone.runOutsideAngular(() => {
            if (this.jQueryElement) {
                // clean up attached events.
                this.jQueryElement.off();
                this.jQueryElement = undefined;
            }
            if (this.toolbarsearchfield) {
                // destroy the soho component.
                this.toolbarsearchfield.destroy();
                this.toolbarsearchfield = undefined;
            }
        });
    }
    clear() {
        this.ngZone.runOutsideAngular(() => this.toolbarsearchfield?.clear());
    }
    markForRefresh() {
        this.searchFieldChanged = true;
        // ... make sure the change detector kicks in, otherwise if the inputs
        // were change programmatially the component may not be eligible for
        // updating.
        this.changeDetector.markForCheck();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarSearchFieldComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarSearchFieldComponent, selector: "input[soho-toolbar-searchfield]", inputs: { options: "options", clearable: "clearable", collapsible: "collapsible", collapsibleOnMobile: "collapsibleOnMobile", source: "source", template: "template" }, outputs: { selected: "selected", cleared: "cleared" }, host: { properties: { "class.searchfield": "this.isSearchField" } }, ngImport: i0, template: '<div #toolbarSearchField><ng-content></ng-content></div>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarSearchFieldComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'input[soho-toolbar-searchfield]',
                    template: '<div #toolbarSearchField><ng-content></ng-content></div>',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i0.NgZone }]; }, propDecorators: { options: [{
                type: Input
            }], clearable: [{
                type: Input
            }], collapsible: [{
                type: Input
            }], collapsibleOnMobile: [{
                type: Input
            }], source: [{
                type: Input
            }], template: [{
                type: Input
            }], selected: [{
                type: Output
            }], cleared: [{
                type: Output
            }], isSearchField: [{
                type: HostBinding,
                args: ['class.searchfield']
            }] } });
/**
 * soho toolbar more button
 */
export class SohoToolbarMoreButtonComponent {
    constructor() {
        this.isPageChanger = false;
        this.isDisabled = false;
    }
    get isMoreButton() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarMoreButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarMoreButtonComponent, selector: "soho-toolbar-more-button", inputs: { isPageChanger: "isPageChanger", isDisabled: "isDisabled" }, host: { properties: { "class.more": "this.isMoreButton", "class.page-changer": "this.isPageChanger" } }, ngImport: i0, template: `
              <button class="btn-actions" type="button" [attr.disabled]="isDisabled ? 'disabled' : null">
                <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
                  <use href="#icon-more"></use>
                </svg>
                <span class="audible" data-translate="text">More</span>
              </button>
              <!-- TODO: look into handling this through soho-button
              <button soho-button="actions" pageChanger="true" icon="more">
                <span class="audible" data-translate="text">More</span>
              </button>
              -->

              <ng-content></ng-content>
            `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarMoreButtonComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'soho-toolbar-more-button',
                    template: `
              <button class="btn-actions" type="button" [attr.disabled]="isDisabled ? 'disabled' : null">
                <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
                  <use href="#icon-more"></use>
                </svg>
                <span class="audible" data-translate="text">More</span>
              </button>
              <!-- TODO: look into handling this through soho-button
              <button soho-button="actions" pageChanger="true" icon="more">
                <span class="audible" data-translate="text">More</span>
              </button>
              -->

              <ng-content></ng-content>
            `,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], propDecorators: { isMoreButton: [{
                type: HostBinding,
                args: ['class.more']
            }], isPageChanger: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['class.page-changer']
            }], isDisabled: [{
                type: Input
            }] } });
/**
 * soho toolbar page title.
 */
export class SohoPageTitleComponent {
    get isPageTitle() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoPageTitleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoPageTitleComponent, selector: "span[soho-page-title]", host: { properties: { "class.page-title": "this.isPageTitle" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoPageTitleComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'span[soho-page-title]',
                    template: `<ng-content></ng-content>`,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], propDecorators: { isPageTitle: [{
                type: HostBinding,
                args: ['class.page-title']
            }] } });
/**
 * soho section title.
 */
export class SohoSectionTitleComponent {
    get isSectionTitle() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSectionTitleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoSectionTitleComponent, selector: "span[soho-section-title]", host: { properties: { "class.section-title": "this.isSectionTitle" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSectionTitleComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'span[soho-section-title]',
                    template: `<ng-content></ng-content>`,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], propDecorators: { isSectionTitle: [{
                type: HostBinding,
                args: ['class.section-title']
            }] } });
/**
 * soho selection count.
 */
export class SohoSelectionCountComponent {
    get isTitle() {
        return true;
    }
    get isSelectionCount() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSelectionCountComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoSelectionCountComponent, selector: "div[soho-selection-count]", host: { properties: { "class.title": "this.isTitle", "class.selection-count": "this.isSelectionCount" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoSelectionCountComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'div[soho-selection-count]',
                    template: `<ng-content></ng-content>`,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], propDecorators: { isTitle: [{
                type: HostBinding,
                args: ['class.title']
            }], isSelectionCount: [{
                type: HostBinding,
                args: ['class.selection-count']
            }] } });
/**
 * Soho toolbar Navigation button
 */
export class SohoToolbarNavButtonComponent {
    // This HostBinding needs to go first to maintain correct styling
    get isIconButton() {
        return true;
    }
    get isAppMenuTrigger() {
        return true;
    }
    get typeAttr() {
        return 'button';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarNavButtonComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarNavButtonComponent, selector: "button[soho-nav-button]", host: { properties: { "class.btn-icon": "this.isIconButton", "class.application-menu-trigger": "this.isAppMenuTrigger", "attr.type": "this.typeAttr" } }, ngImport: i0, template: `
        <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
          <use href="#icon-menu"></use>
        </svg>
        <span class="audible">
        <ng-content></ng-content>
      </span>
            `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarNavButtonComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'button[soho-nav-button]',
                    template: `
        <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
          <use href="#icon-menu"></use>
        </svg>
        <span class="audible">
        <ng-content></ng-content>
      </span>
            `,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], propDecorators: { isIconButton: [{
                type: HostBinding,
                args: ['class.btn-icon']
            }], isAppMenuTrigger: [{
                type: HostBinding,
                args: ['class.application-menu-trigger']
            }], typeAttr: [{
                type: HostBinding,
                args: ['attr.type']
            }] } });
/**
 * Soho toolbar title
 */
export class SohoToolbarTitleComponent {
    get isTitle() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarTitleComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarTitleComponent, selector: "soho-toolbar-title", host: { properties: { "class.title": "this.isTitle" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, styles: [":host{display:inline-block}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarTitleComponent, decorators: [{
            type: Component,
            args: [{ selector: 'soho-toolbar-title', template: `<ng-content></ng-content>`, changeDetection: ChangeDetectionStrategy.OnPush, styles: [":host{display:inline-block}\n"] }]
        }], propDecorators: { isTitle: [{
                type: HostBinding,
                args: ['class.title']
            }] } });
/**
 * Soho toolbar buttonset
 */
export class SohoToolbarButtonSetComponent {
    get isButtonSet() {
        return true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarButtonSetComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarButtonSetComponent, selector: "soho-toolbar-button-set", host: { properties: { "class.buttonset": "this.isButtonSet" } }, ngImport: i0, template: `<ng-content></ng-content>`, isInline: true, styles: [":host{display:inline-block}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarButtonSetComponent, decorators: [{
            type: Component,
            args: [{ selector: 'soho-toolbar-button-set', template: `<ng-content></ng-content>`, changeDetection: ChangeDetectionStrategy.OnPush, styles: [":host{display:inline-block}\n"] }]
        }], propDecorators: { isButtonSet: [{
                type: HostBinding,
                args: ['class.buttonset']
            }] } });
/**
 * The main soho toolbar component
 */
export class SohoToolbarComponent {
    get isToolbar() {
        return true;
    }
    get showMoreButton() {
        return this.options.hasMoreButton;
    }
    get isBlock() {
        // custom elements don't have display: block set by default so set it here.
        // if display is expected to be overridden then use div[soho-toolbar] selector
        // instead. For example when a @media query wants to set something to display: none.
        return this.element.nativeElement.tagName === 'SOHO-TOOLBAR' ? 'block' : null;
    }
    /**
     * Set the has more button component option, this is used
     * to define if the more button is expected to exist in the toolbar logic.
     */
    set hasMoreButton(value) {
        this.options.hasMoreButton = value;
        if (this.toolbar) {
            this.toolbar.settings.hasMoreButton = value;
            this.markForRefresh();
        }
    }
    /**
     * Set the expected max visible buttons before overflow is forced.
     */
    set maxVisibleButtons(value) {
        this.options.maxVisibleButtons = value;
        if (this.toolbar) {
            this.toolbar.settings.maxVisibleButtons = value;
            this.markForRefresh();
        }
    }
    /**
     * Set the rightAligned hint. This is for toolbars with no title that should be forced to right align.
     */
    set rightAligned(value) {
        this.options.rightAligned = value;
        if (this.toolbar) {
            this.toolbar.settings.rightAligned = value;
            this.markForRefresh();
        }
    }
    /**
     * @deprecated Use the rightAligned option.
     */
    set rightAlign(value) {
        console.warn('This input has been renamed, please use the rightAligned input instead.');
        this.options.rightAligned = value;
        if (this.toolbar) {
            this.toolbar.settings.rightAligned = value;
            this.markForRefresh();
        }
    }
    /**
     * If true, uses Javascript to size the Title and Buttonset elements in a way that shows as much of the Title area as possible.
     */
    set resizeContainers(value) {
        this.options.resizeContainers = value;
        if (this.toolbar) {
            this.toolbar.settings.resizeContainers = value;
            this.markForRefresh();
        }
    }
    /**
     * If "resizeContainers" is true, setting this to true will try to display as many buttons as possible while resizing the toolbar.
     * Setting to false attempts to show the entire title instead.
     */
    set favorButtonset(value) {
        this.options.favorButtonset = value;
        if (this.toolbar) {
            this.toolbar.settings.favorButtonset = value;
            this.markForRefresh();
        }
    }
    /**
     * Allows a moreMenuSettings object to be propagated down into the Toolbar.
     * the jQuery Toolbar component handles passing these settings into the More Actions
     * menu's jQuery Popupmenu.
     */
    set moreMenuSettings(value) {
        this.options.moreMenuSettings = value;
        if (this.toolbar) {
            this.toolbar.settings.moreMenuSettings = value;
            this.markForRefresh();
        }
    }
    /** Add extra attributes like id's to the component **/
    set attributes(value) {
        this.options.attributes = value;
        if (this.toolbar) {
            this.toolbar.settings.attributes = value;
            this.markForRefresh();
        }
    }
    constructor(changeDetector, element, ngZone) {
        this.changeDetector = changeDetector;
        this.element = element;
        this.ngZone = ngZone;
        /**
         * Whether to display the overflow more-button or not regardless of
         * overflow content.
         */
        this.noActionsButton = false;
        /**
         * The beforeactivate event is fired whenever a toolbar is activated giving the event handler a chance
         * to "veto" the tab selection change.
         */
        this.beforeActivated = new EventEmitter();
        /**
         * The activated event is if the beforeActivate succeeds.
         */
        this.activated = new EventEmitter();
        /**
         * The afteractivate event is fired after the toolbar has been activated.
         */
        this.afterActivated = new EventEmitter();
        /**
         * The selected event is fired when a toolbar button has been clicked.
         */
        this.selected = new EventEmitter();
        // Lazy load example
        // Not fully implemented, see SOHO-5011
        this.menuItemMouseOver = new EventEmitter();
        this.options = {};
    }
    ngAfterViewInit() {
        this.ngZone.runOutsideAngular(() => {
            this.options.noSearchfieldReinvoke = true;
            // Assign element to local variable
            this.jQueryElement = jQuery(this.element.nativeElement);
            this.jQueryElement.toolbar(this.options);
            this.toolbar = this.jQueryElement.data('toolbar');
            // bind to jquery events and emit as angular events
            this.jQueryElement.on('beforeactivated', (event) => this.ngZone.run(() => this.beforeActivated.emit(event)));
            this.jQueryElement.on('activated', (event) => this.ngZone.run(() => this.activated.emit(event)));
            this.jQueryElement.on('afteractivated', (event) => this.ngZone.run(() => this.afterActivated.emit(event)));
            this.jQueryElement.on('selected', (event, item) => this.ngZone.run(() => this.selected.emit({ event, item })));
            // Returns original button info on mouseover event
            this.jQueryElement.find('.more').on('mouseover', 'li.submenu', ((event) => {
                const originalButton = jQuery(event.target).data('originalButton');
                if (originalButton !== undefined) {
                    this.ngZone.run(() => this.menuItemMouseOver.emit(originalButton));
                }
            }));
            this.toolbar = this.jQueryElement.data('toolbar');
        });
    }
    ngAfterViewChecked() {
        if (this.toolbarChanged) {
            this.updated();
            this.toolbarChanged = false;
        }
    }
    ngOnDestroy() {
        // call outside the angular zone so change detection isn't triggered by the soho component.
        this.ngZone.runOutsideAngular(() => {
            if (this.jQueryElement) {
                this.jQueryElement.find('.more').off();
                this.jQueryElement.off();
                this.jQueryElement = undefined;
            }
            if (this.toolbar) {
                this.toolbar.destroy();
                this.toolbar = null;
            }
        });
    }
    updated(settings) {
        if (this.toolbar) {
            this.ngZone.runOutsideAngular(() => this.toolbar?.updated(settings));
        }
    }
    handleResize() {
        if (this.toolbar) {
            this.ngZone.runOutsideAngular(() => this.toolbar?.handleResize());
        }
    }
    markForRefresh() {
        this.toolbarChanged = true;
        // ... make sure the change detector kicks in, otherwise if the inputs
        // were change programmatially the component may not be eligible for
        // updating.
        this.changeDetector.markForCheck();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.4", type: SohoToolbarComponent, selector: "soho-toolbar, div[soho-toolbar]", inputs: { noActionsButton: "noActionsButton", hasMoreButton: "hasMoreButton", maxVisibleButtons: "maxVisibleButtons", rightAligned: "rightAligned", rightAlign: "rightAlign", resizeContainers: "resizeContainers", favorButtonset: "favorButtonset", moreMenuSettings: "moreMenuSettings", attributes: "attributes" }, outputs: { beforeActivated: "beforeActivated", activated: "activated", afterActivated: "afterActivated", selected: "selected", menuItemMouseOver: "menuItemMouseOver" }, host: { properties: { "class.toolbar": "this.isToolbar", "class.has-more-button": "this.showMoreButton", "style.display": "this.isBlock", "class.no-actions-button": "this.noActionsButton" } }, ngImport: i0, template: "<ng-content select=\"soho-toolbar-title\"></ng-content>\n<ng-content select=\"soho-toolbar-button-set\"></ng-content>\n<ng-content select=\"soho-toolbar-more-button\"></ng-content>\n", changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.4", ngImport: i0, type: SohoToolbarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'soho-toolbar, div[soho-toolbar]', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-content select=\"soho-toolbar-title\"></ng-content>\n<ng-content select=\"soho-toolbar-button-set\"></ng-content>\n<ng-content select=\"soho-toolbar-more-button\"></ng-content>\n" }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i0.NgZone }]; }, propDecorators: { isToolbar: [{
                type: HostBinding,
                args: ['class.toolbar']
            }], showMoreButton: [{
                type: HostBinding,
                args: ['class.has-more-button']
            }], isBlock: [{
                type: HostBinding,
                args: ['style.display']
            }], noActionsButton: [{
                type: HostBinding,
                args: ['class.no-actions-button']
            }, {
                type: Input
            }], hasMoreButton: [{
                type: Input
            }], maxVisibleButtons: [{
                type: Input
            }], rightAligned: [{
                type: Input
            }], rightAlign: [{
                type: Input
            }], resizeContainers: [{
                type: Input
            }], favorButtonset: [{
                type: Input
            }], moreMenuSettings: [{
                type: Input
            }], attributes: [{
                type: Input
            }], beforeActivated: [{
                type: Output
            }], activated: [{
                type: Output
            }], afterActivated: [{
                type: Output
            }], selected: [{
                type: Output
            }], menuItemMouseOver: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29oby10b29sYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2lkcy1lbnRlcnByaXNlLW5nL3NyYy9saWIvdG9vbGJhci9zb2hvLXRvb2xiYXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaWRzLWVudGVycHJpc2Utbmcvc3JjL2xpYi90b29sYmFyL3NvaG8tdG9vbGJhci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBR0wsU0FBUyxFQUVULHVCQUF1QixFQUV2QixZQUFZLEVBQ1osV0FBVyxFQUNYLEtBQUssRUFDTCxNQUFNLEdBRVAsTUFBTSxlQUFlLENBQUM7O0FBRXZCOzs7O0dBSUc7QUFLSCxNQUFNLE9BQU8sc0NBQXNDO0lBQ2pELElBQThDLG9CQUFvQjtRQUNoRSxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFDRCxJQUFzRCwyQkFBMkI7UUFDL0UsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDOzhHQU5VLHNDQUFzQztrR0FBdEMsc0NBQXNDLDJPQUZ2QywyQkFBMkI7OzJGQUUxQixzQ0FBc0M7a0JBSmxELFNBQVM7bUJBQUM7b0JBQ1QsUUFBUSxFQUFFLHdDQUF3QztvQkFDbEQsUUFBUSxFQUFFLDJCQUEyQjtpQkFDdEM7OEJBRStDLG9CQUFvQjtzQkFBakUsV0FBVzt1QkFBQywyQkFBMkI7Z0JBR2MsMkJBQTJCO3NCQUFoRixXQUFXO3VCQUFDLG1DQUFtQzs7QUFXbEQsTUFBTSxPQUFPLCtCQUErQjtJQUkxQyxzREFBc0Q7SUFDdEQsSUFBYSxTQUFTLENBQUMsS0FBYztRQUNuQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDL0IsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsS0FB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QUF2RCxXQUFXO3VCQUFDLHVCQUF1QjtnQkFHRixPQUFPO3NCQUF4QyxXQUFXO3VCQUFDLGVBQWU7Z0JBV3FCLGVBQWU7c0JBQS9ELFdBQVc7dUJBQUMseUJBQXlCOztzQkFBRyxLQUFLO2dCQU1qQyxhQUFhO3NCQUF6QixLQUFLO2dCQVdPLGlCQUFpQjtzQkFBN0IsS0FBSztnQkFXTyxZQUFZO3NCQUF4QixLQUFLO2dCQVdPLFVBQVU7c0JBQXRCLEtBQUs7Z0JBYU8sZ0JBQWdCO3NCQUE1QixLQUFLO2dCQVlPLGNBQWM7c0JBQTFCLEtBQUs7Z0JBYU8sZ0JBQWdCO3NCQUE1QixLQUFLO2dCQVNPLFVBQVU7c0JBQXRCLEtBQUs7Z0JBWUksZUFBZTtzQkFBeEIsTUFBTTtnQkFLRyxTQUFTO3NCQUFsQixNQUFNO2dCQUtHLGNBQWM7c0JBQXZCLE1BQU07Z0JBS0csUUFBUTtzQkFBakIsTUFBTTtnQkFJRyxpQkFBaUI7c0JBQTFCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdDaGVja2VkLFxuICBBZnRlclZpZXdJbml0LFxuICBDb21wb25lbnQsXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgT25EZXN0cm95LCBOZ1pvbmUsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIG5lZWRlZCBpbiBjYXNlIHlvdSBhcmUgdXNpbmcgYW4gKm5nSWYgdG8gZGlzcGxheSBhbmQgcmVtb3ZlIHRoZSB0b29sYmFyIHNlYXJjaCBmaWVsZC5cbiAqIE90aGVyd2lzZSBzb2hveGkgd2lsbCBjcmVhdGUgYSB3cmFwcGVyIGFuZCBhbmd1bGFyIHdpbGwgbm90IGtub3cgaG93IHRvIGhhbmRsZSB0aGVcbiAqIGVsZW1lbnQgc3RydWN0dXJlIGNoYW5nZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3Bhbltzb2hvLXRvb2xiYXItc2VhcmNoZmllbGQtd3JhcHBlcl0nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmBcbn0pXG5leHBvcnQgY2xhc3MgU29ob1Rvb2xiYXJTZWFyY2hGaWVsZFdyYXBwZXJDb21wb25lbnQge1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNlYXJjaGZpZWxkLXdyYXBwZXInKSBnZXQgaXNTZWFyY2hmaWVsZFdyYXBwZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy50b29sYmFyLXNlYXJjaGZpZWxkLXdyYXBwZXInKSBnZXQgaXNUb29sYmFyU2VhcmNoZmllbGRXcmFwcGVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2lucHV0W3NvaG8tdG9vbGJhci1zZWFyY2hmaWVsZF0nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHRlbXBsYXRlOiAnPGRpdiAjdG9vbGJhclNlYXJjaEZpZWxkPjxuZy1jb250ZW50PjwvbmctY29udGVudD48L2Rpdj4nLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcblxufSlcbmV4cG9ydCBjbGFzcyBTb2hvVG9vbGJhclNlYXJjaEZpZWxkQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3Q2hlY2tlZCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgLyoqIE9wdGlvbnMuICovXG4gIEBJbnB1dCgpIG9wdGlvbnM6IFNvaG9Ub29sYmFyU2VhcmNoRmllbGRPcHRpb25zID0ge307XG5cbiAgLyoqIEFkZHMgYW4gWCBidXR0b24gZm9yIGNsZWFyaW5nIHRoZSBzZWFyY2ggdmFsdWUuICovXG4gIEBJbnB1dCgpIHNldCBjbGVhcmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xlYXJhYmxlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkKSB7XG4gICAgICB0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZC5zZXR0aW5ncy5jbGVhcmFibGUgPSB2YWx1ZTtcbiAgICAgIHRoaXMubWFya0ZvclJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICAvKiogV2hlcmUgaXQncyBjb2xsYXBzaWJsZSBvciBub3QgKi9cbiAgQElucHV0KCkgc2V0IGNvbGxhcHNpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkKSB7XG4gICAgICB0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZC5zZXR0aW5ncy5jb2xsYXBzaWJsZSA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBjb2xsYXBzaWJsZU9uTW9iaWxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlT25Nb2JpbGUgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy50b29sYmFyc2VhcmNoZmllbGQpIHtcbiAgICAgIHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkLnNldHRpbmdzLmNvbGxhcHNpYmxlT25Nb2JpbGUgPSB2YWx1ZTtcbiAgICAgIHRoaXMubWFya0ZvclJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICAvKiogQXV0b0NvbXBsZXRlIDogU291cmNlIEZ1bmN0aW9uL0RhdGEvVXJsL0FycmF5ICovXG4gIEBJbnB1dCgpIHNldCBzb3VyY2UodmFsdWU6IFNvaG9BdXRvQ29tcGxldGVTb3VyY2UpIHtcbiAgICB0aGlzLm9wdGlvbnMuc291cmNlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkKSB7XG4gICAgICB0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZC5zZXR0aW5ncy5zb3VyY2UgPSB2YWx1ZTtcbiAgICAgIHRoaXMubWFya0ZvclJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICAvKiogVGVtcGxhdGUgdGhhdCBjYW4gYmUgcGFzc2VkICovXG4gIEBJbnB1dCgpIHNldCB0ZW1wbGF0ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5vcHRpb25zLnRlbXBsYXRlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkKSB7XG4gICAgICB0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZC5zZXR0aW5ncy50ZW1wbGF0ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIEBPdXRwdXQoKSBzZWxlY3RlZDogRXZlbnRFbWl0dGVyPE9iamVjdFtdPiA9IG5ldyBFdmVudEVtaXR0ZXI8T2JqZWN0W10+KCk7XG4gIEBPdXRwdXQoKSBjbGVhcmVkOiBFdmVudEVtaXR0ZXI8T2JqZWN0W10+ID0gbmV3IEV2ZW50RW1pdHRlcjxPYmplY3RbXT4oKTtcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNlYXJjaGZpZWxkJykgZ2V0IGlzU2VhcmNoRmllbGQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogTG9jYWwgdmFyaWFibGVzXG4gICAqL1xuICBwcml2YXRlIGpRdWVyeUVsZW1lbnQ/OiBKUXVlcnk7XG4gIHByaXZhdGUgdG9vbGJhcnNlYXJjaGZpZWxkPzogU29ob1Rvb2xiYXJTZWFyY2hGaWVsZFN0YXRpYztcbiAgcHJpdmF0ZSBzZWFyY2hGaWVsZENoYW5nZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZVxuICApIHsgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQgPSBqUXVlcnkodGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgdGhpcy5qUXVlcnlFbGVtZW50LnRvb2xiYXJzZWFyY2hmaWVsZCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIHRpdGxlIGF0dHJpYnV0ZSBhcyBhIHNvaG8gdG9vbHRpcFxuICAgICAgaWYgKHRoaXMualF1ZXJ5RWxlbWVudC5hdHRyKCd0aXRsZScpKSB7XG4gICAgICAgIHRoaXMualF1ZXJ5RWxlbWVudC50b29sdGlwKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkID0gdGhpcy5qUXVlcnlFbGVtZW50LmRhdGEoJ3Rvb2xiYXJzZWFyY2hmaWVsZCcpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEJpbmQgdG8galF1ZXJ5RWxlbWVudCdzIGV2ZW50c1xuICAgICAgICovXG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQub24oJ3NlbGVjdGVkJywgKC4uLmFyZ3MpID0+XG4gICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB0aGlzLnNlbGVjdGVkLmVtaXQoYXJncykpKTtcblxuICAgICAgdGhpcy5qUXVlcnlFbGVtZW50Lm9uKCdjbGVhcmVkJywgKC4uLmFyZ3MpID0+XG4gICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB0aGlzLmNsZWFyZWQuZW1pdChhcmdzKSkpO1xuICAgIH0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdDaGVja2VkKCkge1xuICAgIGlmICh0aGlzLnNlYXJjaEZpZWxkQ2hhbmdlZCkge1xuICAgICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gdGhpcy50b29sYmFyc2VhcmNoZmllbGQ/LnVwZGF0ZWQoKSk7XG4gICAgICB0aGlzLnNlYXJjaEZpZWxkQ2hhbmdlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIC8vIE5lY2Vzc2FyeSBjbGVhbiB1cCBzdGVwIChhZGQgYWRkaXRpb25hbCBoZXJlKVxuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmpRdWVyeUVsZW1lbnQpIHtcbiAgICAgICAgLy8gY2xlYW4gdXAgYXR0YWNoZWQgZXZlbnRzLlxuICAgICAgICB0aGlzLmpRdWVyeUVsZW1lbnQub2ZmKCk7XG4gICAgICAgIHRoaXMualF1ZXJ5RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZCkge1xuICAgICAgICAvLyBkZXN0cm95IHRoZSBzb2hvIGNvbXBvbmVudC5cbiAgICAgICAgdGhpcy50b29sYmFyc2VhcmNoZmllbGQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnRvb2xiYXJzZWFyY2hmaWVsZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHRoaXMudG9vbGJhcnNlYXJjaGZpZWxkPy5jbGVhcigpKTtcbiAgfVxuXG4gIHByaXZhdGUgbWFya0ZvclJlZnJlc2goKSB7XG4gICAgdGhpcy5zZWFyY2hGaWVsZENoYW5nZWQgPSB0cnVlO1xuXG4gICAgLy8gLi4uIG1ha2Ugc3VyZSB0aGUgY2hhbmdlIGRldGVjdG9yIGtpY2tzIGluLCBvdGhlcndpc2UgaWYgdGhlIGlucHV0c1xuICAgIC8vIHdlcmUgY2hhbmdlIHByb2dyYW1tYXRpYWxseSB0aGUgY29tcG9uZW50IG1heSBub3QgYmUgZWxpZ2libGUgZm9yXG4gICAgLy8gdXBkYXRpbmcuXG4gICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgfVxufVxuXG4vKipcbiAqIHNvaG8gdG9vbGJhciBtb3JlIGJ1dHRvblxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzb2hvLXRvb2xiYXItbW9yZS1idXR0b24nLFxuICB0ZW1wbGF0ZTogYFxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLWFjdGlvbnNcIiB0eXBlPVwiYnV0dG9uXCIgW2F0dHIuZGlzYWJsZWRdPVwiaXNEaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiBudWxsXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIiBmb2N1c2FibGU9XCJmYWxzZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj5cbiAgICAgICAgICAgICAgICAgIDx1c2UgaHJlZj1cIiNpY29uLW1vcmVcIj48L3VzZT5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF1ZGlibGVcIiBkYXRhLXRyYW5zbGF0ZT1cInRleHRcIj5Nb3JlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPCEtLSBUT0RPOiBsb29rIGludG8gaGFuZGxpbmcgdGhpcyB0aHJvdWdoIHNvaG8tYnV0dG9uXG4gICAgICAgICAgICAgIDxidXR0b24gc29oby1idXR0b249XCJhY3Rpb25zXCIgcGFnZUNoYW5nZXI9XCJ0cnVlXCIgaWNvbj1cIm1vcmVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF1ZGlibGVcIiBkYXRhLXRyYW5zbGF0ZT1cInRleHRcIj5Nb3JlPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgLS0+XG5cbiAgICAgICAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgICAgICAgICAgYCxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFNvaG9Ub29sYmFyTW9yZUJ1dHRvbkNvbXBvbmVudCB7XG4gIEBIb3N0QmluZGluZygnY2xhc3MubW9yZScpIGdldCBpc01vcmVCdXR0b24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgQElucHV0KCkgQEhvc3RCaW5kaW5nKCdjbGFzcy5wYWdlLWNoYW5nZXInKSBpc1BhZ2VDaGFuZ2VyID0gZmFsc2U7XG4gIEBJbnB1dCgpIGlzRGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBzb2hvIHRvb2xiYXIgcGFnZSB0aXRsZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3Bhbltzb2hvLXBhZ2UtdGl0bGVdJywgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgU29ob1BhZ2VUaXRsZUNvbXBvbmVudCB7XG4gIEBIb3N0QmluZGluZygnY2xhc3MucGFnZS10aXRsZScpIGdldCBpc1BhZ2VUaXRsZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIHNvaG8gc2VjdGlvbiB0aXRsZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3Bhbltzb2hvLXNlY3Rpb24tdGl0bGVdJywgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgU29ob1NlY3Rpb25UaXRsZUNvbXBvbmVudCB7XG4gIEBIb3N0QmluZGluZygnY2xhc3Muc2VjdGlvbi10aXRsZScpIGdldCBpc1NlY3Rpb25UaXRsZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIHNvaG8gc2VsZWN0aW9uIGNvdW50LlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkaXZbc29oby1zZWxlY3Rpb24tY291bnRdJywgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgU29ob1NlbGVjdGlvbkNvdW50Q29tcG9uZW50IHtcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy50aXRsZScpIGdldCBpc1RpdGxlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIEBIb3N0QmluZGluZygnY2xhc3Muc2VsZWN0aW9uLWNvdW50JykgZ2V0IGlzU2VsZWN0aW9uQ291bnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBTb2hvIHRvb2xiYXIgTmF2aWdhdGlvbiBidXR0b25cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYnV0dG9uW3NvaG8tbmF2LWJ1dHRvbl0nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHRlbXBsYXRlOiBgXG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCIgZm9jdXNhYmxlPVwiZmFsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+XG4gICAgICAgICAgPHVzZSBocmVmPVwiI2ljb24tbWVudVwiPjwvdXNlPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJhdWRpYmxlXCI+XG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIGAsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBTb2hvVG9vbGJhck5hdkJ1dHRvbkNvbXBvbmVudCB7XG4gIC8vIFRoaXMgSG9zdEJpbmRpbmcgbmVlZHMgdG8gZ28gZmlyc3QgdG8gbWFpbnRhaW4gY29ycmVjdCBzdHlsaW5nXG4gIEBIb3N0QmluZGluZygnY2xhc3MuYnRuLWljb24nKSBnZXQgaXNJY29uQnV0dG9uKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIEBIb3N0QmluZGluZygnY2xhc3MuYXBwbGljYXRpb24tbWVudS10cmlnZ2VyJykgZ2V0IGlzQXBwTWVudVRyaWdnZXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnR5cGUnKSBnZXQgdHlwZUF0dHIoKSB7XG4gICAgcmV0dXJuICdidXR0b24nO1xuICB9XG59XG5cbi8qKlxuICogU29obyB0b29sYmFyIHRpdGxlXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NvaG8tdG9vbGJhci10aXRsZScsXG4gIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gIHN0eWxlczogW2A6aG9zdCB7IGRpc3BsYXk6aW5saW5lLWJsb2NrIH1gXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFNvaG9Ub29sYmFyVGl0bGVDb21wb25lbnQge1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnRpdGxlJykgZ2V0IGlzVGl0bGUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBTb2hvIHRvb2xiYXIgYnV0dG9uc2V0XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NvaG8tdG9vbGJhci1idXR0b24tc2V0JyxcbiAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgc3R5bGVzOiBbYDpob3N0eyBkaXNwbGF5OmlubGluZS1ibG9jayB9YF0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIFNvaG9Ub29sYmFyQnV0dG9uU2V0Q29tcG9uZW50IHtcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5idXR0b25zZXQnKSBnZXQgaXNCdXR0b25TZXQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbWFpbiBzb2hvIHRvb2xiYXIgY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3NvaG8tdG9vbGJhciwgZGl2W3NvaG8tdG9vbGJhcl0nLFxuICB0ZW1wbGF0ZVVybDogJ3NvaG8tdG9vbGJhci5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBTb2hvVG9vbGJhckNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0NoZWNrZWQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gIEBIb3N0QmluZGluZygnY2xhc3MudG9vbGJhcicpIGdldCBpc1Rvb2xiYXIoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5oYXMtbW9yZS1idXR0b24nKSBnZXQgc2hvd01vcmVCdXR0b24oKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oYXNNb3JlQnV0dG9uO1xuICB9XG4gIEBIb3N0QmluZGluZygnc3R5bGUuZGlzcGxheScpIGdldCBpc0Jsb2NrKCkge1xuICAgIC8vIGN1c3RvbSBlbGVtZW50cyBkb24ndCBoYXZlIGRpc3BsYXk6IGJsb2NrIHNldCBieSBkZWZhdWx0IHNvIHNldCBpdCBoZXJlLlxuICAgIC8vIGlmIGRpc3BsYXkgaXMgZXhwZWN0ZWQgdG8gYmUgb3ZlcnJpZGRlbiB0aGVuIHVzZSBkaXZbc29oby10b29sYmFyXSBzZWxlY3RvclxuICAgIC8vIGluc3RlYWQuIEZvciBleGFtcGxlIHdoZW4gYSBAbWVkaWEgcXVlcnkgd2FudHMgdG8gc2V0IHNvbWV0aGluZyB0byBkaXNwbGF5OiBub25lLlxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC50YWdOYW1lID09PSAnU09ITy1UT09MQkFSJyA/ICdibG9jaycgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZGlzcGxheSB0aGUgb3ZlcmZsb3cgbW9yZS1idXR0b24gb3Igbm90IHJlZ2FyZGxlc3Mgb2ZcbiAgICogb3ZlcmZsb3cgY29udGVudC5cbiAgICovXG4gIEBIb3N0QmluZGluZygnY2xhc3Mubm8tYWN0aW9ucy1idXR0b24nKSBASW5wdXQoKSBub0FjdGlvbnNCdXR0b24gPSBmYWxzZTtcblxuICAvKipcbiAgICogU2V0IHRoZSBoYXMgbW9yZSBidXR0b24gY29tcG9uZW50IG9wdGlvbiwgdGhpcyBpcyB1c2VkXG4gICAqIHRvIGRlZmluZSBpZiB0aGUgbW9yZSBidXR0b24gaXMgZXhwZWN0ZWQgdG8gZXhpc3QgaW4gdGhlIHRvb2xiYXIgbG9naWMuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgaGFzTW9yZUJ1dHRvbih2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMub3B0aW9ucy5oYXNNb3JlQnV0dG9uID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcikge1xuICAgICAgdGhpcy50b29sYmFyLnNldHRpbmdzLmhhc01vcmVCdXR0b24gPSB2YWx1ZTtcbiAgICAgIHRoaXMubWFya0ZvclJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBleHBlY3RlZCBtYXggdmlzaWJsZSBidXR0b25zIGJlZm9yZSBvdmVyZmxvdyBpcyBmb3JjZWQuXG4gICAqL1xuICBASW5wdXQoKSBzZXQgbWF4VmlzaWJsZUJ1dHRvbnModmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMub3B0aW9ucy5tYXhWaXNpYmxlQnV0dG9ucyA9IHZhbHVlO1xuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIHRoaXMudG9vbGJhci5zZXR0aW5ncy5tYXhWaXNpYmxlQnV0dG9ucyA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHJpZ2h0QWxpZ25lZCBoaW50LiBUaGlzIGlzIGZvciB0b29sYmFycyB3aXRoIG5vIHRpdGxlIHRoYXQgc2hvdWxkIGJlIGZvcmNlZCB0byByaWdodCBhbGlnbi5cbiAgICovXG4gIEBJbnB1dCgpIHNldCByaWdodEFsaWduZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLm9wdGlvbnMucmlnaHRBbGlnbmVkID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudG9vbGJhcikge1xuICAgICAgdGhpcy50b29sYmFyLnNldHRpbmdzLnJpZ2h0QWxpZ25lZCA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHJpZ2h0QWxpZ25lZCBvcHRpb24uXG4gICAqL1xuICBASW5wdXQoKSBzZXQgcmlnaHRBbGlnbih2YWx1ZTogYm9vbGVhbikge1xuICAgIGNvbnNvbGUud2FybignVGhpcyBpbnB1dCBoYXMgYmVlbiByZW5hbWVkLCBwbGVhc2UgdXNlIHRoZSByaWdodEFsaWduZWQgaW5wdXQgaW5zdGVhZC4nKTtcblxuICAgIHRoaXMub3B0aW9ucy5yaWdodEFsaWduZWQgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICB0aGlzLnRvb2xiYXIuc2V0dGluZ3MucmlnaHRBbGlnbmVkID0gdmFsdWU7XG4gICAgICB0aGlzLm1hcmtGb3JSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRydWUsIHVzZXMgSmF2YXNjcmlwdCB0byBzaXplIHRoZSBUaXRsZSBhbmQgQnV0dG9uc2V0IGVsZW1lbnRzIGluIGEgd2F5IHRoYXQgc2hvd3MgYXMgbXVjaCBvZiB0aGUgVGl0bGUgYXJlYSBhcyBwb3NzaWJsZS5cbiAgICovXG4gIEBJbnB1dCgpIHNldCByZXNpemVDb250YWluZXJzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5vcHRpb25zLnJlc2l6ZUNvbnRhaW5lcnMgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICB0aGlzLnRvb2xiYXIuc2V0dGluZ3MucmVzaXplQ29udGFpbmVycyA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBcInJlc2l6ZUNvbnRhaW5lcnNcIiBpcyB0cnVlLCBzZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHRyeSB0byBkaXNwbGF5IGFzIG1hbnkgYnV0dG9ucyBhcyBwb3NzaWJsZSB3aGlsZSByZXNpemluZyB0aGUgdG9vbGJhci5cbiAgICogU2V0dGluZyB0byBmYWxzZSBhdHRlbXB0cyB0byBzaG93IHRoZSBlbnRpcmUgdGl0bGUgaW5zdGVhZC5cbiAgICovXG4gIEBJbnB1dCgpIHNldCBmYXZvckJ1dHRvbnNldCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMub3B0aW9ucy5mYXZvckJ1dHRvbnNldCA9IHZhbHVlO1xuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIHRoaXMudG9vbGJhci5zZXR0aW5ncy5mYXZvckJ1dHRvbnNldCA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgYSBtb3JlTWVudVNldHRpbmdzIG9iamVjdCB0byBiZSBwcm9wYWdhdGVkIGRvd24gaW50byB0aGUgVG9vbGJhci5cbiAgICogdGhlIGpRdWVyeSBUb29sYmFyIGNvbXBvbmVudCBoYW5kbGVzIHBhc3NpbmcgdGhlc2Ugc2V0dGluZ3MgaW50byB0aGUgTW9yZSBBY3Rpb25zXG4gICAqIG1lbnUncyBqUXVlcnkgUG9wdXBtZW51LlxuICAgKi9cbiAgQElucHV0KCkgc2V0IG1vcmVNZW51U2V0dGluZ3ModmFsdWU6IFNvaG9Qb3B1cE1lbnVPcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zLm1vcmVNZW51U2V0dGluZ3MgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICB0aGlzLnRvb2xiYXIuc2V0dGluZ3MubW9yZU1lbnVTZXR0aW5ncyA9IHZhbHVlO1xuICAgICAgdGhpcy5tYXJrRm9yUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBBZGQgZXh0cmEgYXR0cmlidXRlcyBsaWtlIGlkJ3MgdG8gdGhlIGNvbXBvbmVudCAqKi9cbiAgQElucHV0KCkgc2V0IGF0dHJpYnV0ZXModmFsdWU6IEFycmF5PE9iamVjdD4gfCBPYmplY3QpIHtcbiAgICB0aGlzLm9wdGlvbnMuYXR0cmlidXRlcyA9IHZhbHVlO1xuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIHRoaXMudG9vbGJhci5zZXR0aW5ncy5hdHRyaWJ1dGVzID0gdmFsdWU7XG4gICAgICB0aGlzLm1hcmtGb3JSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiZWZvcmVhY3RpdmF0ZSBldmVudCBpcyBmaXJlZCB3aGVuZXZlciBhIHRvb2xiYXIgaXMgYWN0aXZhdGVkIGdpdmluZyB0aGUgZXZlbnQgaGFuZGxlciBhIGNoYW5jZVxuICAgKiB0byBcInZldG9cIiB0aGUgdGFiIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAqL1xuICBAT3V0cHV0KCkgYmVmb3JlQWN0aXZhdGVkOiBFdmVudEVtaXR0ZXI8U29ob1Rvb2xiYXJFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPFNvaG9Ub29sYmFyRXZlbnQ+KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBhY3RpdmF0ZWQgZXZlbnQgaXMgaWYgdGhlIGJlZm9yZUFjdGl2YXRlIHN1Y2NlZWRzLlxuICAgKi9cbiAgQE91dHB1dCgpIGFjdGl2YXRlZDogRXZlbnRFbWl0dGVyPFNvaG9Ub29sYmFyRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxTb2hvVG9vbGJhckV2ZW50PigpO1xuXG4gIC8qKlxuICAgKiBUaGUgYWZ0ZXJhY3RpdmF0ZSBldmVudCBpcyBmaXJlZCBhZnRlciB0aGUgdG9vbGJhciBoYXMgYmVlbiBhY3RpdmF0ZWQuXG4gICAqL1xuICBAT3V0cHV0KCkgYWZ0ZXJBY3RpdmF0ZWQ6IEV2ZW50RW1pdHRlcjxTb2hvVG9vbGJhckV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8U29ob1Rvb2xiYXJFdmVudD4oKTtcblxuICAvKipcbiAgICogVGhlIHNlbGVjdGVkIGV2ZW50IGlzIGZpcmVkIHdoZW4gYSB0b29sYmFyIGJ1dHRvbiBoYXMgYmVlbiBjbGlja2VkLlxuICAgKi9cbiAgQE91dHB1dCgpIHNlbGVjdGVkOiBFdmVudEVtaXR0ZXI8U29ob1Rvb2xiYXJTZWxlY3RlZEV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8U29ob1Rvb2xiYXJTZWxlY3RlZEV2ZW50PigpO1xuXG4gIC8vIExhenkgbG9hZCBleGFtcGxlXG4gIC8vIE5vdCBmdWxseSBpbXBsZW1lbnRlZCwgc2VlIFNPSE8tNTAxMVxuICBAT3V0cHV0KCkgbWVudUl0ZW1Nb3VzZU92ZXI6IEV2ZW50RW1pdHRlcjxIVE1MQnV0dG9uRWxlbWVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPEhUTUxCdXR0b25FbGVtZW50PigpO1xuXG4gIHByaXZhdGUgb3B0aW9uczogU29ob1Rvb2xiYXJPcHRpb25zID0ge307XG4gIHByaXZhdGUgalF1ZXJ5RWxlbWVudD86IEpRdWVyeTtcbiAgcHJpdmF0ZSB0b29sYmFyPzogU29ob1Rvb2xiYXJTdGF0aWMgfCBudWxsO1xuICBwcml2YXRlIHRvb2xiYXJDaGFuZ2VkPzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZVxuICApIHsgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICB0aGlzLm9wdGlvbnMubm9TZWFyY2hmaWVsZFJlaW52b2tlID0gdHJ1ZTtcblxuICAgICAgLy8gQXNzaWduIGVsZW1lbnQgdG8gbG9jYWwgdmFyaWFibGVcbiAgICAgIHRoaXMualF1ZXJ5RWxlbWVudCA9IGpRdWVyeSh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQudG9vbGJhcih0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy50b29sYmFyID0gdGhpcy5qUXVlcnlFbGVtZW50LmRhdGEoJ3Rvb2xiYXInKTtcblxuICAgICAgLy8gYmluZCB0byBqcXVlcnkgZXZlbnRzIGFuZCBlbWl0IGFzIGFuZ3VsYXIgZXZlbnRzXG4gICAgICB0aGlzLmpRdWVyeUVsZW1lbnQub24oJ2JlZm9yZWFjdGl2YXRlZCcsIChldmVudDogSlF1ZXJ5LlRyaWdnZXJlZEV2ZW50KSA9PlxuICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gdGhpcy5iZWZvcmVBY3RpdmF0ZWQuZW1pdChldmVudCkpKTtcblxuICAgICAgdGhpcy5qUXVlcnlFbGVtZW50Lm9uKCdhY3RpdmF0ZWQnLCAoZXZlbnQ6IEpRdWVyeS5UcmlnZ2VyZWRFdmVudCkgPT5cbiAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHRoaXMuYWN0aXZhdGVkLmVtaXQoZXZlbnQpKSk7XG5cbiAgICAgIHRoaXMualF1ZXJ5RWxlbWVudC5vbignYWZ0ZXJhY3RpdmF0ZWQnLCAoZXZlbnQ6IEpRdWVyeS5UcmlnZ2VyZWRFdmVudCkgPT5cbiAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHRoaXMuYWZ0ZXJBY3RpdmF0ZWQuZW1pdChldmVudCkpKTtcblxuICAgICAgdGhpcy5qUXVlcnlFbGVtZW50Lm9uKCdzZWxlY3RlZCcsIChldmVudDogSlF1ZXJ5LlRyaWdnZXJlZEV2ZW50LCBpdGVtOiBIVE1MQnV0dG9uRWxlbWVudCB8IEhUTUxBbmNob3JFbGVtZW50KSA9PlxuICAgICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gdGhpcy5zZWxlY3RlZC5lbWl0KHsgZXZlbnQsIGl0ZW0gfSkpKTtcblxuICAgICAgLy8gUmV0dXJucyBvcmlnaW5hbCBidXR0b24gaW5mbyBvbiBtb3VzZW92ZXIgZXZlbnRcbiAgICAgIHRoaXMualF1ZXJ5RWxlbWVudC5maW5kKCcubW9yZScpLm9uKCdtb3VzZW92ZXInLCAnbGkuc3VibWVudScsICgoZXZlbnQ6IEpRdWVyeS5UcmlnZ2VyZWRFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBqUXVlcnkoZXZlbnQudGFyZ2V0KS5kYXRhKCdvcmlnaW5hbEJ1dHRvbicpO1xuICAgICAgICBpZiAob3JpZ2luYWxCdXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB0aGlzLm1lbnVJdGVtTW91c2VPdmVyLmVtaXQob3JpZ2luYWxCdXR0b24pKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgICB0aGlzLnRvb2xiYXIgPSB0aGlzLmpRdWVyeUVsZW1lbnQuZGF0YSgndG9vbGJhcicpO1xuICAgIH0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdDaGVja2VkKCkge1xuICAgIGlmICh0aGlzLnRvb2xiYXJDaGFuZ2VkKSB7XG4gICAgICB0aGlzLnVwZGF0ZWQoKTtcbiAgICAgIHRoaXMudG9vbGJhckNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICAvLyBjYWxsIG91dHNpZGUgdGhlIGFuZ3VsYXIgem9uZSBzbyBjaGFuZ2UgZGV0ZWN0aW9uIGlzbid0IHRyaWdnZXJlZCBieSB0aGUgc29obyBjb21wb25lbnQuXG4gICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMualF1ZXJ5RWxlbWVudCkge1xuICAgICAgICB0aGlzLmpRdWVyeUVsZW1lbnQuZmluZCgnLm1vcmUnKS5vZmYoKTtcbiAgICAgICAgdGhpcy5qUXVlcnlFbGVtZW50Lm9mZigpO1xuICAgICAgICB0aGlzLmpRdWVyeUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50b29sYmFyKSB7XG4gICAgICAgIHRoaXMudG9vbGJhci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudG9vbGJhciA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVkKHNldHRpbmdzPzogYW55KSB7XG4gICAgaWYgKHRoaXMudG9vbGJhcikge1xuICAgICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gdGhpcy50b29sYmFyPy51cGRhdGVkKHNldHRpbmdzKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmVzaXplKCkge1xuICAgIGlmICh0aGlzLnRvb2xiYXIpIHtcbiAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHRoaXMudG9vbGJhcj8uaGFuZGxlUmVzaXplKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbWFya0ZvclJlZnJlc2goKSB7XG4gICAgdGhpcy50b29sYmFyQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAvLyAuLi4gbWFrZSBzdXJlIHRoZSBjaGFuZ2UgZGV0ZWN0b3Iga2lja3MgaW4sIG90aGVyd2lzZSBpZiB0aGUgaW5wdXRzXG4gICAgLy8gd2VyZSBjaGFuZ2UgcHJvZ3JhbW1hdGlhbGx5IHRoZSBjb21wb25lbnQgbWF5IG5vdCBiZSBlbGlnaWJsZSBmb3JcbiAgICAvLyB1cGRhdGluZy5cbiAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICB9XG59XG4iLCI8bmctY29udGVudCBzZWxlY3Q9XCJzb2hvLXRvb2xiYXItdGl0bGVcIj48L25nLWNvbnRlbnQ+XG48bmctY29udGVudCBzZWxlY3Q9XCJzb2hvLXRvb2xiYXItYnV0dG9uLXNldFwiPjwvbmctY29udGVudD5cbjxuZy1jb250ZW50IHNlbGVjdD1cInNvaG8tdG9vbGJhci1tb3JlLWJ1dHRvblwiPjwvbmctY29udGVudD5cbiJdfQ==